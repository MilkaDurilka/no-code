import{r as ft,R as Wo}from"./index-76fb7be0.js";import{g as Qo,c as G}from"./_commonjsHelpers-de833af9.js";var ea={exports:{}},An=typeof Reflect=="object"?Reflect:null,Xu=An&&typeof An.apply=="function"?An.apply:function(r,t,i){return Function.prototype.apply.call(r,t,i)},ii;An&&typeof An.ownKeys=="function"?ii=An.ownKeys:Object.getOwnPropertySymbols?ii=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:ii=function(r){return Object.getOwnPropertyNames(r)};function d_(o){console&&console.warn&&console.warn(o)}var wh=Number.isNaN||function(r){return r!==r};function se(){se.init.call(this)}ea.exports=se;ea.exports.once=y_;se.EventEmitter=se;se.prototype._events=void 0;se.prototype._eventsCount=0;se.prototype._maxListeners=void 0;var Zu=10;function ui(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(se,"defaultMaxListeners",{enumerable:!0,get:function(){return Zu},set:function(o){if(typeof o!="number"||o<0||wh(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");Zu=o}});se.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};se.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||wh(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function bh(o){return o._maxListeners===void 0?se.defaultMaxListeners:o._maxListeners}se.prototype.getMaxListeners=function(){return bh(this)};se.prototype.emit=function(r){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var a=r==="error",u=this._events;if(u!==void 0)a=a&&u.error===void 0;else if(!a)return!1;if(a){var f;if(t.length>0&&(f=t[0]),f instanceof Error)throw f;var c=new Error("Unhandled error."+(f?" ("+f.message+")":""));throw c.context=f,c}var v=u[r];if(v===void 0)return!1;if(typeof v=="function")Xu(v,this,t);else for(var g=v.length,_=Th(v,g),i=0;i<g;++i)Xu(_[i],this,t);return!0};function Eh(o,r,t,i){var a,u,f;if(ui(t),u=o._events,u===void 0?(u=o._events=Object.create(null),o._eventsCount=0):(u.newListener!==void 0&&(o.emit("newListener",r,t.listener?t.listener:t),u=o._events),f=u[r]),f===void 0)f=u[r]=t,++o._eventsCount;else if(typeof f=="function"?f=u[r]=i?[t,f]:[f,t]:i?f.unshift(t):f.push(t),a=bh(o),a>0&&f.length>a&&!f.warned){f.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=o,c.type=r,c.count=f.length,d_(c)}return o}se.prototype.addListener=function(r,t){return Eh(this,r,t,!1)};se.prototype.on=se.prototype.addListener;se.prototype.prependListener=function(r,t){return Eh(this,r,t,!0)};function p_(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function xh(o,r,t){var i={fired:!1,wrapFn:void 0,target:o,type:r,listener:t},a=p_.bind(i);return a.listener=t,i.wrapFn=a,a}se.prototype.once=function(r,t){return ui(t),this.on(r,xh(this,r,t)),this};se.prototype.prependOnceListener=function(r,t){return ui(t),this.prependListener(r,xh(this,r,t)),this};se.prototype.removeListener=function(r,t){var i,a,u,f,c;if(ui(t),a=this._events,a===void 0)return this;if(i=a[r],i===void 0)return this;if(i===t||i.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete a[r],a.removeListener&&this.emit("removeListener",r,i.listener||t));else if(typeof i!="function"){for(u=-1,f=i.length-1;f>=0;f--)if(i[f]===t||i[f].listener===t){c=i[f].listener,u=f;break}if(u<0)return this;u===0?i.shift():g_(i,u),i.length===1&&(a[r]=i[0]),a.removeListener!==void 0&&this.emit("removeListener",r,c||t)}return this};se.prototype.off=se.prototype.removeListener;se.prototype.removeAllListeners=function(r){var t,i,a;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[r]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[r]),this;if(arguments.length===0){var u=Object.keys(i),f;for(a=0;a<u.length;++a)f=u[a],f!=="removeListener"&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[r],typeof t=="function")this.removeListener(r,t);else if(t!==void 0)for(a=t.length-1;a>=0;a--)this.removeListener(r,t[a]);return this};function Ah(o,r,t){var i=o._events;if(i===void 0)return[];var a=i[r];return a===void 0?[]:typeof a=="function"?t?[a.listener||a]:[a]:t?v_(a):Th(a,a.length)}se.prototype.listeners=function(r){return Ah(this,r,!0)};se.prototype.rawListeners=function(r){return Ah(this,r,!1)};se.listenerCount=function(o,r){return typeof o.listenerCount=="function"?o.listenerCount(r):Sh.call(o,r)};se.prototype.listenerCount=Sh;function Sh(o){var r=this._events;if(r!==void 0){var t=r[o];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}se.prototype.eventNames=function(){return this._eventsCount>0?ii(this._events):[]};function Th(o,r){for(var t=new Array(r),i=0;i<r;++i)t[i]=o[i];return t}function g_(o,r){for(;r+1<o.length;r++)o[r]=o[r+1];o.pop()}function v_(o){for(var r=new Array(o.length),t=0;t<r.length;++t)r[t]=o[t].listener||o[t];return r}function y_(o,r){return new Promise(function(t,i){function a(f){o.removeListener(r,u),i(f)}function u(){typeof o.removeListener=="function"&&o.removeListener("error",a),t([].slice.call(arguments))}Ch(o,r,u,{once:!0}),r!=="error"&&__(o,a,{once:!0})})}function __(o,r,t){typeof o.on=="function"&&Ch(o,"error",r,t)}function Ch(o,r,t,i){if(typeof o.on=="function")i.once?o.once(r,t):o.on(r,t);else if(typeof o.addEventListener=="function")o.addEventListener(r,function a(u){i.once&&o.removeEventListener(r,a),t(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}var Lh=ea.exports;function _t(o){if(typeof o!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=o}typeof Symbol<"u"&&(_t.prototype[Symbol.iterator]=function(){return this});_t.of=function(){var o=arguments,r=o.length,t=0;return new _t(function(){return t>=r?{done:!0}:{done:!1,value:o[t++]}})};_t.empty=function(){var o=new _t(function(){return{done:!0}});return o};_t.fromSequence=function(o){var r=0,t=o.length;return new _t(function(){return r>=t?{done:!0}:{done:!1,value:o[r++]}})};_t.is=function(o){return o instanceof _t?!0:typeof o=="object"&&o!==null&&typeof o.next=="function"};var ta=_t;const nt=Qo(ta);var na={};na.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u";na.SYMBOL_SUPPORT=typeof Symbol<"u";var m_=ta,Rh=na,w_=Rh.ARRAY_BUFFER_SUPPORT,b_=Rh.SYMBOL_SUPPORT;function E_(o){return typeof o=="string"||Array.isArray(o)||w_&&ArrayBuffer.isView(o)?m_.fromSequence(o):typeof o!="object"||o===null?null:b_&&typeof o[Symbol.iterator]=="function"?o[Symbol.iterator]():typeof o.next=="function"?o:null}var Dh=function(r){var t=E_(r);if(!t)throw new Error("obliterator: target is not iterable nor a valid iterator.");return t},x_=Dh,A_=function(r,t){for(var i=arguments.length>1?t:1/0,a=i!==1/0?new Array(i):[],u,f=0,c=x_(r);;){if(f===i)return a;if(u=c.next(),u.done)return f!==t&&(a.length=f),a;a[f++]=u.value}};const Nh=Qo(A_);var S_=ta,T_=Dh,C_=function(){var r=arguments,t=null,i=-1;return new S_(function(){var u=null;do{if(t===null){if(i++,i>=r.length)return{done:!0};t=T_(r[i])}if(u=t.next(),u.done===!0){t=null;continue}break}while(!0);return u})};const Rt=Qo(C_);function L_(){const o=arguments[0];for(let r=1,t=arguments.length;r<t;r++)if(arguments[r])for(const i in arguments[r])o[i]=arguments[r][i];return o}let xe=L_;typeof Object.assign=="function"&&(xe=Object.assign);function tt(o,r,t,i){const a=o._nodes.get(r);let u=null;return a&&(i==="mixed"?u=a.out&&a.out[t]||a.undirected&&a.undirected[t]:i==="directed"?u=a.out&&a.out[t]:u=a.undirected&&a.undirected[t]),u}function Ce(o){return typeof o=="object"&&o!==null}function Oh(o){let r;for(r in o)return!1;return!0}function et(o,r,t){Object.defineProperty(o,r,{enumerable:!1,configurable:!1,writable:!0,value:t})}function ht(o,r,t){const i={enumerable:!0,configurable:!0};typeof t=="function"?i.get=t:(i.value=t,i.writable=!1),Object.defineProperty(o,r,i)}function Vu(o){return!(!Ce(o)||o.attributes&&!Array.isArray(o.attributes))}function R_(){let o=Math.floor(Math.random()*256)&255;return()=>o++}class ra extends Error{constructor(r){super(),this.name="GraphError",this.message=r}}class M extends ra{constructor(r){super(r),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,M.prototype.constructor)}}class O extends ra{constructor(r){super(r),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,O.prototype.constructor)}}class H extends ra{constructor(r){super(r),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,H.prototype.constructor)}}function Gh(o,r){this.key=o,this.attributes=r,this.clear()}Gh.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function Fh(o,r){this.key=o,this.attributes=r,this.clear()}Fh.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function Ph(o,r){this.key=o,this.attributes=r,this.clear()}Ph.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function Ln(o,r,t,i,a){this.key=r,this.attributes=a,this.undirected=o,this.source=t,this.target=i}Ln.prototype.attach=function(){let o="out",r="in";this.undirected&&(o=r="undirected");const t=this.source.key,i=this.target.key;this.source[o][i]=this,!(this.undirected&&t===i)&&(this.target[r][t]=this)};Ln.prototype.attachMulti=function(){let o="out",r="in";const t=this.source.key,i=this.target.key;this.undirected&&(o=r="undirected");const a=this.source[o],u=a[i];if(typeof u>"u"){a[i]=this,this.undirected&&t===i||(this.target[r][t]=this);return}u.previous=this,this.next=u,a[i]=this,this.target[r][t]=this};Ln.prototype.detach=function(){const o=this.source.key,r=this.target.key;let t="out",i="in";this.undirected&&(t=i="undirected"),delete this.source[t][r],delete this.target[i][o]};Ln.prototype.detachMulti=function(){const o=this.source.key,r=this.target.key;let t="out",i="in";this.undirected&&(t=i="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[t][r],delete this.target[i][o]):(this.next.previous=void 0,this.source[t][r]=this.next,this.target[i][o]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};const Ih=0,Mh=1,D_=2,$h=3;function Dt(o,r,t,i,a,u,f){let c,v,g,_;if(i=""+i,t===Ih){if(c=o._nodes.get(i),!c)throw new O(`Graph.${r}: could not find the "${i}" node in the graph.`);g=a,_=u}else if(t===$h){if(a=""+a,v=o._edges.get(a),!v)throw new O(`Graph.${r}: could not find the "${a}" edge in the graph.`);const w=v.source.key,x=v.target.key;if(i===w)c=v.target;else if(i===x)c=v.source;else throw new O(`Graph.${r}: the "${i}" node is not attached to the "${a}" edge (${w}, ${x}).`);g=u,_=f}else{if(v=o._edges.get(i),!v)throw new O(`Graph.${r}: could not find the "${i}" edge in the graph.`);t===Mh?c=v.source:c=v.target,g=a,_=u}return[c,g,_]}function N_(o,r,t){o.prototype[r]=function(i,a,u){const[f,c]=Dt(this,r,t,i,a,u);return f.attributes[c]}}function O_(o,r,t){o.prototype[r]=function(i,a){const[u]=Dt(this,r,t,i,a);return u.attributes}}function G_(o,r,t){o.prototype[r]=function(i,a,u){const[f,c]=Dt(this,r,t,i,a,u);return f.attributes.hasOwnProperty(c)}}function F_(o,r,t){o.prototype[r]=function(i,a,u,f){const[c,v,g]=Dt(this,r,t,i,a,u,f);return c.attributes[v]=g,this.emit("nodeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:v}),this}}function P_(o,r,t){o.prototype[r]=function(i,a,u,f){const[c,v,g]=Dt(this,r,t,i,a,u,f);if(typeof g!="function")throw new M(`Graph.${r}: updater should be a function.`);const _=c.attributes,w=g(_[v]);return _[v]=w,this.emit("nodeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:v}),this}}function I_(o,r,t){o.prototype[r]=function(i,a,u){const[f,c]=Dt(this,r,t,i,a,u);return delete f.attributes[c],this.emit("nodeAttributesUpdated",{key:f.key,type:"remove",attributes:f.attributes,name:c}),this}}function M_(o,r,t){o.prototype[r]=function(i,a,u){const[f,c]=Dt(this,r,t,i,a,u);if(!Ce(c))throw new M(`Graph.${r}: provided attributes are not a plain object.`);return f.attributes=c,this.emit("nodeAttributesUpdated",{key:f.key,type:"replace",attributes:f.attributes}),this}}function $_(o,r,t){o.prototype[r]=function(i,a,u){const[f,c]=Dt(this,r,t,i,a,u);if(!Ce(c))throw new M(`Graph.${r}: provided attributes are not a plain object.`);return xe(f.attributes,c),this.emit("nodeAttributesUpdated",{key:f.key,type:"merge",attributes:f.attributes,data:c}),this}}function U_(o,r,t){o.prototype[r]=function(i,a,u){const[f,c]=Dt(this,r,t,i,a,u);if(typeof c!="function")throw new M(`Graph.${r}: provided updater is not a function.`);return f.attributes=c(f.attributes),this.emit("nodeAttributesUpdated",{key:f.key,type:"update",attributes:f.attributes}),this}}const k_=[{name:o=>`get${o}Attribute`,attacher:N_},{name:o=>`get${o}Attributes`,attacher:O_},{name:o=>`has${o}Attribute`,attacher:G_},{name:o=>`set${o}Attribute`,attacher:F_},{name:o=>`update${o}Attribute`,attacher:P_},{name:o=>`remove${o}Attribute`,attacher:I_},{name:o=>`replace${o}Attributes`,attacher:M_},{name:o=>`merge${o}Attributes`,attacher:$_},{name:o=>`update${o}Attributes`,attacher:U_}];function B_(o){k_.forEach(function({name:r,attacher:t}){t(o,r("Node"),Ih),t(o,r("Source"),Mh),t(o,r("Target"),D_),t(o,r("Opposite"),$h)})}function z_(o,r,t){o.prototype[r]=function(i,a){let u;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new H(`Graph.${r}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new H(`Graph.${r}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const f=""+i,c=""+a;if(a=arguments[2],u=tt(this,f,c,t),!u)throw new O(`Graph.${r}: could not find an edge for the given path ("${f}" - "${c}").`)}else{if(t!=="mixed")throw new H(`Graph.${r}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,u=this._edges.get(i),!u)throw new O(`Graph.${r}: could not find the "${i}" edge in the graph.`)}return u.attributes[a]}}function W_(o,r,t){o.prototype[r]=function(i){let a;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new H(`Graph.${r}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new H(`Graph.${r}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+i,f=""+arguments[1];if(a=tt(this,u,f,t),!a)throw new O(`Graph.${r}: could not find an edge for the given path ("${u}" - "${f}").`)}else{if(t!=="mixed")throw new H(`Graph.${r}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,a=this._edges.get(i),!a)throw new O(`Graph.${r}: could not find the "${i}" edge in the graph.`)}return a.attributes}}function H_(o,r,t){o.prototype[r]=function(i,a){let u;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new H(`Graph.${r}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new H(`Graph.${r}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const f=""+i,c=""+a;if(a=arguments[2],u=tt(this,f,c,t),!u)throw new O(`Graph.${r}: could not find an edge for the given path ("${f}" - "${c}").`)}else{if(t!=="mixed")throw new H(`Graph.${r}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,u=this._edges.get(i),!u)throw new O(`Graph.${r}: could not find the "${i}" edge in the graph.`)}return u.attributes.hasOwnProperty(a)}}function K_(o,r,t){o.prototype[r]=function(i,a,u){let f;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new H(`Graph.${r}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new H(`Graph.${r}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+i,v=""+a;if(a=arguments[2],u=arguments[3],f=tt(this,c,v,t),!f)throw new O(`Graph.${r}: could not find an edge for the given path ("${c}" - "${v}").`)}else{if(t!=="mixed")throw new H(`Graph.${r}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,f=this._edges.get(i),!f)throw new O(`Graph.${r}: could not find the "${i}" edge in the graph.`)}return f.attributes[a]=u,this.emit("edgeAttributesUpdated",{key:f.key,type:"set",attributes:f.attributes,name:a}),this}}function q_(o,r,t){o.prototype[r]=function(i,a,u){let f;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new H(`Graph.${r}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new H(`Graph.${r}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+i,v=""+a;if(a=arguments[2],u=arguments[3],f=tt(this,c,v,t),!f)throw new O(`Graph.${r}: could not find an edge for the given path ("${c}" - "${v}").`)}else{if(t!=="mixed")throw new H(`Graph.${r}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,f=this._edges.get(i),!f)throw new O(`Graph.${r}: could not find the "${i}" edge in the graph.`)}if(typeof u!="function")throw new M(`Graph.${r}: updater should be a function.`);return f.attributes[a]=u(f.attributes[a]),this.emit("edgeAttributesUpdated",{key:f.key,type:"set",attributes:f.attributes,name:a}),this}}function Y_(o,r,t){o.prototype[r]=function(i,a){let u;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new H(`Graph.${r}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new H(`Graph.${r}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const f=""+i,c=""+a;if(a=arguments[2],u=tt(this,f,c,t),!u)throw new O(`Graph.${r}: could not find an edge for the given path ("${f}" - "${c}").`)}else{if(t!=="mixed")throw new H(`Graph.${r}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,u=this._edges.get(i),!u)throw new O(`Graph.${r}: could not find the "${i}" edge in the graph.`)}return delete u.attributes[a],this.emit("edgeAttributesUpdated",{key:u.key,type:"remove",attributes:u.attributes,name:a}),this}}function j_(o,r,t){o.prototype[r]=function(i,a){let u;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new H(`Graph.${r}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new H(`Graph.${r}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const f=""+i,c=""+a;if(a=arguments[2],u=tt(this,f,c,t),!u)throw new O(`Graph.${r}: could not find an edge for the given path ("${f}" - "${c}").`)}else{if(t!=="mixed")throw new H(`Graph.${r}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,u=this._edges.get(i),!u)throw new O(`Graph.${r}: could not find the "${i}" edge in the graph.`)}if(!Ce(a))throw new M(`Graph.${r}: provided attributes are not a plain object.`);return u.attributes=a,this.emit("edgeAttributesUpdated",{key:u.key,type:"replace",attributes:u.attributes}),this}}function X_(o,r,t){o.prototype[r]=function(i,a){let u;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new H(`Graph.${r}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new H(`Graph.${r}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const f=""+i,c=""+a;if(a=arguments[2],u=tt(this,f,c,t),!u)throw new O(`Graph.${r}: could not find an edge for the given path ("${f}" - "${c}").`)}else{if(t!=="mixed")throw new H(`Graph.${r}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,u=this._edges.get(i),!u)throw new O(`Graph.${r}: could not find the "${i}" edge in the graph.`)}if(!Ce(a))throw new M(`Graph.${r}: provided attributes are not a plain object.`);return xe(u.attributes,a),this.emit("edgeAttributesUpdated",{key:u.key,type:"merge",attributes:u.attributes,data:a}),this}}function Z_(o,r,t){o.prototype[r]=function(i,a){let u;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new H(`Graph.${r}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new H(`Graph.${r}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const f=""+i,c=""+a;if(a=arguments[2],u=tt(this,f,c,t),!u)throw new O(`Graph.${r}: could not find an edge for the given path ("${f}" - "${c}").`)}else{if(t!=="mixed")throw new H(`Graph.${r}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,u=this._edges.get(i),!u)throw new O(`Graph.${r}: could not find the "${i}" edge in the graph.`)}if(typeof a!="function")throw new M(`Graph.${r}: provided updater is not a function.`);return u.attributes=a(u.attributes),this.emit("edgeAttributesUpdated",{key:u.key,type:"update",attributes:u.attributes}),this}}const V_=[{name:o=>`get${o}Attribute`,attacher:z_},{name:o=>`get${o}Attributes`,attacher:W_},{name:o=>`has${o}Attribute`,attacher:H_},{name:o=>`set${o}Attribute`,attacher:K_},{name:o=>`update${o}Attribute`,attacher:q_},{name:o=>`remove${o}Attribute`,attacher:Y_},{name:o=>`replace${o}Attributes`,attacher:j_},{name:o=>`merge${o}Attributes`,attacher:X_},{name:o=>`update${o}Attributes`,attacher:Z_}];function J_(o){V_.forEach(function({name:r,attacher:t}){t(o,r("Edge"),"mixed"),t(o,r("DirectedEdge"),"directed"),t(o,r("UndirectedEdge"),"undirected")})}const Q_=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function em(o,r,t,i){let a=!1;for(const u in r){if(u===i)continue;const f=r[u];if(a=t(f.key,f.attributes,f.source.key,f.target.key,f.source.attributes,f.target.attributes,f.undirected),o&&a)return f.key}}function tm(o,r,t,i){let a,u,f,c=!1;for(const v in r)if(v!==i){a=r[v];do{if(u=a.source,f=a.target,c=t(a.key,a.attributes,u.key,f.key,u.attributes,f.attributes,a.undirected),o&&c)return a.key;a=a.next}while(a!==void 0)}}function Ho(o,r){const t=Object.keys(o),i=t.length;let a,u=0;return new nt(function(){do if(a)a=a.next;else{if(u>=i)return{done:!0};const c=t[u++];if(c===r){a=void 0;continue}a=o[c]}while(!a);return{done:!1,value:{edge:a.key,attributes:a.attributes,source:a.source.key,target:a.target.key,sourceAttributes:a.source.attributes,targetAttributes:a.target.attributes,undirected:a.undirected}}})}function nm(o,r,t,i){const a=r[t];if(!a)return;const u=a.source,f=a.target;if(i(a.key,a.attributes,u.key,f.key,u.attributes,f.attributes,a.undirected)&&o)return a.key}function rm(o,r,t,i){let a=r[t];if(!a)return;let u=!1;do{if(u=i(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),o&&u)return a.key;a=a.next}while(a!==void 0)}function Ko(o,r){let t=o[r];return t.next!==void 0?new nt(function(){if(!t)return{done:!0};const i={edge:t.key,attributes:t.attributes,source:t.source.key,target:t.target.key,sourceAttributes:t.source.attributes,targetAttributes:t.target.attributes,undirected:t.undirected};return t=t.next,{done:!1,value:i}}):nt.of({edge:t.key,attributes:t.attributes,source:t.source.key,target:t.target.key,sourceAttributes:t.source.attributes,targetAttributes:t.target.attributes,undirected:t.undirected})}function im(o,r){if(o.size===0)return[];if(r==="mixed"||r===o.type)return typeof Array.from=="function"?Array.from(o._edges.keys()):Nh(o._edges.keys(),o._edges.size);const t=r==="undirected"?o.undirectedSize:o.directedSize,i=new Array(t),a=r==="undirected",u=o._edges.values();let f=0,c,v;for(;c=u.next(),c.done!==!0;)v=c.value,v.undirected===a&&(i[f++]=v.key);return i}function Uh(o,r,t,i){if(r.size===0)return;const a=t!=="mixed"&&t!==r.type,u=t==="undirected";let f,c,v=!1;const g=r._edges.values();for(;f=g.next(),f.done!==!0;){if(c=f.value,a&&c.undirected!==u)continue;const{key:_,attributes:w,source:x,target:S}=c;if(v=i(_,w,x.key,S.key,x.attributes,S.attributes,c.undirected),o&&v)return _}}function om(o,r){if(o.size===0)return nt.empty();const t=r!=="mixed"&&r!==o.type,i=r==="undirected",a=o._edges.values();return new nt(function(){let f,c;for(;;){if(f=a.next(),f.done)return f;if(c=f.value,!(t&&c.undirected!==i))break}return{value:{edge:c.key,attributes:c.attributes,source:c.source.key,target:c.target.key,sourceAttributes:c.source.attributes,targetAttributes:c.target.attributes,undirected:c.undirected},done:!1}})}function ia(o,r,t,i,a,u){const f=r?tm:em;let c;if(t!=="undirected"&&(i!=="out"&&(c=f(o,a.in,u),o&&c)||i!=="in"&&(c=f(o,a.out,u,i?void 0:a.key),o&&c))||t!=="directed"&&(c=f(o,a.undirected,u),o&&c))return c}function am(o,r,t,i){const a=[];return ia(!1,o,r,t,i,function(u){a.push(u)}),a}function sm(o,r,t){let i=nt.empty();return o!=="undirected"&&(r!=="out"&&typeof t.in<"u"&&(i=Rt(i,Ho(t.in))),r!=="in"&&typeof t.out<"u"&&(i=Rt(i,Ho(t.out,r?void 0:t.key)))),o!=="directed"&&typeof t.undirected<"u"&&(i=Rt(i,Ho(t.undirected))),i}function oa(o,r,t,i,a,u,f){const c=t?rm:nm;let v;if(r!=="undirected"&&(typeof a.in<"u"&&i!=="out"&&(v=c(o,a.in,u,f),o&&v)||typeof a.out<"u"&&i!=="in"&&(i||a.key!==u)&&(v=c(o,a.out,u,f),o&&v))||r!=="directed"&&typeof a.undirected<"u"&&(v=c(o,a.undirected,u,f),o&&v))return v}function um(o,r,t,i,a){const u=[];return oa(!1,o,r,t,i,a,function(f){u.push(f)}),u}function hm(o,r,t,i){let a=nt.empty();return o!=="undirected"&&(typeof t.in<"u"&&r!=="out"&&i in t.in&&(a=Rt(a,Ko(t.in,i))),typeof t.out<"u"&&r!=="in"&&i in t.out&&(r||t.key!==i)&&(a=Rt(a,Ko(t.out,i)))),o!=="directed"&&typeof t.undirected<"u"&&i in t.undirected&&(a=Rt(a,Ko(t.undirected,i))),a}function fm(o,r){const{name:t,type:i,direction:a}=r;o.prototype[t]=function(u,f){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return[];if(!arguments.length)return im(this,i);if(arguments.length===1){u=""+u;const c=this._nodes.get(u);if(typeof c>"u")throw new O(`Graph.${t}: could not find the "${u}" node in the graph.`);return am(this.multi,i==="mixed"?this.type:i,a,c)}if(arguments.length===2){u=""+u,f=""+f;const c=this._nodes.get(u);if(!c)throw new O(`Graph.${t}:  could not find the "${u}" source node in the graph.`);if(!this._nodes.has(f))throw new O(`Graph.${t}:  could not find the "${f}" target node in the graph.`);return um(i,this.multi,a,c,f)}throw new M(`Graph.${t}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function lm(o,r){const{name:t,type:i,direction:a}=r,u="forEach"+t[0].toUpperCase()+t.slice(1,-1);o.prototype[u]=function(g,_,w){if(!(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)){if(arguments.length===1)return w=g,Uh(!1,this,i,w);if(arguments.length===2){g=""+g,w=_;const x=this._nodes.get(g);if(typeof x>"u")throw new O(`Graph.${u}: could not find the "${g}" node in the graph.`);return ia(!1,this.multi,i==="mixed"?this.type:i,a,x,w)}if(arguments.length===3){g=""+g,_=""+_;const x=this._nodes.get(g);if(!x)throw new O(`Graph.${u}:  could not find the "${g}" source node in the graph.`);if(!this._nodes.has(_))throw new O(`Graph.${u}:  could not find the "${_}" target node in the graph.`);return oa(!1,i,this.multi,a,x,_,w)}throw new M(`Graph.${u}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};const f="map"+t[0].toUpperCase()+t.slice(1);o.prototype[f]=function(){const g=Array.prototype.slice.call(arguments),_=g.pop();let w;if(g.length===0){let x=0;i!=="directed"&&(x+=this.undirectedSize),i!=="undirected"&&(x+=this.directedSize),w=new Array(x);let S=0;g.push((R,N,F,U,B,I,Q)=>{w[S++]=_(R,N,F,U,B,I,Q)})}else w=[],g.push((x,S,R,N,F,U,B)=>{w.push(_(x,S,R,N,F,U,B))});return this[u].apply(this,g),w};const c="filter"+t[0].toUpperCase()+t.slice(1);o.prototype[c]=function(){const g=Array.prototype.slice.call(arguments),_=g.pop(),w=[];return g.push((x,S,R,N,F,U,B)=>{_(x,S,R,N,F,U,B)&&w.push(x)}),this[u].apply(this,g),w};const v="reduce"+t[0].toUpperCase()+t.slice(1);o.prototype[v]=function(){let g=Array.prototype.slice.call(arguments);if(g.length<2||g.length>4)throw new M(`Graph.${v}: invalid number of arguments (expecting 2, 3 or 4 and got ${g.length}).`);if(typeof g[g.length-1]=="function"&&typeof g[g.length-2]!="function")throw new M(`Graph.${v}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let _,w;g.length===2?(_=g[0],w=g[1],g=[]):g.length===3?(_=g[1],w=g[2],g=[g[0]]):g.length===4&&(_=g[2],w=g[3],g=[g[0],g[1]]);let x=w;return g.push((S,R,N,F,U,B,I)=>{x=_(x,S,R,N,F,U,B,I)}),this[u].apply(this,g),x}}function cm(o,r){const{name:t,type:i,direction:a}=r,u="find"+t[0].toUpperCase()+t.slice(1,-1);o.prototype[u]=function(v,g,_){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return!1;if(arguments.length===1)return _=v,Uh(!0,this,i,_);if(arguments.length===2){v=""+v,_=g;const w=this._nodes.get(v);if(typeof w>"u")throw new O(`Graph.${u}: could not find the "${v}" node in the graph.`);return ia(!0,this.multi,i==="mixed"?this.type:i,a,w,_)}if(arguments.length===3){v=""+v,g=""+g;const w=this._nodes.get(v);if(!w)throw new O(`Graph.${u}:  could not find the "${v}" source node in the graph.`);if(!this._nodes.has(g))throw new O(`Graph.${u}:  could not find the "${g}" target node in the graph.`);return oa(!0,i,this.multi,a,w,g,_)}throw new M(`Graph.${u}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};const f="some"+t[0].toUpperCase()+t.slice(1,-1);o.prototype[f]=function(){const v=Array.prototype.slice.call(arguments),g=v.pop();return v.push((w,x,S,R,N,F,U)=>g(w,x,S,R,N,F,U)),!!this[u].apply(this,v)};const c="every"+t[0].toUpperCase()+t.slice(1,-1);o.prototype[c]=function(){const v=Array.prototype.slice.call(arguments),g=v.pop();return v.push((w,x,S,R,N,F,U)=>!g(w,x,S,R,N,F,U)),!this[u].apply(this,v)}}function dm(o,r){const{name:t,type:i,direction:a}=r,u=t.slice(0,-1)+"Entries";o.prototype[u]=function(f,c){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return nt.empty();if(!arguments.length)return om(this,i);if(arguments.length===1){f=""+f;const v=this._nodes.get(f);if(!v)throw new O(`Graph.${u}: could not find the "${f}" node in the graph.`);return sm(i,a,v)}if(arguments.length===2){f=""+f,c=""+c;const v=this._nodes.get(f);if(!v)throw new O(`Graph.${u}:  could not find the "${f}" source node in the graph.`);if(!this._nodes.has(c))throw new O(`Graph.${u}:  could not find the "${c}" target node in the graph.`);return hm(i,a,v,c)}throw new M(`Graph.${u}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function pm(o){Q_.forEach(r=>{fm(o,r),lm(o,r),cm(o,r),dm(o,r)})}const gm=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function hi(){this.A=null,this.B=null}hi.prototype.wrap=function(o){this.A===null?this.A=o:this.B===null&&(this.B=o)};hi.prototype.has=function(o){return this.A!==null&&o in this.A||this.B!==null&&o in this.B};function er(o,r,t,i,a){for(const u in i){const f=i[u],c=f.source,v=f.target,g=c===t?v:c;if(r&&r.has(g.key))continue;const _=a(g.key,g.attributes);if(o&&_)return g.key}}function aa(o,r,t,i,a){if(r!=="mixed"){if(r==="undirected")return er(o,null,i,i.undirected,a);if(typeof t=="string")return er(o,null,i,i[t],a)}const u=new hi;let f;if(r!=="undirected"){if(t!=="out"){if(f=er(o,null,i,i.in,a),o&&f)return f;u.wrap(i.in)}if(t!=="in"){if(f=er(o,u,i,i.out,a),o&&f)return f;u.wrap(i.out)}}if(r!=="directed"&&(f=er(o,u,i,i.undirected,a),o&&f))return f}function vm(o,r,t){if(o!=="mixed"){if(o==="undirected")return Object.keys(t.undirected);if(typeof r=="string")return Object.keys(t[r])}const i=[];return aa(!1,o,r,t,function(a){i.push(a)}),i}function tr(o,r,t){const i=Object.keys(t),a=i.length;let u=0;return new nt(function(){let c=null;do{if(u>=a)return o&&o.wrap(t),{done:!0};const v=t[i[u++]],g=v.source,_=v.target;if(c=g===r?_:g,o&&o.has(c.key)){c=null;continue}}while(c===null);return{done:!1,value:{neighbor:c.key,attributes:c.attributes}}})}function ym(o,r,t){if(o!=="mixed"){if(o==="undirected")return tr(null,t,t.undirected);if(typeof r=="string")return tr(null,t,t[r])}let i=nt.empty();const a=new hi;return o!=="undirected"&&(r!=="out"&&(i=Rt(i,tr(a,t,t.in))),r!=="in"&&(i=Rt(i,tr(a,t,t.out)))),o!=="directed"&&(i=Rt(i,tr(a,t,t.undirected))),i}function _m(o,r){const{name:t,type:i,direction:a}=r;o.prototype[t]=function(u){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return[];u=""+u;const f=this._nodes.get(u);if(typeof f>"u")throw new O(`Graph.${t}: could not find the "${u}" node in the graph.`);return vm(i==="mixed"?this.type:i,a,f)}}function mm(o,r){const{name:t,type:i,direction:a}=r,u="forEach"+t[0].toUpperCase()+t.slice(1,-1);o.prototype[u]=function(g,_){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return;g=""+g;const w=this._nodes.get(g);if(typeof w>"u")throw new O(`Graph.${u}: could not find the "${g}" node in the graph.`);aa(!1,i==="mixed"?this.type:i,a,w,_)};const f="map"+t[0].toUpperCase()+t.slice(1);o.prototype[f]=function(g,_){const w=[];return this[u](g,(x,S)=>{w.push(_(x,S))}),w};const c="filter"+t[0].toUpperCase()+t.slice(1);o.prototype[c]=function(g,_){const w=[];return this[u](g,(x,S)=>{_(x,S)&&w.push(x)}),w};const v="reduce"+t[0].toUpperCase()+t.slice(1);o.prototype[v]=function(g,_,w){if(arguments.length<3)throw new M(`Graph.${v}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let x=w;return this[u](g,(S,R)=>{x=_(x,S,R)}),x}}function wm(o,r){const{name:t,type:i,direction:a}=r,u=t[0].toUpperCase()+t.slice(1,-1),f="find"+u;o.prototype[f]=function(g,_){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return;g=""+g;const w=this._nodes.get(g);if(typeof w>"u")throw new O(`Graph.${f}: could not find the "${g}" node in the graph.`);return aa(!0,i==="mixed"?this.type:i,a,w,_)};const c="some"+u;o.prototype[c]=function(g,_){return!!this[f](g,_)};const v="every"+u;o.prototype[v]=function(g,_){return!this[f](g,(x,S)=>!_(x,S))}}function bm(o,r){const{name:t,type:i,direction:a}=r,u=t.slice(0,-1)+"Entries";o.prototype[u]=function(f){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return nt.empty();f=""+f;const c=this._nodes.get(f);if(typeof c>"u")throw new O(`Graph.${u}: could not find the "${f}" node in the graph.`);return ym(i==="mixed"?this.type:i,a,c)}}function Em(o){gm.forEach(r=>{_m(o,r),mm(o,r),wm(o,r),bm(o,r)})}function Jr(o,r,t,i,a){const u=i._nodes.values(),f=i.type;let c,v,g,_,w,x,S;for(;c=u.next(),c.done!==!0;){let R=!1;if(v=c.value,f!=="undirected"){_=v.out;for(g in _){w=_[g];do{if(x=w.target,R=!0,S=a(v.key,x.key,v.attributes,x.attributes,w.key,w.attributes,w.undirected),o&&S)return w;w=w.next}while(w)}}if(f!=="directed"){_=v.undirected;for(g in _)if(!(r&&v.key>g)){w=_[g];do{if(x=w.target,x.key!==g&&(x=w.source),R=!0,S=a(v.key,x.key,v.attributes,x.attributes,w.key,w.attributes,w.undirected),o&&S)return w;w=w.next}while(w)}}if(t&&!R&&(S=a(v.key,null,v.attributes,null,null,null,null),o&&S))return null}}function xm(o,r){const t={key:o};return Oh(r.attributes)||(t.attributes=xe({},r.attributes)),t}function Am(o,r,t){const i={key:r,source:t.source.key,target:t.target.key};return Oh(t.attributes)||(i.attributes=xe({},t.attributes)),o==="mixed"&&t.undirected&&(i.undirected=!0),i}function Sm(o){if(!Ce(o))throw new M('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in o))throw new M("Graph.import: serialized node is missing its key.");if("attributes"in o&&(!Ce(o.attributes)||o.attributes===null))throw new M("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function Tm(o){if(!Ce(o))throw new M('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in o))throw new M("Graph.import: serialized edge is missing its source.");if(!("target"in o))throw new M("Graph.import: serialized edge is missing its target.");if("attributes"in o&&(!Ce(o.attributes)||o.attributes===null))throw new M("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in o&&typeof o.undirected!="boolean")throw new M("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}const Cm=R_(),Lm=new Set(["directed","undirected","mixed"]),Ju=new Set(["domain","_events","_eventsCount","_maxListeners"]),Rm=[{name:o=>`${o}Edge`,generateKey:!0},{name:o=>`${o}DirectedEdge`,generateKey:!0,type:"directed"},{name:o=>`${o}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:o=>`${o}EdgeWithKey`},{name:o=>`${o}DirectedEdgeWithKey`,type:"directed"},{name:o=>`${o}UndirectedEdgeWithKey`,type:"undirected"}],Dm={allowSelfLoops:!0,multi:!1,type:"mixed"};function Nm(o,r,t){if(t&&!Ce(t))throw new M(`Graph.addNode: invalid attributes. Expecting an object but got "${t}"`);if(r=""+r,t=t||{},o._nodes.has(r))throw new H(`Graph.addNode: the "${r}" node already exist in the graph.`);const i=new o.NodeDataClass(r,t);return o._nodes.set(r,i),o.emit("nodeAdded",{key:r,attributes:t}),i}function Qu(o,r,t){const i=new o.NodeDataClass(r,t);return o._nodes.set(r,i),o.emit("nodeAdded",{key:r,attributes:t}),i}function kh(o,r,t,i,a,u,f,c){if(!i&&o.type==="undirected")throw new H(`Graph.${r}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(i&&o.type==="directed")throw new H(`Graph.${r}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(c&&!Ce(c))throw new M(`Graph.${r}: invalid attributes. Expecting an object but got "${c}"`);if(u=""+u,f=""+f,c=c||{},!o.allowSelfLoops&&u===f)throw new H(`Graph.${r}: source & target are the same ("${u}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);const v=o._nodes.get(u),g=o._nodes.get(f);if(!v)throw new O(`Graph.${r}: source node "${u}" not found.`);if(!g)throw new O(`Graph.${r}: target node "${f}" not found.`);const _={key:null,undirected:i,source:u,target:f,attributes:c};if(t)a=o._edgeKeyGenerator();else if(a=""+a,o._edges.has(a))throw new H(`Graph.${r}: the "${a}" edge already exists in the graph.`);if(!o.multi&&(i?typeof v.undirected[f]<"u":typeof v.out[f]<"u"))throw new H(`Graph.${r}: an edge linking "${u}" to "${f}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);const w=new Ln(i,a,v,g,c);o._edges.set(a,w);const x=u===f;return i?(v.undirectedDegree++,g.undirectedDegree++,x&&(v.undirectedLoops++,o._undirectedSelfLoopCount++)):(v.outDegree++,g.inDegree++,x&&(v.directedLoops++,o._directedSelfLoopCount++)),o.multi?w.attachMulti():w.attach(),i?o._undirectedSize++:o._directedSize++,_.key=a,o.emit("edgeAdded",_),a}function Om(o,r,t,i,a,u,f,c,v){if(!i&&o.type==="undirected")throw new H(`Graph.${r}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(i&&o.type==="directed")throw new H(`Graph.${r}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(c){if(v){if(typeof c!="function")throw new M(`Graph.${r}: invalid updater function. Expecting a function but got "${c}"`)}else if(!Ce(c))throw new M(`Graph.${r}: invalid attributes. Expecting an object but got "${c}"`)}u=""+u,f=""+f;let g;if(v&&(g=c,c=void 0),!o.allowSelfLoops&&u===f)throw new H(`Graph.${r}: source & target are the same ("${u}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let _=o._nodes.get(u),w=o._nodes.get(f),x,S;if(!t&&(x=o._edges.get(a),x)){if((x.source.key!==u||x.target.key!==f)&&(!i||x.source.key!==f||x.target.key!==u))throw new H(`Graph.${r}: inconsistency detected when attempting to merge the "${a}" edge with "${u}" source & "${f}" target vs. ("${x.source.key}", "${x.target.key}").`);S=x}if(!S&&!o.multi&&_&&(S=i?_.undirected[f]:_.out[f]),S){const B=[S.key,!1,!1,!1];if(v?!g:!c)return B;if(v){const I=S.attributes;S.attributes=g(I),o.emit("edgeAttributesUpdated",{type:"replace",key:S.key,attributes:S.attributes})}else xe(S.attributes,c),o.emit("edgeAttributesUpdated",{type:"merge",key:S.key,attributes:S.attributes,data:c});return B}c=c||{},v&&g&&(c=g(c));const R={key:null,undirected:i,source:u,target:f,attributes:c};if(t)a=o._edgeKeyGenerator();else if(a=""+a,o._edges.has(a))throw new H(`Graph.${r}: the "${a}" edge already exists in the graph.`);let N=!1,F=!1;_||(_=Qu(o,u,{}),N=!0,u===f&&(w=_,F=!0)),w||(w=Qu(o,f,{}),F=!0),x=new Ln(i,a,_,w,c),o._edges.set(a,x);const U=u===f;return i?(_.undirectedDegree++,w.undirectedDegree++,U&&(_.undirectedLoops++,o._undirectedSelfLoopCount++)):(_.outDegree++,w.inDegree++,U&&(_.directedLoops++,o._directedSelfLoopCount++)),o.multi?x.attachMulti():x.attach(),i?o._undirectedSize++:o._directedSize++,R.key=a,o.emit("edgeAdded",R),[a,!0,N,F]}function xn(o,r){o._edges.delete(r.key);const{source:t,target:i,attributes:a}=r,u=r.undirected,f=t===i;u?(t.undirectedDegree--,i.undirectedDegree--,f&&(t.undirectedLoops--,o._undirectedSelfLoopCount--)):(t.outDegree--,i.inDegree--,f&&(t.directedLoops--,o._directedSelfLoopCount--)),o.multi?r.detachMulti():r.detach(),u?o._undirectedSize--:o._directedSize--,o.emit("edgeDropped",{key:r.key,attributes:a,source:t.key,target:i.key,undirected:u})}class ue extends Lh.EventEmitter{constructor(r){if(super(),r=xe({},Dm,r),typeof r.multi!="boolean")throw new M(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${r.multi}".`);if(!Lm.has(r.type))throw new M(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${r.type}".`);if(typeof r.allowSelfLoops!="boolean")throw new M(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${r.allowSelfLoops}".`);const t=r.type==="mixed"?Gh:r.type==="directed"?Fh:Ph;et(this,"NodeDataClass",t);const i="geid_"+Cm()+"_";let a=0;const u=()=>{let f;do f=i+a++;while(this._edges.has(f));return f};et(this,"_attributes",{}),et(this,"_nodes",new Map),et(this,"_edges",new Map),et(this,"_directedSize",0),et(this,"_undirectedSize",0),et(this,"_directedSelfLoopCount",0),et(this,"_undirectedSelfLoopCount",0),et(this,"_edgeKeyGenerator",u),et(this,"_options",r),Ju.forEach(f=>et(this,f,this[f])),ht(this,"order",()=>this._nodes.size),ht(this,"size",()=>this._edges.size),ht(this,"directedSize",()=>this._directedSize),ht(this,"undirectedSize",()=>this._undirectedSize),ht(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),ht(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),ht(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),ht(this,"multi",this._options.multi),ht(this,"type",this._options.type),ht(this,"allowSelfLoops",this._options.allowSelfLoops),ht(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(r){return this._nodes.has(""+r)}hasDirectedEdge(r,t){if(this.type==="undirected")return!1;if(arguments.length===1){const i=""+r,a=this._edges.get(i);return!!a&&!a.undirected}else if(arguments.length===2){r=""+r,t=""+t;const i=this._nodes.get(r);return i?i.out.hasOwnProperty(t):!1}throw new M(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(r,t){if(this.type==="directed")return!1;if(arguments.length===1){const i=""+r,a=this._edges.get(i);return!!a&&a.undirected}else if(arguments.length===2){r=""+r,t=""+t;const i=this._nodes.get(r);return i?i.undirected.hasOwnProperty(t):!1}throw new M(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(r,t){if(arguments.length===1){const i=""+r;return this._edges.has(i)}else if(arguments.length===2){r=""+r,t=""+t;const i=this._nodes.get(r);return i?typeof i.out<"u"&&i.out.hasOwnProperty(t)||typeof i.undirected<"u"&&i.undirected.hasOwnProperty(t):!1}throw new M(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(r,t){if(this.type==="undirected")return;if(r=""+r,t=""+t,this.multi)throw new H("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const i=this._nodes.get(r);if(!i)throw new O(`Graph.directedEdge: could not find the "${r}" source node in the graph.`);if(!this._nodes.has(t))throw new O(`Graph.directedEdge: could not find the "${t}" target node in the graph.`);const a=i.out&&i.out[t]||void 0;if(a)return a.key}undirectedEdge(r,t){if(this.type==="directed")return;if(r=""+r,t=""+t,this.multi)throw new H("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const i=this._nodes.get(r);if(!i)throw new O(`Graph.undirectedEdge: could not find the "${r}" source node in the graph.`);if(!this._nodes.has(t))throw new O(`Graph.undirectedEdge: could not find the "${t}" target node in the graph.`);const a=i.undirected&&i.undirected[t]||void 0;if(a)return a.key}edge(r,t){if(this.multi)throw new H("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");r=""+r,t=""+t;const i=this._nodes.get(r);if(!i)throw new O(`Graph.edge: could not find the "${r}" source node in the graph.`);if(!this._nodes.has(t))throw new O(`Graph.edge: could not find the "${t}" target node in the graph.`);const a=i.out&&i.out[t]||i.undirected&&i.undirected[t]||void 0;if(a)return a.key}areDirectedNeighbors(r,t){r=""+r,t=""+t;const i=this._nodes.get(r);if(!i)throw new O(`Graph.areDirectedNeighbors: could not find the "${r}" node in the graph.`);return this.type==="undirected"?!1:t in i.in||t in i.out}areOutNeighbors(r,t){r=""+r,t=""+t;const i=this._nodes.get(r);if(!i)throw new O(`Graph.areOutNeighbors: could not find the "${r}" node in the graph.`);return this.type==="undirected"?!1:t in i.out}areInNeighbors(r,t){r=""+r,t=""+t;const i=this._nodes.get(r);if(!i)throw new O(`Graph.areInNeighbors: could not find the "${r}" node in the graph.`);return this.type==="undirected"?!1:t in i.in}areUndirectedNeighbors(r,t){r=""+r,t=""+t;const i=this._nodes.get(r);if(!i)throw new O(`Graph.areUndirectedNeighbors: could not find the "${r}" node in the graph.`);return this.type==="directed"?!1:t in i.undirected}areNeighbors(r,t){r=""+r,t=""+t;const i=this._nodes.get(r);if(!i)throw new O(`Graph.areNeighbors: could not find the "${r}" node in the graph.`);return this.type!=="undirected"&&(t in i.in||t in i.out)||this.type!=="directed"&&t in i.undirected}areInboundNeighbors(r,t){r=""+r,t=""+t;const i=this._nodes.get(r);if(!i)throw new O(`Graph.areInboundNeighbors: could not find the "${r}" node in the graph.`);return this.type!=="undirected"&&t in i.in||this.type!=="directed"&&t in i.undirected}areOutboundNeighbors(r,t){r=""+r,t=""+t;const i=this._nodes.get(r);if(!i)throw new O(`Graph.areOutboundNeighbors: could not find the "${r}" node in the graph.`);return this.type!=="undirected"&&t in i.out||this.type!=="directed"&&t in i.undirected}inDegree(r){r=""+r;const t=this._nodes.get(r);if(!t)throw new O(`Graph.inDegree: could not find the "${r}" node in the graph.`);return this.type==="undirected"?0:t.inDegree}outDegree(r){r=""+r;const t=this._nodes.get(r);if(!t)throw new O(`Graph.outDegree: could not find the "${r}" node in the graph.`);return this.type==="undirected"?0:t.outDegree}directedDegree(r){r=""+r;const t=this._nodes.get(r);if(!t)throw new O(`Graph.directedDegree: could not find the "${r}" node in the graph.`);return this.type==="undirected"?0:t.inDegree+t.outDegree}undirectedDegree(r){r=""+r;const t=this._nodes.get(r);if(!t)throw new O(`Graph.undirectedDegree: could not find the "${r}" node in the graph.`);return this.type==="directed"?0:t.undirectedDegree}inboundDegree(r){r=""+r;const t=this._nodes.get(r);if(!t)throw new O(`Graph.inboundDegree: could not find the "${r}" node in the graph.`);let i=0;return this.type!=="directed"&&(i+=t.undirectedDegree),this.type!=="undirected"&&(i+=t.inDegree),i}outboundDegree(r){r=""+r;const t=this._nodes.get(r);if(!t)throw new O(`Graph.outboundDegree: could not find the "${r}" node in the graph.`);let i=0;return this.type!=="directed"&&(i+=t.undirectedDegree),this.type!=="undirected"&&(i+=t.outDegree),i}degree(r){r=""+r;const t=this._nodes.get(r);if(!t)throw new O(`Graph.degree: could not find the "${r}" node in the graph.`);let i=0;return this.type!=="directed"&&(i+=t.undirectedDegree),this.type!=="undirected"&&(i+=t.inDegree+t.outDegree),i}inDegreeWithoutSelfLoops(r){r=""+r;const t=this._nodes.get(r);if(!t)throw new O(`Graph.inDegreeWithoutSelfLoops: could not find the "${r}" node in the graph.`);return this.type==="undirected"?0:t.inDegree-t.directedLoops}outDegreeWithoutSelfLoops(r){r=""+r;const t=this._nodes.get(r);if(!t)throw new O(`Graph.outDegreeWithoutSelfLoops: could not find the "${r}" node in the graph.`);return this.type==="undirected"?0:t.outDegree-t.directedLoops}directedDegreeWithoutSelfLoops(r){r=""+r;const t=this._nodes.get(r);if(!t)throw new O(`Graph.directedDegreeWithoutSelfLoops: could not find the "${r}" node in the graph.`);return this.type==="undirected"?0:t.inDegree+t.outDegree-t.directedLoops*2}undirectedDegreeWithoutSelfLoops(r){r=""+r;const t=this._nodes.get(r);if(!t)throw new O(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${r}" node in the graph.`);return this.type==="directed"?0:t.undirectedDegree-t.undirectedLoops*2}inboundDegreeWithoutSelfLoops(r){r=""+r;const t=this._nodes.get(r);if(!t)throw new O(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${r}" node in the graph.`);let i=0,a=0;return this.type!=="directed"&&(i+=t.undirectedDegree,a+=t.undirectedLoops*2),this.type!=="undirected"&&(i+=t.inDegree,a+=t.directedLoops),i-a}outboundDegreeWithoutSelfLoops(r){r=""+r;const t=this._nodes.get(r);if(!t)throw new O(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${r}" node in the graph.`);let i=0,a=0;return this.type!=="directed"&&(i+=t.undirectedDegree,a+=t.undirectedLoops*2),this.type!=="undirected"&&(i+=t.outDegree,a+=t.directedLoops),i-a}degreeWithoutSelfLoops(r){r=""+r;const t=this._nodes.get(r);if(!t)throw new O(`Graph.degreeWithoutSelfLoops: could not find the "${r}" node in the graph.`);let i=0,a=0;return this.type!=="directed"&&(i+=t.undirectedDegree,a+=t.undirectedLoops*2),this.type!=="undirected"&&(i+=t.inDegree+t.outDegree,a+=t.directedLoops*2),i-a}source(r){r=""+r;const t=this._edges.get(r);if(!t)throw new O(`Graph.source: could not find the "${r}" edge in the graph.`);return t.source.key}target(r){r=""+r;const t=this._edges.get(r);if(!t)throw new O(`Graph.target: could not find the "${r}" edge in the graph.`);return t.target.key}extremities(r){r=""+r;const t=this._edges.get(r);if(!t)throw new O(`Graph.extremities: could not find the "${r}" edge in the graph.`);return[t.source.key,t.target.key]}opposite(r,t){r=""+r,t=""+t;const i=this._edges.get(t);if(!i)throw new O(`Graph.opposite: could not find the "${t}" edge in the graph.`);const a=i.source.key,u=i.target.key;if(r===a)return u;if(r===u)return a;throw new O(`Graph.opposite: the "${r}" node is not attached to the "${t}" edge (${a}, ${u}).`)}hasExtremity(r,t){r=""+r,t=""+t;const i=this._edges.get(r);if(!i)throw new O(`Graph.hasExtremity: could not find the "${r}" edge in the graph.`);return i.source.key===t||i.target.key===t}isUndirected(r){r=""+r;const t=this._edges.get(r);if(!t)throw new O(`Graph.isUndirected: could not find the "${r}" edge in the graph.`);return t.undirected}isDirected(r){r=""+r;const t=this._edges.get(r);if(!t)throw new O(`Graph.isDirected: could not find the "${r}" edge in the graph.`);return!t.undirected}isSelfLoop(r){r=""+r;const t=this._edges.get(r);if(!t)throw new O(`Graph.isSelfLoop: could not find the "${r}" edge in the graph.`);return t.source===t.target}addNode(r,t){return Nm(this,r,t).key}mergeNode(r,t){if(t&&!Ce(t))throw new M(`Graph.mergeNode: invalid attributes. Expecting an object but got "${t}"`);r=""+r,t=t||{};let i=this._nodes.get(r);return i?(t&&(xe(i.attributes,t),this.emit("nodeAttributesUpdated",{type:"merge",key:r,attributes:i.attributes,data:t})),[r,!1]):(i=new this.NodeDataClass(r,t),this._nodes.set(r,i),this.emit("nodeAdded",{key:r,attributes:t}),[r,!0])}updateNode(r,t){if(t&&typeof t!="function")throw new M(`Graph.updateNode: invalid updater function. Expecting a function but got "${t}"`);r=""+r;let i=this._nodes.get(r);if(i){if(t){const u=i.attributes;i.attributes=t(u),this.emit("nodeAttributesUpdated",{type:"replace",key:r,attributes:i.attributes})}return[r,!1]}const a=t?t({}):{};return i=new this.NodeDataClass(r,a),this._nodes.set(r,i),this.emit("nodeAdded",{key:r,attributes:a}),[r,!0]}dropNode(r){r=""+r;const t=this._nodes.get(r);if(!t)throw new O(`Graph.dropNode: could not find the "${r}" node in the graph.`);let i;if(this.type!=="undirected"){for(const a in t.out){i=t.out[a];do xn(this,i),i=i.next;while(i)}for(const a in t.in){i=t.in[a];do xn(this,i),i=i.next;while(i)}}if(this.type!=="directed")for(const a in t.undirected){i=t.undirected[a];do xn(this,i),i=i.next;while(i)}this._nodes.delete(r),this.emit("nodeDropped",{key:r,attributes:t.attributes})}dropEdge(r){let t;if(arguments.length>1){const i=""+arguments[0],a=""+arguments[1];if(t=tt(this,i,a,this.type),!t)throw new O(`Graph.dropEdge: could not find the "${i}" -> "${a}" edge in the graph.`)}else if(r=""+r,t=this._edges.get(r),!t)throw new O(`Graph.dropEdge: could not find the "${r}" edge in the graph.`);return xn(this,t),this}dropDirectedEdge(r,t){if(arguments.length<2)throw new H("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new H("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");r=""+r,t=""+t;const i=tt(this,r,t,"directed");if(!i)throw new O(`Graph.dropDirectedEdge: could not find a "${r}" -> "${t}" edge in the graph.`);return xn(this,i),this}dropUndirectedEdge(r,t){if(arguments.length<2)throw new H("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new H("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const i=tt(this,r,t,"undirected");if(!i)throw new O(`Graph.dropUndirectedEdge: could not find a "${r}" -> "${t}" edge in the graph.`);return xn(this,i),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const r=this._nodes.values();let t;for(;t=r.next(),t.done!==!0;)t.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(r){return this._attributes[r]}getAttributes(){return this._attributes}hasAttribute(r){return this._attributes.hasOwnProperty(r)}setAttribute(r,t){return this._attributes[r]=t,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:r}),this}updateAttribute(r,t){if(typeof t!="function")throw new M("Graph.updateAttribute: updater should be a function.");const i=this._attributes[r];return this._attributes[r]=t(i),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:r}),this}removeAttribute(r){return delete this._attributes[r],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:r}),this}replaceAttributes(r){if(!Ce(r))throw new M("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=r,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(r){if(!Ce(r))throw new M("Graph.mergeAttributes: provided attributes are not a plain object.");return xe(this._attributes,r),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:r}),this}updateAttributes(r){if(typeof r!="function")throw new M("Graph.updateAttributes: provided updater is not a function.");return this._attributes=r(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(r,t){if(typeof r!="function")throw new M("Graph.updateEachNodeAttributes: expecting an updater function.");if(t&&!Vu(t))throw new M("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const i=this._nodes.values();let a,u;for(;a=i.next(),a.done!==!0;)u=a.value,u.attributes=r(u.key,u.attributes);this.emit("eachNodeAttributesUpdated",{hints:t||null})}updateEachEdgeAttributes(r,t){if(typeof r!="function")throw new M("Graph.updateEachEdgeAttributes: expecting an updater function.");if(t&&!Vu(t))throw new M("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const i=this._edges.values();let a,u,f,c;for(;a=i.next(),a.done!==!0;)u=a.value,f=u.source,c=u.target,u.attributes=r(u.key,u.attributes,f.key,c.key,f.attributes,c.attributes,u.undirected);this.emit("eachEdgeAttributesUpdated",{hints:t||null})}forEachAdjacencyEntry(r){if(typeof r!="function")throw new M("Graph.forEachAdjacencyEntry: expecting a callback.");Jr(!1,!1,!1,this,r)}forEachAdjacencyEntryWithOrphans(r){if(typeof r!="function")throw new M("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");Jr(!1,!1,!0,this,r)}forEachAssymetricAdjacencyEntry(r){if(typeof r!="function")throw new M("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");Jr(!1,!0,!1,this,r)}forEachAssymetricAdjacencyEntryWithOrphans(r){if(typeof r!="function")throw new M("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");Jr(!1,!0,!0,this,r)}nodes(){return typeof Array.from=="function"?Array.from(this._nodes.keys()):Nh(this._nodes.keys(),this._nodes.size)}forEachNode(r){if(typeof r!="function")throw new M("Graph.forEachNode: expecting a callback.");const t=this._nodes.values();let i,a;for(;i=t.next(),i.done!==!0;)a=i.value,r(a.key,a.attributes)}findNode(r){if(typeof r!="function")throw new M("Graph.findNode: expecting a callback.");const t=this._nodes.values();let i,a;for(;i=t.next(),i.done!==!0;)if(a=i.value,r(a.key,a.attributes))return a.key}mapNodes(r){if(typeof r!="function")throw new M("Graph.mapNode: expecting a callback.");const t=this._nodes.values();let i,a;const u=new Array(this.order);let f=0;for(;i=t.next(),i.done!==!0;)a=i.value,u[f++]=r(a.key,a.attributes);return u}someNode(r){if(typeof r!="function")throw new M("Graph.someNode: expecting a callback.");const t=this._nodes.values();let i,a;for(;i=t.next(),i.done!==!0;)if(a=i.value,r(a.key,a.attributes))return!0;return!1}everyNode(r){if(typeof r!="function")throw new M("Graph.everyNode: expecting a callback.");const t=this._nodes.values();let i,a;for(;i=t.next(),i.done!==!0;)if(a=i.value,!r(a.key,a.attributes))return!1;return!0}filterNodes(r){if(typeof r!="function")throw new M("Graph.filterNodes: expecting a callback.");const t=this._nodes.values();let i,a;const u=[];for(;i=t.next(),i.done!==!0;)a=i.value,r(a.key,a.attributes)&&u.push(a.key);return u}reduceNodes(r,t){if(typeof r!="function")throw new M("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new M("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let i=t;const a=this._nodes.values();let u,f;for(;u=a.next(),u.done!==!0;)f=u.value,i=r(i,f.key,f.attributes);return i}nodeEntries(){const r=this._nodes.values();return new nt(()=>{const t=r.next();if(t.done)return t;const i=t.value;return{value:{node:i.key,attributes:i.attributes},done:!1}})}export(){const r=new Array(this._nodes.size);let t=0;this._nodes.forEach((a,u)=>{r[t++]=xm(u,a)});const i=new Array(this._edges.size);return t=0,this._edges.forEach((a,u)=>{i[t++]=Am(this.type,u,a)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:r,edges:i}}import(r,t=!1){if(r instanceof ue)return r.forEachNode((v,g)=>{t?this.mergeNode(v,g):this.addNode(v,g)}),r.forEachEdge((v,g,_,w,x,S,R)=>{t?R?this.mergeUndirectedEdgeWithKey(v,_,w,g):this.mergeDirectedEdgeWithKey(v,_,w,g):R?this.addUndirectedEdgeWithKey(v,_,w,g):this.addDirectedEdgeWithKey(v,_,w,g)}),this;if(!Ce(r))throw new M("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(r.attributes){if(!Ce(r.attributes))throw new M("Graph.import: invalid attributes. Expecting a plain object.");t?this.mergeAttributes(r.attributes):this.replaceAttributes(r.attributes)}let i,a,u,f,c;if(r.nodes){if(u=r.nodes,!Array.isArray(u))throw new M("Graph.import: invalid nodes. Expecting an array.");for(i=0,a=u.length;i<a;i++){f=u[i],Sm(f);const{key:v,attributes:g}=f;t?this.mergeNode(v,g):this.addNode(v,g)}}if(r.edges){let v=!1;if(this.type==="undirected"&&(v=!0),u=r.edges,!Array.isArray(u))throw new M("Graph.import: invalid edges. Expecting an array.");for(i=0,a=u.length;i<a;i++){c=u[i],Tm(c);const{source:g,target:_,attributes:w,undirected:x=v}=c;let S;"key"in c?(S=t?x?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:x?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,S.call(this,c.key,g,_,w)):(S=t?x?this.mergeUndirectedEdge:this.mergeDirectedEdge:x?this.addUndirectedEdge:this.addDirectedEdge,S.call(this,g,_,w))}}return this}nullCopy(r){const t=new ue(xe({},this._options,r));return t.replaceAttributes(xe({},this.getAttributes())),t}emptyCopy(r){const t=this.nullCopy(r);return this._nodes.forEach((i,a)=>{const u=xe({},i.attributes);i=new t.NodeDataClass(a,u),t._nodes.set(a,i)}),t}copy(r){if(r=r||{},typeof r.type=="string"&&r.type!==this.type&&r.type!=="mixed")throw new H(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${r.type}" because this would mean losing information about the current graph.`);if(typeof r.multi=="boolean"&&r.multi!==this.multi&&r.multi!==!0)throw new H("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof r.allowSelfLoops=="boolean"&&r.allowSelfLoops!==this.allowSelfLoops&&r.allowSelfLoops!==!0)throw new H("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const t=this.emptyCopy(r),i=this._edges.values();let a,u;for(;a=i.next(),a.done!==!0;)u=a.value,kh(t,"copy",!1,u.undirected,u.key,u.source.key,u.target.key,xe({},u.attributes));return t}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const r={};this._nodes.forEach((u,f)=>{r[f]=u.attributes});const t={},i={};this._edges.forEach((u,f)=>{const c=u.undirected?"--":"->";let v="",g=u.source.key,_=u.target.key,w;u.undirected&&g>_&&(w=g,g=_,_=w);const x=`(${g})${c}(${_})`;f.startsWith("geid_")?this.multi&&(typeof i[x]>"u"?i[x]=0:i[x]++,v+=`${i[x]}. `):v+=`[${f}]: `,v+=x,t[v]=u.attributes});const a={};for(const u in this)this.hasOwnProperty(u)&&!Ju.has(u)&&typeof this[u]!="function"&&typeof u!="symbol"&&(a[u]=this[u]);return a.attributes=this._attributes,a.nodes=r,a.edges=t,et(a,"constructor",this.constructor),a}}typeof Symbol<"u"&&(ue.prototype[Symbol.for("nodejs.util.inspect.custom")]=ue.prototype.inspect);Rm.forEach(o=>{["add","merge","update"].forEach(r=>{const t=o.name(r),i=r==="add"?kh:Om;o.generateKey?ue.prototype[t]=function(a,u,f){return i(this,t,!0,(o.type||this.type)==="undirected",null,a,u,f,r==="update")}:ue.prototype[t]=function(a,u,f,c){return i(this,t,!1,(o.type||this.type)==="undirected",a,u,f,c,r==="update")}})});B_(ue);J_(ue);pm(ue);Em(ue);class Bh extends ue{constructor(r){const t=xe({type:"directed"},r);if("multi"in t&&t.multi!==!1)throw new M("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(t.type!=="directed")throw new M('DirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}}class zh extends ue{constructor(r){const t=xe({type:"undirected"},r);if("multi"in t&&t.multi!==!1)throw new M("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(t.type!=="undirected")throw new M('UndirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}}class Wh extends ue{constructor(r){const t=xe({multi:!0},r);if("multi"in t&&t.multi!==!0)throw new M("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(t)}}class Hh extends ue{constructor(r){const t=xe({type:"directed",multi:!0},r);if("multi"in t&&t.multi!==!0)throw new M("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(t.type!=="directed")throw new M('MultiDirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}}class Kh extends ue{constructor(r){const t=xe({type:"undirected",multi:!0},r);if("multi"in t&&t.multi!==!0)throw new M("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(t.type!=="undirected")throw new M('MultiUndirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}}function Rn(o){o.from=function(r,t){const i=xe({},r.options,t),a=new o(i);return a.import(r),a}}Rn(ue);Rn(Bh);Rn(zh);Rn(Wh);Rn(Hh);Rn(Kh);ue.Graph=ue;ue.DirectedGraph=Bh;ue.UndirectedGraph=zh;ue.MultiGraph=Wh;ue.MultiDirectedGraph=Hh;ue.MultiUndirectedGraph=Kh;ue.InvalidArgumentsGraphError=M;ue.NotFoundGraphError=O;ue.UsageGraphError=H;var oi={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */oi.exports;(function(o,r){(function(){var t,i="4.17.21",a=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",c="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",g=500,_="__lodash_placeholder__",w=1,x=2,S=4,R=1,N=2,F=1,U=2,B=4,I=8,Q=16,ne=32,ve=64,_e=128,Nt=256,Ot=512,ir=30,Yt="...",_i=800,mi=16,Nn=1,an=2,wi=3,lt=1/0,Gt=9007199254740991,Af=17976931348623157e292,or=0/0,ct=4294967295,Sf=ct-1,Tf=ct>>>1,Cf=[["ary",_e],["bind",F],["bindKey",U],["curry",I],["curryRight",Q],["flip",Ot],["partial",ne],["partialRight",ve],["rearg",Nt]],sn="[object Arguments]",ar="[object Array]",Lf="[object AsyncFunction]",On="[object Boolean]",Gn="[object Date]",Rf="[object DOMException]",sr="[object Error]",ur="[object Function]",_a="[object GeneratorFunction]",rt="[object Map]",Fn="[object Number]",Df="[object Null]",mt="[object Object]",ma="[object Promise]",Nf="[object Proxy]",Pn="[object RegExp]",it="[object Set]",In="[object String]",hr="[object Symbol]",Of="[object Undefined]",Mn="[object WeakMap]",Gf="[object WeakSet]",$n="[object ArrayBuffer]",un="[object DataView]",bi="[object Float32Array]",Ei="[object Float64Array]",xi="[object Int8Array]",Ai="[object Int16Array]",Si="[object Int32Array]",Ti="[object Uint8Array]",Ci="[object Uint8ClampedArray]",Li="[object Uint16Array]",Ri="[object Uint32Array]",Ff=/\b__p \+= '';/g,Pf=/\b(__p \+=) '' \+/g,If=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wa=/&(?:amp|lt|gt|quot|#39);/g,ba=/[&<>"']/g,Mf=RegExp(wa.source),$f=RegExp(ba.source),Uf=/<%-([\s\S]+?)%>/g,kf=/<%([\s\S]+?)%>/g,Ea=/<%=([\s\S]+?)%>/g,Bf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zf=/^\w*$/,Wf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Di=/[\\^$.*+?()[\]{}|]/g,Hf=RegExp(Di.source),Ni=/^\s+/,Kf=/\s/,qf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yf=/\{\n\/\* \[wrapped with (.+)\] \*/,jf=/,? & /,Xf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Zf=/[()=,{}\[\]\/\s]/,Vf=/\\(\\)?/g,Jf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xa=/\w*$/,Qf=/^[-+]0x[0-9a-f]+$/i,el=/^0b[01]+$/i,tl=/^\[object .+?Constructor\]$/,nl=/^0o[0-7]+$/i,rl=/^(?:0|[1-9]\d*)$/,il=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,fr=/($^)/,ol=/['\n\r\u2028\u2029\\]/g,lr="\\ud800-\\udfff",al="\\u0300-\\u036f",sl="\\ufe20-\\ufe2f",ul="\\u20d0-\\u20ff",Aa=al+sl+ul,Sa="\\u2700-\\u27bf",Ta="a-z\\xdf-\\xf6\\xf8-\\xff",hl="\\xac\\xb1\\xd7\\xf7",fl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ll="\\u2000-\\u206f",cl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ca="A-Z\\xc0-\\xd6\\xd8-\\xde",La="\\ufe0e\\ufe0f",Ra=hl+fl+ll+cl,Oi="['’]",dl="["+lr+"]",Da="["+Ra+"]",cr="["+Aa+"]",Na="\\d+",pl="["+Sa+"]",Oa="["+Ta+"]",Ga="[^"+lr+Ra+Na+Sa+Ta+Ca+"]",Gi="\\ud83c[\\udffb-\\udfff]",gl="(?:"+cr+"|"+Gi+")",Fa="[^"+lr+"]",Fi="(?:\\ud83c[\\udde6-\\uddff]){2}",Pi="[\\ud800-\\udbff][\\udc00-\\udfff]",hn="["+Ca+"]",Pa="\\u200d",Ia="(?:"+Oa+"|"+Ga+")",vl="(?:"+hn+"|"+Ga+")",Ma="(?:"+Oi+"(?:d|ll|m|re|s|t|ve))?",$a="(?:"+Oi+"(?:D|LL|M|RE|S|T|VE))?",Ua=gl+"?",ka="["+La+"]?",yl="(?:"+Pa+"(?:"+[Fa,Fi,Pi].join("|")+")"+ka+Ua+")*",_l="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ml="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ba=ka+Ua+yl,wl="(?:"+[pl,Fi,Pi].join("|")+")"+Ba,bl="(?:"+[Fa+cr+"?",cr,Fi,Pi,dl].join("|")+")",El=RegExp(Oi,"g"),xl=RegExp(cr,"g"),Ii=RegExp(Gi+"(?="+Gi+")|"+bl+Ba,"g"),Al=RegExp([hn+"?"+Oa+"+"+Ma+"(?="+[Da,hn,"$"].join("|")+")",vl+"+"+$a+"(?="+[Da,hn+Ia,"$"].join("|")+")",hn+"?"+Ia+"+"+Ma,hn+"+"+$a,ml,_l,Na,wl].join("|"),"g"),Sl=RegExp("["+Pa+lr+Aa+La+"]"),Tl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Cl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ll=-1,ce={};ce[bi]=ce[Ei]=ce[xi]=ce[Ai]=ce[Si]=ce[Ti]=ce[Ci]=ce[Li]=ce[Ri]=!0,ce[sn]=ce[ar]=ce[$n]=ce[On]=ce[un]=ce[Gn]=ce[sr]=ce[ur]=ce[rt]=ce[Fn]=ce[mt]=ce[Pn]=ce[it]=ce[In]=ce[Mn]=!1;var fe={};fe[sn]=fe[ar]=fe[$n]=fe[un]=fe[On]=fe[Gn]=fe[bi]=fe[Ei]=fe[xi]=fe[Ai]=fe[Si]=fe[rt]=fe[Fn]=fe[mt]=fe[Pn]=fe[it]=fe[In]=fe[hr]=fe[Ti]=fe[Ci]=fe[Li]=fe[Ri]=!0,fe[sr]=fe[ur]=fe[Mn]=!1;var Rl={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Dl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ol={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gl=parseFloat,Fl=parseInt,za=typeof G=="object"&&G&&G.Object===Object&&G,Pl=typeof self=="object"&&self&&self.Object===Object&&self,Se=za||Pl||Function("return this")(),Mi=r&&!r.nodeType&&r,jt=Mi&&!0&&o&&!o.nodeType&&o,Wa=jt&&jt.exports===Mi,$i=Wa&&za.process,qe=function(){try{var b=jt&&jt.require&&jt.require("util").types;return b||$i&&$i.binding&&$i.binding("util")}catch{}}(),Ha=qe&&qe.isArrayBuffer,Ka=qe&&qe.isDate,qa=qe&&qe.isMap,Ya=qe&&qe.isRegExp,ja=qe&&qe.isSet,Xa=qe&&qe.isTypedArray;function ke(b,T,A){switch(A.length){case 0:return b.call(T);case 1:return b.call(T,A[0]);case 2:return b.call(T,A[0],A[1]);case 3:return b.call(T,A[0],A[1],A[2])}return b.apply(T,A)}function Il(b,T,A,$){for(var Y=-1,ie=b==null?0:b.length;++Y<ie;){var be=b[Y];T($,be,A(be),b)}return $}function Ye(b,T){for(var A=-1,$=b==null?0:b.length;++A<$&&T(b[A],A,b)!==!1;);return b}function Ml(b,T){for(var A=b==null?0:b.length;A--&&T(b[A],A,b)!==!1;);return b}function Za(b,T){for(var A=-1,$=b==null?0:b.length;++A<$;)if(!T(b[A],A,b))return!1;return!0}function Ft(b,T){for(var A=-1,$=b==null?0:b.length,Y=0,ie=[];++A<$;){var be=b[A];T(be,A,b)&&(ie[Y++]=be)}return ie}function dr(b,T){var A=b==null?0:b.length;return!!A&&fn(b,T,0)>-1}function Ui(b,T,A){for(var $=-1,Y=b==null?0:b.length;++$<Y;)if(A(T,b[$]))return!0;return!1}function de(b,T){for(var A=-1,$=b==null?0:b.length,Y=Array($);++A<$;)Y[A]=T(b[A],A,b);return Y}function Pt(b,T){for(var A=-1,$=T.length,Y=b.length;++A<$;)b[Y+A]=T[A];return b}function ki(b,T,A,$){var Y=-1,ie=b==null?0:b.length;for($&&ie&&(A=b[++Y]);++Y<ie;)A=T(A,b[Y],Y,b);return A}function $l(b,T,A,$){var Y=b==null?0:b.length;for($&&Y&&(A=b[--Y]);Y--;)A=T(A,b[Y],Y,b);return A}function Bi(b,T){for(var A=-1,$=b==null?0:b.length;++A<$;)if(T(b[A],A,b))return!0;return!1}var Ul=zi("length");function kl(b){return b.split("")}function Bl(b){return b.match(Xf)||[]}function Va(b,T,A){var $;return A(b,function(Y,ie,be){if(T(Y,ie,be))return $=ie,!1}),$}function pr(b,T,A,$){for(var Y=b.length,ie=A+($?1:-1);$?ie--:++ie<Y;)if(T(b[ie],ie,b))return ie;return-1}function fn(b,T,A){return T===T?Ql(b,T,A):pr(b,Ja,A)}function zl(b,T,A,$){for(var Y=A-1,ie=b.length;++Y<ie;)if($(b[Y],T))return Y;return-1}function Ja(b){return b!==b}function Qa(b,T){var A=b==null?0:b.length;return A?Hi(b,T)/A:or}function zi(b){return function(T){return T==null?t:T[b]}}function Wi(b){return function(T){return b==null?t:b[T]}}function es(b,T,A,$,Y){return Y(b,function(ie,be,he){A=$?($=!1,ie):T(A,ie,be,he)}),A}function Wl(b,T){var A=b.length;for(b.sort(T);A--;)b[A]=b[A].value;return b}function Hi(b,T){for(var A,$=-1,Y=b.length;++$<Y;){var ie=T(b[$]);ie!==t&&(A=A===t?ie:A+ie)}return A}function Ki(b,T){for(var A=-1,$=Array(b);++A<b;)$[A]=T(A);return $}function Hl(b,T){return de(T,function(A){return[A,b[A]]})}function ts(b){return b&&b.slice(0,os(b)+1).replace(Ni,"")}function Be(b){return function(T){return b(T)}}function qi(b,T){return de(T,function(A){return b[A]})}function Un(b,T){return b.has(T)}function ns(b,T){for(var A=-1,$=b.length;++A<$&&fn(T,b[A],0)>-1;);return A}function rs(b,T){for(var A=b.length;A--&&fn(T,b[A],0)>-1;);return A}function Kl(b,T){for(var A=b.length,$=0;A--;)b[A]===T&&++$;return $}var ql=Wi(Rl),Yl=Wi(Dl);function jl(b){return"\\"+Ol[b]}function Xl(b,T){return b==null?t:b[T]}function ln(b){return Sl.test(b)}function Zl(b){return Tl.test(b)}function Vl(b){for(var T,A=[];!(T=b.next()).done;)A.push(T.value);return A}function Yi(b){var T=-1,A=Array(b.size);return b.forEach(function($,Y){A[++T]=[Y,$]}),A}function is(b,T){return function(A){return b(T(A))}}function It(b,T){for(var A=-1,$=b.length,Y=0,ie=[];++A<$;){var be=b[A];(be===T||be===_)&&(b[A]=_,ie[Y++]=A)}return ie}function gr(b){var T=-1,A=Array(b.size);return b.forEach(function($){A[++T]=$}),A}function Jl(b){var T=-1,A=Array(b.size);return b.forEach(function($){A[++T]=[$,$]}),A}function Ql(b,T,A){for(var $=A-1,Y=b.length;++$<Y;)if(b[$]===T)return $;return-1}function ec(b,T,A){for(var $=A+1;$--;)if(b[$]===T)return $;return $}function cn(b){return ln(b)?nc(b):Ul(b)}function ot(b){return ln(b)?rc(b):kl(b)}function os(b){for(var T=b.length;T--&&Kf.test(b.charAt(T)););return T}var tc=Wi(Nl);function nc(b){for(var T=Ii.lastIndex=0;Ii.test(b);)++T;return T}function rc(b){return b.match(Ii)||[]}function ic(b){return b.match(Al)||[]}var oc=function b(T){T=T==null?Se:dn.defaults(Se.Object(),T,dn.pick(Se,Cl));var A=T.Array,$=T.Date,Y=T.Error,ie=T.Function,be=T.Math,he=T.Object,ji=T.RegExp,ac=T.String,je=T.TypeError,vr=A.prototype,sc=ie.prototype,pn=he.prototype,yr=T["__core-js_shared__"],_r=sc.toString,ae=pn.hasOwnProperty,uc=0,as=function(){var e=/[^.]+$/.exec(yr&&yr.keys&&yr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),mr=pn.toString,hc=_r.call(he),fc=Se._,lc=ji("^"+_r.call(ae).replace(Di,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wr=Wa?T.Buffer:t,Mt=T.Symbol,br=T.Uint8Array,ss=wr?wr.allocUnsafe:t,Er=is(he.getPrototypeOf,he),us=he.create,hs=pn.propertyIsEnumerable,xr=vr.splice,fs=Mt?Mt.isConcatSpreadable:t,kn=Mt?Mt.iterator:t,Xt=Mt?Mt.toStringTag:t,Ar=function(){try{var e=en(he,"defineProperty");return e({},"",{}),e}catch{}}(),cc=T.clearTimeout!==Se.clearTimeout&&T.clearTimeout,dc=$&&$.now!==Se.Date.now&&$.now,pc=T.setTimeout!==Se.setTimeout&&T.setTimeout,Sr=be.ceil,Tr=be.floor,Xi=he.getOwnPropertySymbols,gc=wr?wr.isBuffer:t,ls=T.isFinite,vc=vr.join,yc=is(he.keys,he),Ee=be.max,Le=be.min,_c=$.now,mc=T.parseInt,cs=be.random,wc=vr.reverse,Zi=en(T,"DataView"),Bn=en(T,"Map"),Vi=en(T,"Promise"),gn=en(T,"Set"),zn=en(T,"WeakMap"),Wn=en(he,"create"),Cr=zn&&new zn,vn={},bc=tn(Zi),Ec=tn(Bn),xc=tn(Vi),Ac=tn(gn),Sc=tn(zn),Lr=Mt?Mt.prototype:t,Hn=Lr?Lr.valueOf:t,ds=Lr?Lr.toString:t;function d(e){if(ye(e)&&!j(e)&&!(e instanceof ee)){if(e instanceof Xe)return e;if(ae.call(e,"__wrapped__"))return pu(e)}return new Xe(e)}var yn=function(){function e(){}return function(n){if(!pe(n))return{};if(us)return us(n);e.prototype=n;var s=new e;return e.prototype=t,s}}();function Rr(){}function Xe(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=t}d.templateSettings={escape:Uf,evaluate:kf,interpolate:Ea,variable:"",imports:{_:d}},d.prototype=Rr.prototype,d.prototype.constructor=d,Xe.prototype=yn(Rr.prototype),Xe.prototype.constructor=Xe;function ee(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ct,this.__views__=[]}function Tc(){var e=new ee(this.__wrapped__);return e.__actions__=Pe(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pe(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pe(this.__views__),e}function Cc(){if(this.__filtered__){var e=new ee(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Lc(){var e=this.__wrapped__.value(),n=this.__dir__,s=j(e),h=n<0,l=s?e.length:0,p=kd(0,l,this.__views__),y=p.start,m=p.end,E=m-y,C=h?m:y-1,L=this.__iteratees__,D=L.length,P=0,k=Le(E,this.__takeCount__);if(!s||!h&&l==E&&k==E)return Ms(e,this.__actions__);var K=[];e:for(;E--&&P<k;){C+=n;for(var Z=-1,q=e[C];++Z<D;){var J=L[Z],te=J.iteratee,He=J.type,Ge=te(q);if(He==an)q=Ge;else if(!Ge){if(He==Nn)continue e;break e}}K[P++]=q}return K}ee.prototype=yn(Rr.prototype),ee.prototype.constructor=ee;function Zt(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var h=e[n];this.set(h[0],h[1])}}function Rc(){this.__data__=Wn?Wn(null):{},this.size=0}function Dc(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Nc(e){var n=this.__data__;if(Wn){var s=n[e];return s===v?t:s}return ae.call(n,e)?n[e]:t}function Oc(e){var n=this.__data__;return Wn?n[e]!==t:ae.call(n,e)}function Gc(e,n){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Wn&&n===t?v:n,this}Zt.prototype.clear=Rc,Zt.prototype.delete=Dc,Zt.prototype.get=Nc,Zt.prototype.has=Oc,Zt.prototype.set=Gc;function wt(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var h=e[n];this.set(h[0],h[1])}}function Fc(){this.__data__=[],this.size=0}function Pc(e){var n=this.__data__,s=Dr(n,e);if(s<0)return!1;var h=n.length-1;return s==h?n.pop():xr.call(n,s,1),--this.size,!0}function Ic(e){var n=this.__data__,s=Dr(n,e);return s<0?t:n[s][1]}function Mc(e){return Dr(this.__data__,e)>-1}function $c(e,n){var s=this.__data__,h=Dr(s,e);return h<0?(++this.size,s.push([e,n])):s[h][1]=n,this}wt.prototype.clear=Fc,wt.prototype.delete=Pc,wt.prototype.get=Ic,wt.prototype.has=Mc,wt.prototype.set=$c;function bt(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var h=e[n];this.set(h[0],h[1])}}function Uc(){this.size=0,this.__data__={hash:new Zt,map:new(Bn||wt),string:new Zt}}function kc(e){var n=zr(this,e).delete(e);return this.size-=n?1:0,n}function Bc(e){return zr(this,e).get(e)}function zc(e){return zr(this,e).has(e)}function Wc(e,n){var s=zr(this,e),h=s.size;return s.set(e,n),this.size+=s.size==h?0:1,this}bt.prototype.clear=Uc,bt.prototype.delete=kc,bt.prototype.get=Bc,bt.prototype.has=zc,bt.prototype.set=Wc;function Vt(e){var n=-1,s=e==null?0:e.length;for(this.__data__=new bt;++n<s;)this.add(e[n])}function Hc(e){return this.__data__.set(e,v),this}function Kc(e){return this.__data__.has(e)}Vt.prototype.add=Vt.prototype.push=Hc,Vt.prototype.has=Kc;function at(e){var n=this.__data__=new wt(e);this.size=n.size}function qc(){this.__data__=new wt,this.size=0}function Yc(e){var n=this.__data__,s=n.delete(e);return this.size=n.size,s}function jc(e){return this.__data__.get(e)}function Xc(e){return this.__data__.has(e)}function Zc(e,n){var s=this.__data__;if(s instanceof wt){var h=s.__data__;if(!Bn||h.length<a-1)return h.push([e,n]),this.size=++s.size,this;s=this.__data__=new bt(h)}return s.set(e,n),this.size=s.size,this}at.prototype.clear=qc,at.prototype.delete=Yc,at.prototype.get=jc,at.prototype.has=Xc,at.prototype.set=Zc;function ps(e,n){var s=j(e),h=!s&&nn(e),l=!s&&!h&&zt(e),p=!s&&!h&&!l&&bn(e),y=s||h||l||p,m=y?Ki(e.length,ac):[],E=m.length;for(var C in e)(n||ae.call(e,C))&&!(y&&(C=="length"||l&&(C=="offset"||C=="parent")||p&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||St(C,E)))&&m.push(C);return m}function gs(e){var n=e.length;return n?e[uo(0,n-1)]:t}function Vc(e,n){return Wr(Pe(e),Jt(n,0,e.length))}function Jc(e){return Wr(Pe(e))}function Ji(e,n,s){(s!==t&&!st(e[n],s)||s===t&&!(n in e))&&Et(e,n,s)}function Kn(e,n,s){var h=e[n];(!(ae.call(e,n)&&st(h,s))||s===t&&!(n in e))&&Et(e,n,s)}function Dr(e,n){for(var s=e.length;s--;)if(st(e[s][0],n))return s;return-1}function Qc(e,n,s,h){return $t(e,function(l,p,y){n(h,l,s(l),y)}),h}function vs(e,n){return e&&pt(n,Ae(n),e)}function ed(e,n){return e&&pt(n,Me(n),e)}function Et(e,n,s){n=="__proto__"&&Ar?Ar(e,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[n]=s}function Qi(e,n){for(var s=-1,h=n.length,l=A(h),p=e==null;++s<h;)l[s]=p?t:Fo(e,n[s]);return l}function Jt(e,n,s){return e===e&&(s!==t&&(e=e<=s?e:s),n!==t&&(e=e>=n?e:n)),e}function Ze(e,n,s,h,l,p){var y,m=n&w,E=n&x,C=n&S;if(s&&(y=l?s(e,h,l,p):s(e)),y!==t)return y;if(!pe(e))return e;var L=j(e);if(L){if(y=zd(e),!m)return Pe(e,y)}else{var D=Re(e),P=D==ur||D==_a;if(zt(e))return ks(e,m);if(D==mt||D==sn||P&&!l){if(y=E||P?{}:ou(e),!m)return E?Nd(e,ed(y,e)):Dd(e,vs(y,e))}else{if(!fe[D])return l?e:{};y=Wd(e,D,m)}}p||(p=new at);var k=p.get(e);if(k)return k;p.set(e,y),Fu(e)?e.forEach(function(q){y.add(Ze(q,n,s,q,e,p))}):Ou(e)&&e.forEach(function(q,J){y.set(J,Ze(q,n,s,J,e,p))});var K=C?E?wo:mo:E?Me:Ae,Z=L?t:K(e);return Ye(Z||e,function(q,J){Z&&(J=q,q=e[J]),Kn(y,J,Ze(q,n,s,J,e,p))}),y}function td(e){var n=Ae(e);return function(s){return ys(s,e,n)}}function ys(e,n,s){var h=s.length;if(e==null)return!h;for(e=he(e);h--;){var l=s[h],p=n[l],y=e[l];if(y===t&&!(l in e)||!p(y))return!1}return!0}function _s(e,n,s){if(typeof e!="function")throw new je(f);return Jn(function(){e.apply(t,s)},n)}function qn(e,n,s,h){var l=-1,p=dr,y=!0,m=e.length,E=[],C=n.length;if(!m)return E;s&&(n=de(n,Be(s))),h?(p=Ui,y=!1):n.length>=a&&(p=Un,y=!1,n=new Vt(n));e:for(;++l<m;){var L=e[l],D=s==null?L:s(L);if(L=h||L!==0?L:0,y&&D===D){for(var P=C;P--;)if(n[P]===D)continue e;E.push(L)}else p(n,D,h)||E.push(L)}return E}var $t=Ks(dt),ms=Ks(to,!0);function nd(e,n){var s=!0;return $t(e,function(h,l,p){return s=!!n(h,l,p),s}),s}function Nr(e,n,s){for(var h=-1,l=e.length;++h<l;){var p=e[h],y=n(p);if(y!=null&&(m===t?y===y&&!We(y):s(y,m)))var m=y,E=p}return E}function rd(e,n,s,h){var l=e.length;for(s=X(s),s<0&&(s=-s>l?0:l+s),h=h===t||h>l?l:X(h),h<0&&(h+=l),h=s>h?0:Iu(h);s<h;)e[s++]=n;return e}function ws(e,n){var s=[];return $t(e,function(h,l,p){n(h,l,p)&&s.push(h)}),s}function Te(e,n,s,h,l){var p=-1,y=e.length;for(s||(s=Kd),l||(l=[]);++p<y;){var m=e[p];n>0&&s(m)?n>1?Te(m,n-1,s,h,l):Pt(l,m):h||(l[l.length]=m)}return l}var eo=qs(),bs=qs(!0);function dt(e,n){return e&&eo(e,n,Ae)}function to(e,n){return e&&bs(e,n,Ae)}function Or(e,n){return Ft(n,function(s){return Tt(e[s])})}function Qt(e,n){n=kt(n,e);for(var s=0,h=n.length;e!=null&&s<h;)e=e[gt(n[s++])];return s&&s==h?e:t}function Es(e,n,s){var h=n(e);return j(e)?h:Pt(h,s(e))}function Ne(e){return e==null?e===t?Of:Df:Xt&&Xt in he(e)?Ud(e):Jd(e)}function no(e,n){return e>n}function id(e,n){return e!=null&&ae.call(e,n)}function od(e,n){return e!=null&&n in he(e)}function ad(e,n,s){return e>=Le(n,s)&&e<Ee(n,s)}function ro(e,n,s){for(var h=s?Ui:dr,l=e[0].length,p=e.length,y=p,m=A(p),E=1/0,C=[];y--;){var L=e[y];y&&n&&(L=de(L,Be(n))),E=Le(L.length,E),m[y]=!s&&(n||l>=120&&L.length>=120)?new Vt(y&&L):t}L=e[0];var D=-1,P=m[0];e:for(;++D<l&&C.length<E;){var k=L[D],K=n?n(k):k;if(k=s||k!==0?k:0,!(P?Un(P,K):h(C,K,s))){for(y=p;--y;){var Z=m[y];if(!(Z?Un(Z,K):h(e[y],K,s)))continue e}P&&P.push(K),C.push(k)}}return C}function sd(e,n,s,h){return dt(e,function(l,p,y){n(h,s(l),p,y)}),h}function Yn(e,n,s){n=kt(n,e),e=hu(e,n);var h=e==null?e:e[gt(Je(n))];return h==null?t:ke(h,e,s)}function xs(e){return ye(e)&&Ne(e)==sn}function ud(e){return ye(e)&&Ne(e)==$n}function hd(e){return ye(e)&&Ne(e)==Gn}function jn(e,n,s,h,l){return e===n?!0:e==null||n==null||!ye(e)&&!ye(n)?e!==e&&n!==n:fd(e,n,s,h,jn,l)}function fd(e,n,s,h,l,p){var y=j(e),m=j(n),E=y?ar:Re(e),C=m?ar:Re(n);E=E==sn?mt:E,C=C==sn?mt:C;var L=E==mt,D=C==mt,P=E==C;if(P&&zt(e)){if(!zt(n))return!1;y=!0,L=!1}if(P&&!L)return p||(p=new at),y||bn(e)?nu(e,n,s,h,l,p):Md(e,n,E,s,h,l,p);if(!(s&R)){var k=L&&ae.call(e,"__wrapped__"),K=D&&ae.call(n,"__wrapped__");if(k||K){var Z=k?e.value():e,q=K?n.value():n;return p||(p=new at),l(Z,q,s,h,p)}}return P?(p||(p=new at),$d(e,n,s,h,l,p)):!1}function ld(e){return ye(e)&&Re(e)==rt}function io(e,n,s,h){var l=s.length,p=l,y=!h;if(e==null)return!p;for(e=he(e);l--;){var m=s[l];if(y&&m[2]?m[1]!==e[m[0]]:!(m[0]in e))return!1}for(;++l<p;){m=s[l];var E=m[0],C=e[E],L=m[1];if(y&&m[2]){if(C===t&&!(E in e))return!1}else{var D=new at;if(h)var P=h(C,L,E,e,n,D);if(!(P===t?jn(L,C,R|N,h,D):P))return!1}}return!0}function As(e){if(!pe(e)||Yd(e))return!1;var n=Tt(e)?lc:tl;return n.test(tn(e))}function cd(e){return ye(e)&&Ne(e)==Pn}function dd(e){return ye(e)&&Re(e)==it}function pd(e){return ye(e)&&Xr(e.length)&&!!ce[Ne(e)]}function Ss(e){return typeof e=="function"?e:e==null?$e:typeof e=="object"?j(e)?Ls(e[0],e[1]):Cs(e):Yu(e)}function oo(e){if(!Vn(e))return yc(e);var n=[];for(var s in he(e))ae.call(e,s)&&s!="constructor"&&n.push(s);return n}function gd(e){if(!pe(e))return Vd(e);var n=Vn(e),s=[];for(var h in e)h=="constructor"&&(n||!ae.call(e,h))||s.push(h);return s}function ao(e,n){return e<n}function Ts(e,n){var s=-1,h=Ie(e)?A(e.length):[];return $t(e,function(l,p,y){h[++s]=n(l,p,y)}),h}function Cs(e){var n=Eo(e);return n.length==1&&n[0][2]?su(n[0][0],n[0][1]):function(s){return s===e||io(s,e,n)}}function Ls(e,n){return Ao(e)&&au(n)?su(gt(e),n):function(s){var h=Fo(s,e);return h===t&&h===n?Po(s,e):jn(n,h,R|N)}}function Gr(e,n,s,h,l){e!==n&&eo(n,function(p,y){if(l||(l=new at),pe(p))vd(e,n,y,s,Gr,h,l);else{var m=h?h(To(e,y),p,y+"",e,n,l):t;m===t&&(m=p),Ji(e,y,m)}},Me)}function vd(e,n,s,h,l,p,y){var m=To(e,s),E=To(n,s),C=y.get(E);if(C){Ji(e,s,C);return}var L=p?p(m,E,s+"",e,n,y):t,D=L===t;if(D){var P=j(E),k=!P&&zt(E),K=!P&&!k&&bn(E);L=E,P||k||K?j(m)?L=m:me(m)?L=Pe(m):k?(D=!1,L=ks(E,!0)):K?(D=!1,L=Bs(E,!0)):L=[]:Qn(E)||nn(E)?(L=m,nn(m)?L=Mu(m):(!pe(m)||Tt(m))&&(L=ou(E))):D=!1}D&&(y.set(E,L),l(L,E,h,p,y),y.delete(E)),Ji(e,s,L)}function Rs(e,n){var s=e.length;if(s)return n+=n<0?s:0,St(n,s)?e[n]:t}function Ds(e,n,s){n.length?n=de(n,function(p){return j(p)?function(y){return Qt(y,p.length===1?p[0]:p)}:p}):n=[$e];var h=-1;n=de(n,Be(z()));var l=Ts(e,function(p,y,m){var E=de(n,function(C){return C(p)});return{criteria:E,index:++h,value:p}});return Wl(l,function(p,y){return Rd(p,y,s)})}function yd(e,n){return Ns(e,n,function(s,h){return Po(e,h)})}function Ns(e,n,s){for(var h=-1,l=n.length,p={};++h<l;){var y=n[h],m=Qt(e,y);s(m,y)&&Xn(p,kt(y,e),m)}return p}function _d(e){return function(n){return Qt(n,e)}}function so(e,n,s,h){var l=h?zl:fn,p=-1,y=n.length,m=e;for(e===n&&(n=Pe(n)),s&&(m=de(e,Be(s)));++p<y;)for(var E=0,C=n[p],L=s?s(C):C;(E=l(m,L,E,h))>-1;)m!==e&&xr.call(m,E,1),xr.call(e,E,1);return e}function Os(e,n){for(var s=e?n.length:0,h=s-1;s--;){var l=n[s];if(s==h||l!==p){var p=l;St(l)?xr.call(e,l,1):lo(e,l)}}return e}function uo(e,n){return e+Tr(cs()*(n-e+1))}function md(e,n,s,h){for(var l=-1,p=Ee(Sr((n-e)/(s||1)),0),y=A(p);p--;)y[h?p:++l]=e,e+=s;return y}function ho(e,n){var s="";if(!e||n<1||n>Gt)return s;do n%2&&(s+=e),n=Tr(n/2),n&&(e+=e);while(n);return s}function V(e,n){return Co(uu(e,n,$e),e+"")}function wd(e){return gs(En(e))}function bd(e,n){var s=En(e);return Wr(s,Jt(n,0,s.length))}function Xn(e,n,s,h){if(!pe(e))return e;n=kt(n,e);for(var l=-1,p=n.length,y=p-1,m=e;m!=null&&++l<p;){var E=gt(n[l]),C=s;if(E==="__proto__"||E==="constructor"||E==="prototype")return e;if(l!=y){var L=m[E];C=h?h(L,E,m):t,C===t&&(C=pe(L)?L:St(n[l+1])?[]:{})}Kn(m,E,C),m=m[E]}return e}var Gs=Cr?function(e,n){return Cr.set(e,n),e}:$e,Ed=Ar?function(e,n){return Ar(e,"toString",{configurable:!0,enumerable:!1,value:Mo(n),writable:!0})}:$e;function xd(e){return Wr(En(e))}function Ve(e,n,s){var h=-1,l=e.length;n<0&&(n=-n>l?0:l+n),s=s>l?l:s,s<0&&(s+=l),l=n>s?0:s-n>>>0,n>>>=0;for(var p=A(l);++h<l;)p[h]=e[h+n];return p}function Ad(e,n){var s;return $t(e,function(h,l,p){return s=n(h,l,p),!s}),!!s}function Fr(e,n,s){var h=0,l=e==null?h:e.length;if(typeof n=="number"&&n===n&&l<=Tf){for(;h<l;){var p=h+l>>>1,y=e[p];y!==null&&!We(y)&&(s?y<=n:y<n)?h=p+1:l=p}return l}return fo(e,n,$e,s)}function fo(e,n,s,h){var l=0,p=e==null?0:e.length;if(p===0)return 0;n=s(n);for(var y=n!==n,m=n===null,E=We(n),C=n===t;l<p;){var L=Tr((l+p)/2),D=s(e[L]),P=D!==t,k=D===null,K=D===D,Z=We(D);if(y)var q=h||K;else C?q=K&&(h||P):m?q=K&&P&&(h||!k):E?q=K&&P&&!k&&(h||!Z):k||Z?q=!1:q=h?D<=n:D<n;q?l=L+1:p=L}return Le(p,Sf)}function Fs(e,n){for(var s=-1,h=e.length,l=0,p=[];++s<h;){var y=e[s],m=n?n(y):y;if(!s||!st(m,E)){var E=m;p[l++]=y===0?0:y}}return p}function Ps(e){return typeof e=="number"?e:We(e)?or:+e}function ze(e){if(typeof e=="string")return e;if(j(e))return de(e,ze)+"";if(We(e))return ds?ds.call(e):"";var n=e+"";return n=="0"&&1/e==-lt?"-0":n}function Ut(e,n,s){var h=-1,l=dr,p=e.length,y=!0,m=[],E=m;if(s)y=!1,l=Ui;else if(p>=a){var C=n?null:Pd(e);if(C)return gr(C);y=!1,l=Un,E=new Vt}else E=n?[]:m;e:for(;++h<p;){var L=e[h],D=n?n(L):L;if(L=s||L!==0?L:0,y&&D===D){for(var P=E.length;P--;)if(E[P]===D)continue e;n&&E.push(D),m.push(L)}else l(E,D,s)||(E!==m&&E.push(D),m.push(L))}return m}function lo(e,n){return n=kt(n,e),e=hu(e,n),e==null||delete e[gt(Je(n))]}function Is(e,n,s,h){return Xn(e,n,s(Qt(e,n)),h)}function Pr(e,n,s,h){for(var l=e.length,p=h?l:-1;(h?p--:++p<l)&&n(e[p],p,e););return s?Ve(e,h?0:p,h?p+1:l):Ve(e,h?p+1:0,h?l:p)}function Ms(e,n){var s=e;return s instanceof ee&&(s=s.value()),ki(n,function(h,l){return l.func.apply(l.thisArg,Pt([h],l.args))},s)}function co(e,n,s){var h=e.length;if(h<2)return h?Ut(e[0]):[];for(var l=-1,p=A(h);++l<h;)for(var y=e[l],m=-1;++m<h;)m!=l&&(p[l]=qn(p[l]||y,e[m],n,s));return Ut(Te(p,1),n,s)}function $s(e,n,s){for(var h=-1,l=e.length,p=n.length,y={};++h<l;){var m=h<p?n[h]:t;s(y,e[h],m)}return y}function po(e){return me(e)?e:[]}function go(e){return typeof e=="function"?e:$e}function kt(e,n){return j(e)?e:Ao(e,n)?[e]:du(oe(e))}var Sd=V;function Bt(e,n,s){var h=e.length;return s=s===t?h:s,!n&&s>=h?e:Ve(e,n,s)}var Us=cc||function(e){return Se.clearTimeout(e)};function ks(e,n){if(n)return e.slice();var s=e.length,h=ss?ss(s):new e.constructor(s);return e.copy(h),h}function vo(e){var n=new e.constructor(e.byteLength);return new br(n).set(new br(e)),n}function Td(e,n){var s=n?vo(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}function Cd(e){var n=new e.constructor(e.source,xa.exec(e));return n.lastIndex=e.lastIndex,n}function Ld(e){return Hn?he(Hn.call(e)):{}}function Bs(e,n){var s=n?vo(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function zs(e,n){if(e!==n){var s=e!==t,h=e===null,l=e===e,p=We(e),y=n!==t,m=n===null,E=n===n,C=We(n);if(!m&&!C&&!p&&e>n||p&&y&&E&&!m&&!C||h&&y&&E||!s&&E||!l)return 1;if(!h&&!p&&!C&&e<n||C&&s&&l&&!h&&!p||m&&s&&l||!y&&l||!E)return-1}return 0}function Rd(e,n,s){for(var h=-1,l=e.criteria,p=n.criteria,y=l.length,m=s.length;++h<y;){var E=zs(l[h],p[h]);if(E){if(h>=m)return E;var C=s[h];return E*(C=="desc"?-1:1)}}return e.index-n.index}function Ws(e,n,s,h){for(var l=-1,p=e.length,y=s.length,m=-1,E=n.length,C=Ee(p-y,0),L=A(E+C),D=!h;++m<E;)L[m]=n[m];for(;++l<y;)(D||l<p)&&(L[s[l]]=e[l]);for(;C--;)L[m++]=e[l++];return L}function Hs(e,n,s,h){for(var l=-1,p=e.length,y=-1,m=s.length,E=-1,C=n.length,L=Ee(p-m,0),D=A(L+C),P=!h;++l<L;)D[l]=e[l];for(var k=l;++E<C;)D[k+E]=n[E];for(;++y<m;)(P||l<p)&&(D[k+s[y]]=e[l++]);return D}function Pe(e,n){var s=-1,h=e.length;for(n||(n=A(h));++s<h;)n[s]=e[s];return n}function pt(e,n,s,h){var l=!s;s||(s={});for(var p=-1,y=n.length;++p<y;){var m=n[p],E=h?h(s[m],e[m],m,s,e):t;E===t&&(E=e[m]),l?Et(s,m,E):Kn(s,m,E)}return s}function Dd(e,n){return pt(e,xo(e),n)}function Nd(e,n){return pt(e,ru(e),n)}function Ir(e,n){return function(s,h){var l=j(s)?Il:Qc,p=n?n():{};return l(s,e,z(h,2),p)}}function _n(e){return V(function(n,s){var h=-1,l=s.length,p=l>1?s[l-1]:t,y=l>2?s[2]:t;for(p=e.length>3&&typeof p=="function"?(l--,p):t,y&&Oe(s[0],s[1],y)&&(p=l<3?t:p,l=1),n=he(n);++h<l;){var m=s[h];m&&e(n,m,h,p)}return n})}function Ks(e,n){return function(s,h){if(s==null)return s;if(!Ie(s))return e(s,h);for(var l=s.length,p=n?l:-1,y=he(s);(n?p--:++p<l)&&h(y[p],p,y)!==!1;);return s}}function qs(e){return function(n,s,h){for(var l=-1,p=he(n),y=h(n),m=y.length;m--;){var E=y[e?m:++l];if(s(p[E],E,p)===!1)break}return n}}function Od(e,n,s){var h=n&F,l=Zn(e);function p(){var y=this&&this!==Se&&this instanceof p?l:e;return y.apply(h?s:this,arguments)}return p}function Ys(e){return function(n){n=oe(n);var s=ln(n)?ot(n):t,h=s?s[0]:n.charAt(0),l=s?Bt(s,1).join(""):n.slice(1);return h[e]()+l}}function mn(e){return function(n){return ki(Ku(Hu(n).replace(El,"")),e,"")}}function Zn(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var s=yn(e.prototype),h=e.apply(s,n);return pe(h)?h:s}}function Gd(e,n,s){var h=Zn(e);function l(){for(var p=arguments.length,y=A(p),m=p,E=wn(l);m--;)y[m]=arguments[m];var C=p<3&&y[0]!==E&&y[p-1]!==E?[]:It(y,E);if(p-=C.length,p<s)return Js(e,n,Mr,l.placeholder,t,y,C,t,t,s-p);var L=this&&this!==Se&&this instanceof l?h:e;return ke(L,this,y)}return l}function js(e){return function(n,s,h){var l=he(n);if(!Ie(n)){var p=z(s,3);n=Ae(n),s=function(m){return p(l[m],m,l)}}var y=e(n,s,h);return y>-1?l[p?n[y]:y]:t}}function Xs(e){return At(function(n){var s=n.length,h=s,l=Xe.prototype.thru;for(e&&n.reverse();h--;){var p=n[h];if(typeof p!="function")throw new je(f);if(l&&!y&&Br(p)=="wrapper")var y=new Xe([],!0)}for(h=y?h:s;++h<s;){p=n[h];var m=Br(p),E=m=="wrapper"?bo(p):t;E&&So(E[0])&&E[1]==(_e|I|ne|Nt)&&!E[4].length&&E[9]==1?y=y[Br(E[0])].apply(y,E[3]):y=p.length==1&&So(p)?y[m]():y.thru(p)}return function(){var C=arguments,L=C[0];if(y&&C.length==1&&j(L))return y.plant(L).value();for(var D=0,P=s?n[D].apply(this,C):L;++D<s;)P=n[D].call(this,P);return P}})}function Mr(e,n,s,h,l,p,y,m,E,C){var L=n&_e,D=n&F,P=n&U,k=n&(I|Q),K=n&Ot,Z=P?t:Zn(e);function q(){for(var J=arguments.length,te=A(J),He=J;He--;)te[He]=arguments[He];if(k)var Ge=wn(q),Ke=Kl(te,Ge);if(h&&(te=Ws(te,h,l,k)),p&&(te=Hs(te,p,y,k)),J-=Ke,k&&J<C){var we=It(te,Ge);return Js(e,n,Mr,q.placeholder,s,te,we,m,E,C-J)}var ut=D?s:this,Lt=P?ut[e]:e;return J=te.length,m?te=Qd(te,m):K&&J>1&&te.reverse(),L&&E<J&&(te.length=E),this&&this!==Se&&this instanceof q&&(Lt=Z||Zn(Lt)),Lt.apply(ut,te)}return q}function Zs(e,n){return function(s,h){return sd(s,e,n(h),{})}}function $r(e,n){return function(s,h){var l;if(s===t&&h===t)return n;if(s!==t&&(l=s),h!==t){if(l===t)return h;typeof s=="string"||typeof h=="string"?(s=ze(s),h=ze(h)):(s=Ps(s),h=Ps(h)),l=e(s,h)}return l}}function yo(e){return At(function(n){return n=de(n,Be(z())),V(function(s){var h=this;return e(n,function(l){return ke(l,h,s)})})})}function Ur(e,n){n=n===t?" ":ze(n);var s=n.length;if(s<2)return s?ho(n,e):n;var h=ho(n,Sr(e/cn(n)));return ln(n)?Bt(ot(h),0,e).join(""):h.slice(0,e)}function Fd(e,n,s,h){var l=n&F,p=Zn(e);function y(){for(var m=-1,E=arguments.length,C=-1,L=h.length,D=A(L+E),P=this&&this!==Se&&this instanceof y?p:e;++C<L;)D[C]=h[C];for(;E--;)D[C++]=arguments[++m];return ke(P,l?s:this,D)}return y}function Vs(e){return function(n,s,h){return h&&typeof h!="number"&&Oe(n,s,h)&&(s=h=t),n=Ct(n),s===t?(s=n,n=0):s=Ct(s),h=h===t?n<s?1:-1:Ct(h),md(n,s,h,e)}}function kr(e){return function(n,s){return typeof n=="string"&&typeof s=="string"||(n=Qe(n),s=Qe(s)),e(n,s)}}function Js(e,n,s,h,l,p,y,m,E,C){var L=n&I,D=L?y:t,P=L?t:y,k=L?p:t,K=L?t:p;n|=L?ne:ve,n&=~(L?ve:ne),n&B||(n&=~(F|U));var Z=[e,n,l,k,D,K,P,m,E,C],q=s.apply(t,Z);return So(e)&&fu(q,Z),q.placeholder=h,lu(q,e,n)}function _o(e){var n=be[e];return function(s,h){if(s=Qe(s),h=h==null?0:Le(X(h),292),h&&ls(s)){var l=(oe(s)+"e").split("e"),p=n(l[0]+"e"+(+l[1]+h));return l=(oe(p)+"e").split("e"),+(l[0]+"e"+(+l[1]-h))}return n(s)}}var Pd=gn&&1/gr(new gn([,-0]))[1]==lt?function(e){return new gn(e)}:ko;function Qs(e){return function(n){var s=Re(n);return s==rt?Yi(n):s==it?Jl(n):Hl(n,e(n))}}function xt(e,n,s,h,l,p,y,m){var E=n&U;if(!E&&typeof e!="function")throw new je(f);var C=h?h.length:0;if(C||(n&=~(ne|ve),h=l=t),y=y===t?y:Ee(X(y),0),m=m===t?m:X(m),C-=l?l.length:0,n&ve){var L=h,D=l;h=l=t}var P=E?t:bo(e),k=[e,n,s,h,l,L,D,p,y,m];if(P&&Zd(k,P),e=k[0],n=k[1],s=k[2],h=k[3],l=k[4],m=k[9]=k[9]===t?E?0:e.length:Ee(k[9]-C,0),!m&&n&(I|Q)&&(n&=~(I|Q)),!n||n==F)var K=Od(e,n,s);else n==I||n==Q?K=Gd(e,n,m):(n==ne||n==(F|ne))&&!l.length?K=Fd(e,n,s,h):K=Mr.apply(t,k);var Z=P?Gs:fu;return lu(Z(K,k),e,n)}function eu(e,n,s,h){return e===t||st(e,pn[s])&&!ae.call(h,s)?n:e}function tu(e,n,s,h,l,p){return pe(e)&&pe(n)&&(p.set(n,e),Gr(e,n,t,tu,p),p.delete(n)),e}function Id(e){return Qn(e)?t:e}function nu(e,n,s,h,l,p){var y=s&R,m=e.length,E=n.length;if(m!=E&&!(y&&E>m))return!1;var C=p.get(e),L=p.get(n);if(C&&L)return C==n&&L==e;var D=-1,P=!0,k=s&N?new Vt:t;for(p.set(e,n),p.set(n,e);++D<m;){var K=e[D],Z=n[D];if(h)var q=y?h(Z,K,D,n,e,p):h(K,Z,D,e,n,p);if(q!==t){if(q)continue;P=!1;break}if(k){if(!Bi(n,function(J,te){if(!Un(k,te)&&(K===J||l(K,J,s,h,p)))return k.push(te)})){P=!1;break}}else if(!(K===Z||l(K,Z,s,h,p))){P=!1;break}}return p.delete(e),p.delete(n),P}function Md(e,n,s,h,l,p,y){switch(s){case un:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case $n:return!(e.byteLength!=n.byteLength||!p(new br(e),new br(n)));case On:case Gn:case Fn:return st(+e,+n);case sr:return e.name==n.name&&e.message==n.message;case Pn:case In:return e==n+"";case rt:var m=Yi;case it:var E=h&R;if(m||(m=gr),e.size!=n.size&&!E)return!1;var C=y.get(e);if(C)return C==n;h|=N,y.set(e,n);var L=nu(m(e),m(n),h,l,p,y);return y.delete(e),L;case hr:if(Hn)return Hn.call(e)==Hn.call(n)}return!1}function $d(e,n,s,h,l,p){var y=s&R,m=mo(e),E=m.length,C=mo(n),L=C.length;if(E!=L&&!y)return!1;for(var D=E;D--;){var P=m[D];if(!(y?P in n:ae.call(n,P)))return!1}var k=p.get(e),K=p.get(n);if(k&&K)return k==n&&K==e;var Z=!0;p.set(e,n),p.set(n,e);for(var q=y;++D<E;){P=m[D];var J=e[P],te=n[P];if(h)var He=y?h(te,J,P,n,e,p):h(J,te,P,e,n,p);if(!(He===t?J===te||l(J,te,s,h,p):He)){Z=!1;break}q||(q=P=="constructor")}if(Z&&!q){var Ge=e.constructor,Ke=n.constructor;Ge!=Ke&&"constructor"in e&&"constructor"in n&&!(typeof Ge=="function"&&Ge instanceof Ge&&typeof Ke=="function"&&Ke instanceof Ke)&&(Z=!1)}return p.delete(e),p.delete(n),Z}function At(e){return Co(uu(e,t,yu),e+"")}function mo(e){return Es(e,Ae,xo)}function wo(e){return Es(e,Me,ru)}var bo=Cr?function(e){return Cr.get(e)}:ko;function Br(e){for(var n=e.name+"",s=vn[n],h=ae.call(vn,n)?s.length:0;h--;){var l=s[h],p=l.func;if(p==null||p==e)return l.name}return n}function wn(e){var n=ae.call(d,"placeholder")?d:e;return n.placeholder}function z(){var e=d.iteratee||$o;return e=e===$o?Ss:e,arguments.length?e(arguments[0],arguments[1]):e}function zr(e,n){var s=e.__data__;return qd(n)?s[typeof n=="string"?"string":"hash"]:s.map}function Eo(e){for(var n=Ae(e),s=n.length;s--;){var h=n[s],l=e[h];n[s]=[h,l,au(l)]}return n}function en(e,n){var s=Xl(e,n);return As(s)?s:t}function Ud(e){var n=ae.call(e,Xt),s=e[Xt];try{e[Xt]=t;var h=!0}catch{}var l=mr.call(e);return h&&(n?e[Xt]=s:delete e[Xt]),l}var xo=Xi?function(e){return e==null?[]:(e=he(e),Ft(Xi(e),function(n){return hs.call(e,n)}))}:Bo,ru=Xi?function(e){for(var n=[];e;)Pt(n,xo(e)),e=Er(e);return n}:Bo,Re=Ne;(Zi&&Re(new Zi(new ArrayBuffer(1)))!=un||Bn&&Re(new Bn)!=rt||Vi&&Re(Vi.resolve())!=ma||gn&&Re(new gn)!=it||zn&&Re(new zn)!=Mn)&&(Re=function(e){var n=Ne(e),s=n==mt?e.constructor:t,h=s?tn(s):"";if(h)switch(h){case bc:return un;case Ec:return rt;case xc:return ma;case Ac:return it;case Sc:return Mn}return n});function kd(e,n,s){for(var h=-1,l=s.length;++h<l;){var p=s[h],y=p.size;switch(p.type){case"drop":e+=y;break;case"dropRight":n-=y;break;case"take":n=Le(n,e+y);break;case"takeRight":e=Ee(e,n-y);break}}return{start:e,end:n}}function Bd(e){var n=e.match(Yf);return n?n[1].split(jf):[]}function iu(e,n,s){n=kt(n,e);for(var h=-1,l=n.length,p=!1;++h<l;){var y=gt(n[h]);if(!(p=e!=null&&s(e,y)))break;e=e[y]}return p||++h!=l?p:(l=e==null?0:e.length,!!l&&Xr(l)&&St(y,l)&&(j(e)||nn(e)))}function zd(e){var n=e.length,s=new e.constructor(n);return n&&typeof e[0]=="string"&&ae.call(e,"index")&&(s.index=e.index,s.input=e.input),s}function ou(e){return typeof e.constructor=="function"&&!Vn(e)?yn(Er(e)):{}}function Wd(e,n,s){var h=e.constructor;switch(n){case $n:return vo(e);case On:case Gn:return new h(+e);case un:return Td(e,s);case bi:case Ei:case xi:case Ai:case Si:case Ti:case Ci:case Li:case Ri:return Bs(e,s);case rt:return new h;case Fn:case In:return new h(e);case Pn:return Cd(e);case it:return new h;case hr:return Ld(e)}}function Hd(e,n){var s=n.length;if(!s)return e;var h=s-1;return n[h]=(s>1?"& ":"")+n[h],n=n.join(s>2?", ":" "),e.replace(qf,`{
/* [wrapped with `+n+`] */
`)}function Kd(e){return j(e)||nn(e)||!!(fs&&e&&e[fs])}function St(e,n){var s=typeof e;return n=n??Gt,!!n&&(s=="number"||s!="symbol"&&rl.test(e))&&e>-1&&e%1==0&&e<n}function Oe(e,n,s){if(!pe(s))return!1;var h=typeof n;return(h=="number"?Ie(s)&&St(n,s.length):h=="string"&&n in s)?st(s[n],e):!1}function Ao(e,n){if(j(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||We(e)?!0:zf.test(e)||!Bf.test(e)||n!=null&&e in he(n)}function qd(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function So(e){var n=Br(e),s=d[n];if(typeof s!="function"||!(n in ee.prototype))return!1;if(e===s)return!0;var h=bo(s);return!!h&&e===h[0]}function Yd(e){return!!as&&as in e}var jd=yr?Tt:zo;function Vn(e){var n=e&&e.constructor,s=typeof n=="function"&&n.prototype||pn;return e===s}function au(e){return e===e&&!pe(e)}function su(e,n){return function(s){return s==null?!1:s[e]===n&&(n!==t||e in he(s))}}function Xd(e){var n=Yr(e,function(h){return s.size===g&&s.clear(),h}),s=n.cache;return n}function Zd(e,n){var s=e[1],h=n[1],l=s|h,p=l<(F|U|_e),y=h==_e&&s==I||h==_e&&s==Nt&&e[7].length<=n[8]||h==(_e|Nt)&&n[7].length<=n[8]&&s==I;if(!(p||y))return e;h&F&&(e[2]=n[2],l|=s&F?0:B);var m=n[3];if(m){var E=e[3];e[3]=E?Ws(E,m,n[4]):m,e[4]=E?It(e[3],_):n[4]}return m=n[5],m&&(E=e[5],e[5]=E?Hs(E,m,n[6]):m,e[6]=E?It(e[5],_):n[6]),m=n[7],m&&(e[7]=m),h&_e&&(e[8]=e[8]==null?n[8]:Le(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=l,e}function Vd(e){var n=[];if(e!=null)for(var s in he(e))n.push(s);return n}function Jd(e){return mr.call(e)}function uu(e,n,s){return n=Ee(n===t?e.length-1:n,0),function(){for(var h=arguments,l=-1,p=Ee(h.length-n,0),y=A(p);++l<p;)y[l]=h[n+l];l=-1;for(var m=A(n+1);++l<n;)m[l]=h[l];return m[n]=s(y),ke(e,this,m)}}function hu(e,n){return n.length<2?e:Qt(e,Ve(n,0,-1))}function Qd(e,n){for(var s=e.length,h=Le(n.length,s),l=Pe(e);h--;){var p=n[h];e[h]=St(p,s)?l[p]:t}return e}function To(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var fu=cu(Gs),Jn=pc||function(e,n){return Se.setTimeout(e,n)},Co=cu(Ed);function lu(e,n,s){var h=n+"";return Co(e,Hd(h,ep(Bd(h),s)))}function cu(e){var n=0,s=0;return function(){var h=_c(),l=mi-(h-s);if(s=h,l>0){if(++n>=_i)return arguments[0]}else n=0;return e.apply(t,arguments)}}function Wr(e,n){var s=-1,h=e.length,l=h-1;for(n=n===t?h:n;++s<n;){var p=uo(s,l),y=e[p];e[p]=e[s],e[s]=y}return e.length=n,e}var du=Xd(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Wf,function(s,h,l,p){n.push(l?p.replace(Vf,"$1"):h||s)}),n});function gt(e){if(typeof e=="string"||We(e))return e;var n=e+"";return n=="0"&&1/e==-lt?"-0":n}function tn(e){if(e!=null){try{return _r.call(e)}catch{}try{return e+""}catch{}}return""}function ep(e,n){return Ye(Cf,function(s){var h="_."+s[0];n&s[1]&&!dr(e,h)&&e.push(h)}),e.sort()}function pu(e){if(e instanceof ee)return e.clone();var n=new Xe(e.__wrapped__,e.__chain__);return n.__actions__=Pe(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function tp(e,n,s){(s?Oe(e,n,s):n===t)?n=1:n=Ee(X(n),0);var h=e==null?0:e.length;if(!h||n<1)return[];for(var l=0,p=0,y=A(Sr(h/n));l<h;)y[p++]=Ve(e,l,l+=n);return y}function np(e){for(var n=-1,s=e==null?0:e.length,h=0,l=[];++n<s;){var p=e[n];p&&(l[h++]=p)}return l}function rp(){var e=arguments.length;if(!e)return[];for(var n=A(e-1),s=arguments[0],h=e;h--;)n[h-1]=arguments[h];return Pt(j(s)?Pe(s):[s],Te(n,1))}var ip=V(function(e,n){return me(e)?qn(e,Te(n,1,me,!0)):[]}),op=V(function(e,n){var s=Je(n);return me(s)&&(s=t),me(e)?qn(e,Te(n,1,me,!0),z(s,2)):[]}),ap=V(function(e,n){var s=Je(n);return me(s)&&(s=t),me(e)?qn(e,Te(n,1,me,!0),t,s):[]});function sp(e,n,s){var h=e==null?0:e.length;return h?(n=s||n===t?1:X(n),Ve(e,n<0?0:n,h)):[]}function up(e,n,s){var h=e==null?0:e.length;return h?(n=s||n===t?1:X(n),n=h-n,Ve(e,0,n<0?0:n)):[]}function hp(e,n){return e&&e.length?Pr(e,z(n,3),!0,!0):[]}function fp(e,n){return e&&e.length?Pr(e,z(n,3),!0):[]}function lp(e,n,s,h){var l=e==null?0:e.length;return l?(s&&typeof s!="number"&&Oe(e,n,s)&&(s=0,h=l),rd(e,n,s,h)):[]}function gu(e,n,s){var h=e==null?0:e.length;if(!h)return-1;var l=s==null?0:X(s);return l<0&&(l=Ee(h+l,0)),pr(e,z(n,3),l)}function vu(e,n,s){var h=e==null?0:e.length;if(!h)return-1;var l=h-1;return s!==t&&(l=X(s),l=s<0?Ee(h+l,0):Le(l,h-1)),pr(e,z(n,3),l,!0)}function yu(e){var n=e==null?0:e.length;return n?Te(e,1):[]}function cp(e){var n=e==null?0:e.length;return n?Te(e,lt):[]}function dp(e,n){var s=e==null?0:e.length;return s?(n=n===t?1:X(n),Te(e,n)):[]}function pp(e){for(var n=-1,s=e==null?0:e.length,h={};++n<s;){var l=e[n];h[l[0]]=l[1]}return h}function _u(e){return e&&e.length?e[0]:t}function gp(e,n,s){var h=e==null?0:e.length;if(!h)return-1;var l=s==null?0:X(s);return l<0&&(l=Ee(h+l,0)),fn(e,n,l)}function vp(e){var n=e==null?0:e.length;return n?Ve(e,0,-1):[]}var yp=V(function(e){var n=de(e,po);return n.length&&n[0]===e[0]?ro(n):[]}),_p=V(function(e){var n=Je(e),s=de(e,po);return n===Je(s)?n=t:s.pop(),s.length&&s[0]===e[0]?ro(s,z(n,2)):[]}),mp=V(function(e){var n=Je(e),s=de(e,po);return n=typeof n=="function"?n:t,n&&s.pop(),s.length&&s[0]===e[0]?ro(s,t,n):[]});function wp(e,n){return e==null?"":vc.call(e,n)}function Je(e){var n=e==null?0:e.length;return n?e[n-1]:t}function bp(e,n,s){var h=e==null?0:e.length;if(!h)return-1;var l=h;return s!==t&&(l=X(s),l=l<0?Ee(h+l,0):Le(l,h-1)),n===n?ec(e,n,l):pr(e,Ja,l,!0)}function Ep(e,n){return e&&e.length?Rs(e,X(n)):t}var xp=V(mu);function mu(e,n){return e&&e.length&&n&&n.length?so(e,n):e}function Ap(e,n,s){return e&&e.length&&n&&n.length?so(e,n,z(s,2)):e}function Sp(e,n,s){return e&&e.length&&n&&n.length?so(e,n,t,s):e}var Tp=At(function(e,n){var s=e==null?0:e.length,h=Qi(e,n);return Os(e,de(n,function(l){return St(l,s)?+l:l}).sort(zs)),h});function Cp(e,n){var s=[];if(!(e&&e.length))return s;var h=-1,l=[],p=e.length;for(n=z(n,3);++h<p;){var y=e[h];n(y,h,e)&&(s.push(y),l.push(h))}return Os(e,l),s}function Lo(e){return e==null?e:wc.call(e)}function Lp(e,n,s){var h=e==null?0:e.length;return h?(s&&typeof s!="number"&&Oe(e,n,s)?(n=0,s=h):(n=n==null?0:X(n),s=s===t?h:X(s)),Ve(e,n,s)):[]}function Rp(e,n){return Fr(e,n)}function Dp(e,n,s){return fo(e,n,z(s,2))}function Np(e,n){var s=e==null?0:e.length;if(s){var h=Fr(e,n);if(h<s&&st(e[h],n))return h}return-1}function Op(e,n){return Fr(e,n,!0)}function Gp(e,n,s){return fo(e,n,z(s,2),!0)}function Fp(e,n){var s=e==null?0:e.length;if(s){var h=Fr(e,n,!0)-1;if(st(e[h],n))return h}return-1}function Pp(e){return e&&e.length?Fs(e):[]}function Ip(e,n){return e&&e.length?Fs(e,z(n,2)):[]}function Mp(e){var n=e==null?0:e.length;return n?Ve(e,1,n):[]}function $p(e,n,s){return e&&e.length?(n=s||n===t?1:X(n),Ve(e,0,n<0?0:n)):[]}function Up(e,n,s){var h=e==null?0:e.length;return h?(n=s||n===t?1:X(n),n=h-n,Ve(e,n<0?0:n,h)):[]}function kp(e,n){return e&&e.length?Pr(e,z(n,3),!1,!0):[]}function Bp(e,n){return e&&e.length?Pr(e,z(n,3)):[]}var zp=V(function(e){return Ut(Te(e,1,me,!0))}),Wp=V(function(e){var n=Je(e);return me(n)&&(n=t),Ut(Te(e,1,me,!0),z(n,2))}),Hp=V(function(e){var n=Je(e);return n=typeof n=="function"?n:t,Ut(Te(e,1,me,!0),t,n)});function Kp(e){return e&&e.length?Ut(e):[]}function qp(e,n){return e&&e.length?Ut(e,z(n,2)):[]}function Yp(e,n){return n=typeof n=="function"?n:t,e&&e.length?Ut(e,t,n):[]}function Ro(e){if(!(e&&e.length))return[];var n=0;return e=Ft(e,function(s){if(me(s))return n=Ee(s.length,n),!0}),Ki(n,function(s){return de(e,zi(s))})}function wu(e,n){if(!(e&&e.length))return[];var s=Ro(e);return n==null?s:de(s,function(h){return ke(n,t,h)})}var jp=V(function(e,n){return me(e)?qn(e,n):[]}),Xp=V(function(e){return co(Ft(e,me))}),Zp=V(function(e){var n=Je(e);return me(n)&&(n=t),co(Ft(e,me),z(n,2))}),Vp=V(function(e){var n=Je(e);return n=typeof n=="function"?n:t,co(Ft(e,me),t,n)}),Jp=V(Ro);function Qp(e,n){return $s(e||[],n||[],Kn)}function eg(e,n){return $s(e||[],n||[],Xn)}var tg=V(function(e){var n=e.length,s=n>1?e[n-1]:t;return s=typeof s=="function"?(e.pop(),s):t,wu(e,s)});function bu(e){var n=d(e);return n.__chain__=!0,n}function ng(e,n){return n(e),e}function Hr(e,n){return n(e)}var rg=At(function(e){var n=e.length,s=n?e[0]:0,h=this.__wrapped__,l=function(p){return Qi(p,e)};return n>1||this.__actions__.length||!(h instanceof ee)||!St(s)?this.thru(l):(h=h.slice(s,+s+(n?1:0)),h.__actions__.push({func:Hr,args:[l],thisArg:t}),new Xe(h,this.__chain__).thru(function(p){return n&&!p.length&&p.push(t),p}))});function ig(){return bu(this)}function og(){return new Xe(this.value(),this.__chain__)}function ag(){this.__values__===t&&(this.__values__=Pu(this.value()));var e=this.__index__>=this.__values__.length,n=e?t:this.__values__[this.__index__++];return{done:e,value:n}}function sg(){return this}function ug(e){for(var n,s=this;s instanceof Rr;){var h=pu(s);h.__index__=0,h.__values__=t,n?l.__wrapped__=h:n=h;var l=h;s=s.__wrapped__}return l.__wrapped__=e,n}function hg(){var e=this.__wrapped__;if(e instanceof ee){var n=e;return this.__actions__.length&&(n=new ee(this)),n=n.reverse(),n.__actions__.push({func:Hr,args:[Lo],thisArg:t}),new Xe(n,this.__chain__)}return this.thru(Lo)}function fg(){return Ms(this.__wrapped__,this.__actions__)}var lg=Ir(function(e,n,s){ae.call(e,s)?++e[s]:Et(e,s,1)});function cg(e,n,s){var h=j(e)?Za:nd;return s&&Oe(e,n,s)&&(n=t),h(e,z(n,3))}function dg(e,n){var s=j(e)?Ft:ws;return s(e,z(n,3))}var pg=js(gu),gg=js(vu);function vg(e,n){return Te(Kr(e,n),1)}function yg(e,n){return Te(Kr(e,n),lt)}function _g(e,n,s){return s=s===t?1:X(s),Te(Kr(e,n),s)}function Eu(e,n){var s=j(e)?Ye:$t;return s(e,z(n,3))}function xu(e,n){var s=j(e)?Ml:ms;return s(e,z(n,3))}var mg=Ir(function(e,n,s){ae.call(e,s)?e[s].push(n):Et(e,s,[n])});function wg(e,n,s,h){e=Ie(e)?e:En(e),s=s&&!h?X(s):0;var l=e.length;return s<0&&(s=Ee(l+s,0)),Zr(e)?s<=l&&e.indexOf(n,s)>-1:!!l&&fn(e,n,s)>-1}var bg=V(function(e,n,s){var h=-1,l=typeof n=="function",p=Ie(e)?A(e.length):[];return $t(e,function(y){p[++h]=l?ke(n,y,s):Yn(y,n,s)}),p}),Eg=Ir(function(e,n,s){Et(e,s,n)});function Kr(e,n){var s=j(e)?de:Ts;return s(e,z(n,3))}function xg(e,n,s,h){return e==null?[]:(j(n)||(n=n==null?[]:[n]),s=h?t:s,j(s)||(s=s==null?[]:[s]),Ds(e,n,s))}var Ag=Ir(function(e,n,s){e[s?0:1].push(n)},function(){return[[],[]]});function Sg(e,n,s){var h=j(e)?ki:es,l=arguments.length<3;return h(e,z(n,4),s,l,$t)}function Tg(e,n,s){var h=j(e)?$l:es,l=arguments.length<3;return h(e,z(n,4),s,l,ms)}function Cg(e,n){var s=j(e)?Ft:ws;return s(e,jr(z(n,3)))}function Lg(e){var n=j(e)?gs:wd;return n(e)}function Rg(e,n,s){(s?Oe(e,n,s):n===t)?n=1:n=X(n);var h=j(e)?Vc:bd;return h(e,n)}function Dg(e){var n=j(e)?Jc:xd;return n(e)}function Ng(e){if(e==null)return 0;if(Ie(e))return Zr(e)?cn(e):e.length;var n=Re(e);return n==rt||n==it?e.size:oo(e).length}function Og(e,n,s){var h=j(e)?Bi:Ad;return s&&Oe(e,n,s)&&(n=t),h(e,z(n,3))}var Gg=V(function(e,n){if(e==null)return[];var s=n.length;return s>1&&Oe(e,n[0],n[1])?n=[]:s>2&&Oe(n[0],n[1],n[2])&&(n=[n[0]]),Ds(e,Te(n,1),[])}),qr=dc||function(){return Se.Date.now()};function Fg(e,n){if(typeof n!="function")throw new je(f);return e=X(e),function(){if(--e<1)return n.apply(this,arguments)}}function Au(e,n,s){return n=s?t:n,n=e&&n==null?e.length:n,xt(e,_e,t,t,t,t,n)}function Su(e,n){var s;if(typeof n!="function")throw new je(f);return e=X(e),function(){return--e>0&&(s=n.apply(this,arguments)),e<=1&&(n=t),s}}var Do=V(function(e,n,s){var h=F;if(s.length){var l=It(s,wn(Do));h|=ne}return xt(e,h,n,s,l)}),Tu=V(function(e,n,s){var h=F|U;if(s.length){var l=It(s,wn(Tu));h|=ne}return xt(n,h,e,s,l)});function Cu(e,n,s){n=s?t:n;var h=xt(e,I,t,t,t,t,t,n);return h.placeholder=Cu.placeholder,h}function Lu(e,n,s){n=s?t:n;var h=xt(e,Q,t,t,t,t,t,n);return h.placeholder=Lu.placeholder,h}function Ru(e,n,s){var h,l,p,y,m,E,C=0,L=!1,D=!1,P=!0;if(typeof e!="function")throw new je(f);n=Qe(n)||0,pe(s)&&(L=!!s.leading,D="maxWait"in s,p=D?Ee(Qe(s.maxWait)||0,n):p,P="trailing"in s?!!s.trailing:P);function k(we){var ut=h,Lt=l;return h=l=t,C=we,y=e.apply(Lt,ut),y}function K(we){return C=we,m=Jn(J,n),L?k(we):y}function Z(we){var ut=we-E,Lt=we-C,ju=n-ut;return D?Le(ju,p-Lt):ju}function q(we){var ut=we-E,Lt=we-C;return E===t||ut>=n||ut<0||D&&Lt>=p}function J(){var we=qr();if(q(we))return te(we);m=Jn(J,Z(we))}function te(we){return m=t,P&&h?k(we):(h=l=t,y)}function He(){m!==t&&Us(m),C=0,h=E=l=m=t}function Ge(){return m===t?y:te(qr())}function Ke(){var we=qr(),ut=q(we);if(h=arguments,l=this,E=we,ut){if(m===t)return K(E);if(D)return Us(m),m=Jn(J,n),k(E)}return m===t&&(m=Jn(J,n)),y}return Ke.cancel=He,Ke.flush=Ge,Ke}var Pg=V(function(e,n){return _s(e,1,n)}),Ig=V(function(e,n,s){return _s(e,Qe(n)||0,s)});function Mg(e){return xt(e,Ot)}function Yr(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new je(f);var s=function(){var h=arguments,l=n?n.apply(this,h):h[0],p=s.cache;if(p.has(l))return p.get(l);var y=e.apply(this,h);return s.cache=p.set(l,y)||p,y};return s.cache=new(Yr.Cache||bt),s}Yr.Cache=bt;function jr(e){if(typeof e!="function")throw new je(f);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function $g(e){return Su(2,e)}var Ug=Sd(function(e,n){n=n.length==1&&j(n[0])?de(n[0],Be(z())):de(Te(n,1),Be(z()));var s=n.length;return V(function(h){for(var l=-1,p=Le(h.length,s);++l<p;)h[l]=n[l].call(this,h[l]);return ke(e,this,h)})}),No=V(function(e,n){var s=It(n,wn(No));return xt(e,ne,t,n,s)}),Du=V(function(e,n){var s=It(n,wn(Du));return xt(e,ve,t,n,s)}),kg=At(function(e,n){return xt(e,Nt,t,t,t,n)});function Bg(e,n){if(typeof e!="function")throw new je(f);return n=n===t?n:X(n),V(e,n)}function zg(e,n){if(typeof e!="function")throw new je(f);return n=n==null?0:Ee(X(n),0),V(function(s){var h=s[n],l=Bt(s,0,n);return h&&Pt(l,h),ke(e,this,l)})}function Wg(e,n,s){var h=!0,l=!0;if(typeof e!="function")throw new je(f);return pe(s)&&(h="leading"in s?!!s.leading:h,l="trailing"in s?!!s.trailing:l),Ru(e,n,{leading:h,maxWait:n,trailing:l})}function Hg(e){return Au(e,1)}function Kg(e,n){return No(go(n),e)}function qg(){if(!arguments.length)return[];var e=arguments[0];return j(e)?e:[e]}function Yg(e){return Ze(e,S)}function jg(e,n){return n=typeof n=="function"?n:t,Ze(e,S,n)}function Xg(e){return Ze(e,w|S)}function Zg(e,n){return n=typeof n=="function"?n:t,Ze(e,w|S,n)}function Vg(e,n){return n==null||ys(e,n,Ae(n))}function st(e,n){return e===n||e!==e&&n!==n}var Jg=kr(no),Qg=kr(function(e,n){return e>=n}),nn=xs(function(){return arguments}())?xs:function(e){return ye(e)&&ae.call(e,"callee")&&!hs.call(e,"callee")},j=A.isArray,ev=Ha?Be(Ha):ud;function Ie(e){return e!=null&&Xr(e.length)&&!Tt(e)}function me(e){return ye(e)&&Ie(e)}function tv(e){return e===!0||e===!1||ye(e)&&Ne(e)==On}var zt=gc||zo,nv=Ka?Be(Ka):hd;function rv(e){return ye(e)&&e.nodeType===1&&!Qn(e)}function iv(e){if(e==null)return!0;if(Ie(e)&&(j(e)||typeof e=="string"||typeof e.splice=="function"||zt(e)||bn(e)||nn(e)))return!e.length;var n=Re(e);if(n==rt||n==it)return!e.size;if(Vn(e))return!oo(e).length;for(var s in e)if(ae.call(e,s))return!1;return!0}function ov(e,n){return jn(e,n)}function av(e,n,s){s=typeof s=="function"?s:t;var h=s?s(e,n):t;return h===t?jn(e,n,t,s):!!h}function Oo(e){if(!ye(e))return!1;var n=Ne(e);return n==sr||n==Rf||typeof e.message=="string"&&typeof e.name=="string"&&!Qn(e)}function sv(e){return typeof e=="number"&&ls(e)}function Tt(e){if(!pe(e))return!1;var n=Ne(e);return n==ur||n==_a||n==Lf||n==Nf}function Nu(e){return typeof e=="number"&&e==X(e)}function Xr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Gt}function pe(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function ye(e){return e!=null&&typeof e=="object"}var Ou=qa?Be(qa):ld;function uv(e,n){return e===n||io(e,n,Eo(n))}function hv(e,n,s){return s=typeof s=="function"?s:t,io(e,n,Eo(n),s)}function fv(e){return Gu(e)&&e!=+e}function lv(e){if(jd(e))throw new Y(u);return As(e)}function cv(e){return e===null}function dv(e){return e==null}function Gu(e){return typeof e=="number"||ye(e)&&Ne(e)==Fn}function Qn(e){if(!ye(e)||Ne(e)!=mt)return!1;var n=Er(e);if(n===null)return!0;var s=ae.call(n,"constructor")&&n.constructor;return typeof s=="function"&&s instanceof s&&_r.call(s)==hc}var Go=Ya?Be(Ya):cd;function pv(e){return Nu(e)&&e>=-Gt&&e<=Gt}var Fu=ja?Be(ja):dd;function Zr(e){return typeof e=="string"||!j(e)&&ye(e)&&Ne(e)==In}function We(e){return typeof e=="symbol"||ye(e)&&Ne(e)==hr}var bn=Xa?Be(Xa):pd;function gv(e){return e===t}function vv(e){return ye(e)&&Re(e)==Mn}function yv(e){return ye(e)&&Ne(e)==Gf}var _v=kr(ao),mv=kr(function(e,n){return e<=n});function Pu(e){if(!e)return[];if(Ie(e))return Zr(e)?ot(e):Pe(e);if(kn&&e[kn])return Vl(e[kn]());var n=Re(e),s=n==rt?Yi:n==it?gr:En;return s(e)}function Ct(e){if(!e)return e===0?e:0;if(e=Qe(e),e===lt||e===-lt){var n=e<0?-1:1;return n*Af}return e===e?e:0}function X(e){var n=Ct(e),s=n%1;return n===n?s?n-s:n:0}function Iu(e){return e?Jt(X(e),0,ct):0}function Qe(e){if(typeof e=="number")return e;if(We(e))return or;if(pe(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=pe(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=ts(e);var s=el.test(e);return s||nl.test(e)?Fl(e.slice(2),s?2:8):Qf.test(e)?or:+e}function Mu(e){return pt(e,Me(e))}function wv(e){return e?Jt(X(e),-Gt,Gt):e===0?e:0}function oe(e){return e==null?"":ze(e)}var bv=_n(function(e,n){if(Vn(n)||Ie(n)){pt(n,Ae(n),e);return}for(var s in n)ae.call(n,s)&&Kn(e,s,n[s])}),$u=_n(function(e,n){pt(n,Me(n),e)}),Vr=_n(function(e,n,s,h){pt(n,Me(n),e,h)}),Ev=_n(function(e,n,s,h){pt(n,Ae(n),e,h)}),xv=At(Qi);function Av(e,n){var s=yn(e);return n==null?s:vs(s,n)}var Sv=V(function(e,n){e=he(e);var s=-1,h=n.length,l=h>2?n[2]:t;for(l&&Oe(n[0],n[1],l)&&(h=1);++s<h;)for(var p=n[s],y=Me(p),m=-1,E=y.length;++m<E;){var C=y[m],L=e[C];(L===t||st(L,pn[C])&&!ae.call(e,C))&&(e[C]=p[C])}return e}),Tv=V(function(e){return e.push(t,tu),ke(Uu,t,e)});function Cv(e,n){return Va(e,z(n,3),dt)}function Lv(e,n){return Va(e,z(n,3),to)}function Rv(e,n){return e==null?e:eo(e,z(n,3),Me)}function Dv(e,n){return e==null?e:bs(e,z(n,3),Me)}function Nv(e,n){return e&&dt(e,z(n,3))}function Ov(e,n){return e&&to(e,z(n,3))}function Gv(e){return e==null?[]:Or(e,Ae(e))}function Fv(e){return e==null?[]:Or(e,Me(e))}function Fo(e,n,s){var h=e==null?t:Qt(e,n);return h===t?s:h}function Pv(e,n){return e!=null&&iu(e,n,id)}function Po(e,n){return e!=null&&iu(e,n,od)}var Iv=Zs(function(e,n,s){n!=null&&typeof n.toString!="function"&&(n=mr.call(n)),e[n]=s},Mo($e)),Mv=Zs(function(e,n,s){n!=null&&typeof n.toString!="function"&&(n=mr.call(n)),ae.call(e,n)?e[n].push(s):e[n]=[s]},z),$v=V(Yn);function Ae(e){return Ie(e)?ps(e):oo(e)}function Me(e){return Ie(e)?ps(e,!0):gd(e)}function Uv(e,n){var s={};return n=z(n,3),dt(e,function(h,l,p){Et(s,n(h,l,p),h)}),s}function kv(e,n){var s={};return n=z(n,3),dt(e,function(h,l,p){Et(s,l,n(h,l,p))}),s}var Bv=_n(function(e,n,s){Gr(e,n,s)}),Uu=_n(function(e,n,s,h){Gr(e,n,s,h)}),zv=At(function(e,n){var s={};if(e==null)return s;var h=!1;n=de(n,function(p){return p=kt(p,e),h||(h=p.length>1),p}),pt(e,wo(e),s),h&&(s=Ze(s,w|x|S,Id));for(var l=n.length;l--;)lo(s,n[l]);return s});function Wv(e,n){return ku(e,jr(z(n)))}var Hv=At(function(e,n){return e==null?{}:yd(e,n)});function ku(e,n){if(e==null)return{};var s=de(wo(e),function(h){return[h]});return n=z(n),Ns(e,s,function(h,l){return n(h,l[0])})}function Kv(e,n,s){n=kt(n,e);var h=-1,l=n.length;for(l||(l=1,e=t);++h<l;){var p=e==null?t:e[gt(n[h])];p===t&&(h=l,p=s),e=Tt(p)?p.call(e):p}return e}function qv(e,n,s){return e==null?e:Xn(e,n,s)}function Yv(e,n,s,h){return h=typeof h=="function"?h:t,e==null?e:Xn(e,n,s,h)}var Bu=Qs(Ae),zu=Qs(Me);function jv(e,n,s){var h=j(e),l=h||zt(e)||bn(e);if(n=z(n,4),s==null){var p=e&&e.constructor;l?s=h?new p:[]:pe(e)?s=Tt(p)?yn(Er(e)):{}:s={}}return(l?Ye:dt)(e,function(y,m,E){return n(s,y,m,E)}),s}function Xv(e,n){return e==null?!0:lo(e,n)}function Zv(e,n,s){return e==null?e:Is(e,n,go(s))}function Vv(e,n,s,h){return h=typeof h=="function"?h:t,e==null?e:Is(e,n,go(s),h)}function En(e){return e==null?[]:qi(e,Ae(e))}function Jv(e){return e==null?[]:qi(e,Me(e))}function Qv(e,n,s){return s===t&&(s=n,n=t),s!==t&&(s=Qe(s),s=s===s?s:0),n!==t&&(n=Qe(n),n=n===n?n:0),Jt(Qe(e),n,s)}function ey(e,n,s){return n=Ct(n),s===t?(s=n,n=0):s=Ct(s),e=Qe(e),ad(e,n,s)}function ty(e,n,s){if(s&&typeof s!="boolean"&&Oe(e,n,s)&&(n=s=t),s===t&&(typeof n=="boolean"?(s=n,n=t):typeof e=="boolean"&&(s=e,e=t)),e===t&&n===t?(e=0,n=1):(e=Ct(e),n===t?(n=e,e=0):n=Ct(n)),e>n){var h=e;e=n,n=h}if(s||e%1||n%1){var l=cs();return Le(e+l*(n-e+Gl("1e-"+((l+"").length-1))),n)}return uo(e,n)}var ny=mn(function(e,n,s){return n=n.toLowerCase(),e+(s?Wu(n):n)});function Wu(e){return Io(oe(e).toLowerCase())}function Hu(e){return e=oe(e),e&&e.replace(il,ql).replace(xl,"")}function ry(e,n,s){e=oe(e),n=ze(n);var h=e.length;s=s===t?h:Jt(X(s),0,h);var l=s;return s-=n.length,s>=0&&e.slice(s,l)==n}function iy(e){return e=oe(e),e&&$f.test(e)?e.replace(ba,Yl):e}function oy(e){return e=oe(e),e&&Hf.test(e)?e.replace(Di,"\\$&"):e}var ay=mn(function(e,n,s){return e+(s?"-":"")+n.toLowerCase()}),sy=mn(function(e,n,s){return e+(s?" ":"")+n.toLowerCase()}),uy=Ys("toLowerCase");function hy(e,n,s){e=oe(e),n=X(n);var h=n?cn(e):0;if(!n||h>=n)return e;var l=(n-h)/2;return Ur(Tr(l),s)+e+Ur(Sr(l),s)}function fy(e,n,s){e=oe(e),n=X(n);var h=n?cn(e):0;return n&&h<n?e+Ur(n-h,s):e}function ly(e,n,s){e=oe(e),n=X(n);var h=n?cn(e):0;return n&&h<n?Ur(n-h,s)+e:e}function cy(e,n,s){return s||n==null?n=0:n&&(n=+n),mc(oe(e).replace(Ni,""),n||0)}function dy(e,n,s){return(s?Oe(e,n,s):n===t)?n=1:n=X(n),ho(oe(e),n)}function py(){var e=arguments,n=oe(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var gy=mn(function(e,n,s){return e+(s?"_":"")+n.toLowerCase()});function vy(e,n,s){return s&&typeof s!="number"&&Oe(e,n,s)&&(n=s=t),s=s===t?ct:s>>>0,s?(e=oe(e),e&&(typeof n=="string"||n!=null&&!Go(n))&&(n=ze(n),!n&&ln(e))?Bt(ot(e),0,s):e.split(n,s)):[]}var yy=mn(function(e,n,s){return e+(s?" ":"")+Io(n)});function _y(e,n,s){return e=oe(e),s=s==null?0:Jt(X(s),0,e.length),n=ze(n),e.slice(s,s+n.length)==n}function my(e,n,s){var h=d.templateSettings;s&&Oe(e,n,s)&&(n=t),e=oe(e),n=Vr({},n,h,eu);var l=Vr({},n.imports,h.imports,eu),p=Ae(l),y=qi(l,p),m,E,C=0,L=n.interpolate||fr,D="__p += '",P=ji((n.escape||fr).source+"|"+L.source+"|"+(L===Ea?Jf:fr).source+"|"+(n.evaluate||fr).source+"|$","g"),k="//# sourceURL="+(ae.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ll+"]")+`
`;e.replace(P,function(q,J,te,He,Ge,Ke){return te||(te=He),D+=e.slice(C,Ke).replace(ol,jl),J&&(m=!0,D+=`' +
__e(`+J+`) +
'`),Ge&&(E=!0,D+=`';
`+Ge+`;
__p += '`),te&&(D+=`' +
((__t = (`+te+`)) == null ? '' : __t) +
'`),C=Ke+q.length,q}),D+=`';
`;var K=ae.call(n,"variable")&&n.variable;if(!K)D=`with (obj) {
`+D+`
}
`;else if(Zf.test(K))throw new Y(c);D=(E?D.replace(Ff,""):D).replace(Pf,"$1").replace(If,"$1;"),D="function("+(K||"obj")+`) {
`+(K?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+D+`return __p
}`;var Z=qu(function(){return ie(p,k+"return "+D).apply(t,y)});if(Z.source=D,Oo(Z))throw Z;return Z}function wy(e){return oe(e).toLowerCase()}function by(e){return oe(e).toUpperCase()}function Ey(e,n,s){if(e=oe(e),e&&(s||n===t))return ts(e);if(!e||!(n=ze(n)))return e;var h=ot(e),l=ot(n),p=ns(h,l),y=rs(h,l)+1;return Bt(h,p,y).join("")}function xy(e,n,s){if(e=oe(e),e&&(s||n===t))return e.slice(0,os(e)+1);if(!e||!(n=ze(n)))return e;var h=ot(e),l=rs(h,ot(n))+1;return Bt(h,0,l).join("")}function Ay(e,n,s){if(e=oe(e),e&&(s||n===t))return e.replace(Ni,"");if(!e||!(n=ze(n)))return e;var h=ot(e),l=ns(h,ot(n));return Bt(h,l).join("")}function Sy(e,n){var s=ir,h=Yt;if(pe(n)){var l="separator"in n?n.separator:l;s="length"in n?X(n.length):s,h="omission"in n?ze(n.omission):h}e=oe(e);var p=e.length;if(ln(e)){var y=ot(e);p=y.length}if(s>=p)return e;var m=s-cn(h);if(m<1)return h;var E=y?Bt(y,0,m).join(""):e.slice(0,m);if(l===t)return E+h;if(y&&(m+=E.length-m),Go(l)){if(e.slice(m).search(l)){var C,L=E;for(l.global||(l=ji(l.source,oe(xa.exec(l))+"g")),l.lastIndex=0;C=l.exec(L);)var D=C.index;E=E.slice(0,D===t?m:D)}}else if(e.indexOf(ze(l),m)!=m){var P=E.lastIndexOf(l);P>-1&&(E=E.slice(0,P))}return E+h}function Ty(e){return e=oe(e),e&&Mf.test(e)?e.replace(wa,tc):e}var Cy=mn(function(e,n,s){return e+(s?" ":"")+n.toUpperCase()}),Io=Ys("toUpperCase");function Ku(e,n,s){return e=oe(e),n=s?t:n,n===t?Zl(e)?ic(e):Bl(e):e.match(n)||[]}var qu=V(function(e,n){try{return ke(e,t,n)}catch(s){return Oo(s)?s:new Y(s)}}),Ly=At(function(e,n){return Ye(n,function(s){s=gt(s),Et(e,s,Do(e[s],e))}),e});function Ry(e){var n=e==null?0:e.length,s=z();return e=n?de(e,function(h){if(typeof h[1]!="function")throw new je(f);return[s(h[0]),h[1]]}):[],V(function(h){for(var l=-1;++l<n;){var p=e[l];if(ke(p[0],this,h))return ke(p[1],this,h)}})}function Dy(e){return td(Ze(e,w))}function Mo(e){return function(){return e}}function Ny(e,n){return e==null||e!==e?n:e}var Oy=Xs(),Gy=Xs(!0);function $e(e){return e}function $o(e){return Ss(typeof e=="function"?e:Ze(e,w))}function Fy(e){return Cs(Ze(e,w))}function Py(e,n){return Ls(e,Ze(n,w))}var Iy=V(function(e,n){return function(s){return Yn(s,e,n)}}),My=V(function(e,n){return function(s){return Yn(e,s,n)}});function Uo(e,n,s){var h=Ae(n),l=Or(n,h);s==null&&!(pe(n)&&(l.length||!h.length))&&(s=n,n=e,e=this,l=Or(n,Ae(n)));var p=!(pe(s)&&"chain"in s)||!!s.chain,y=Tt(e);return Ye(l,function(m){var E=n[m];e[m]=E,y&&(e.prototype[m]=function(){var C=this.__chain__;if(p||C){var L=e(this.__wrapped__),D=L.__actions__=Pe(this.__actions__);return D.push({func:E,args:arguments,thisArg:e}),L.__chain__=C,L}return E.apply(e,Pt([this.value()],arguments))})}),e}function $y(){return Se._===this&&(Se._=fc),this}function ko(){}function Uy(e){return e=X(e),V(function(n){return Rs(n,e)})}var ky=yo(de),By=yo(Za),zy=yo(Bi);function Yu(e){return Ao(e)?zi(gt(e)):_d(e)}function Wy(e){return function(n){return e==null?t:Qt(e,n)}}var Hy=Vs(),Ky=Vs(!0);function Bo(){return[]}function zo(){return!1}function qy(){return{}}function Yy(){return""}function jy(){return!0}function Xy(e,n){if(e=X(e),e<1||e>Gt)return[];var s=ct,h=Le(e,ct);n=z(n),e-=ct;for(var l=Ki(h,n);++s<e;)n(s);return l}function Zy(e){return j(e)?de(e,gt):We(e)?[e]:Pe(du(oe(e)))}function Vy(e){var n=++uc;return oe(e)+n}var Jy=$r(function(e,n){return e+n},0),Qy=_o("ceil"),e_=$r(function(e,n){return e/n},1),t_=_o("floor");function n_(e){return e&&e.length?Nr(e,$e,no):t}function r_(e,n){return e&&e.length?Nr(e,z(n,2),no):t}function i_(e){return Qa(e,$e)}function o_(e,n){return Qa(e,z(n,2))}function a_(e){return e&&e.length?Nr(e,$e,ao):t}function s_(e,n){return e&&e.length?Nr(e,z(n,2),ao):t}var u_=$r(function(e,n){return e*n},1),h_=_o("round"),f_=$r(function(e,n){return e-n},0);function l_(e){return e&&e.length?Hi(e,$e):0}function c_(e,n){return e&&e.length?Hi(e,z(n,2)):0}return d.after=Fg,d.ary=Au,d.assign=bv,d.assignIn=$u,d.assignInWith=Vr,d.assignWith=Ev,d.at=xv,d.before=Su,d.bind=Do,d.bindAll=Ly,d.bindKey=Tu,d.castArray=qg,d.chain=bu,d.chunk=tp,d.compact=np,d.concat=rp,d.cond=Ry,d.conforms=Dy,d.constant=Mo,d.countBy=lg,d.create=Av,d.curry=Cu,d.curryRight=Lu,d.debounce=Ru,d.defaults=Sv,d.defaultsDeep=Tv,d.defer=Pg,d.delay=Ig,d.difference=ip,d.differenceBy=op,d.differenceWith=ap,d.drop=sp,d.dropRight=up,d.dropRightWhile=hp,d.dropWhile=fp,d.fill=lp,d.filter=dg,d.flatMap=vg,d.flatMapDeep=yg,d.flatMapDepth=_g,d.flatten=yu,d.flattenDeep=cp,d.flattenDepth=dp,d.flip=Mg,d.flow=Oy,d.flowRight=Gy,d.fromPairs=pp,d.functions=Gv,d.functionsIn=Fv,d.groupBy=mg,d.initial=vp,d.intersection=yp,d.intersectionBy=_p,d.intersectionWith=mp,d.invert=Iv,d.invertBy=Mv,d.invokeMap=bg,d.iteratee=$o,d.keyBy=Eg,d.keys=Ae,d.keysIn=Me,d.map=Kr,d.mapKeys=Uv,d.mapValues=kv,d.matches=Fy,d.matchesProperty=Py,d.memoize=Yr,d.merge=Bv,d.mergeWith=Uu,d.method=Iy,d.methodOf=My,d.mixin=Uo,d.negate=jr,d.nthArg=Uy,d.omit=zv,d.omitBy=Wv,d.once=$g,d.orderBy=xg,d.over=ky,d.overArgs=Ug,d.overEvery=By,d.overSome=zy,d.partial=No,d.partialRight=Du,d.partition=Ag,d.pick=Hv,d.pickBy=ku,d.property=Yu,d.propertyOf=Wy,d.pull=xp,d.pullAll=mu,d.pullAllBy=Ap,d.pullAllWith=Sp,d.pullAt=Tp,d.range=Hy,d.rangeRight=Ky,d.rearg=kg,d.reject=Cg,d.remove=Cp,d.rest=Bg,d.reverse=Lo,d.sampleSize=Rg,d.set=qv,d.setWith=Yv,d.shuffle=Dg,d.slice=Lp,d.sortBy=Gg,d.sortedUniq=Pp,d.sortedUniqBy=Ip,d.split=vy,d.spread=zg,d.tail=Mp,d.take=$p,d.takeRight=Up,d.takeRightWhile=kp,d.takeWhile=Bp,d.tap=ng,d.throttle=Wg,d.thru=Hr,d.toArray=Pu,d.toPairs=Bu,d.toPairsIn=zu,d.toPath=Zy,d.toPlainObject=Mu,d.transform=jv,d.unary=Hg,d.union=zp,d.unionBy=Wp,d.unionWith=Hp,d.uniq=Kp,d.uniqBy=qp,d.uniqWith=Yp,d.unset=Xv,d.unzip=Ro,d.unzipWith=wu,d.update=Zv,d.updateWith=Vv,d.values=En,d.valuesIn=Jv,d.without=jp,d.words=Ku,d.wrap=Kg,d.xor=Xp,d.xorBy=Zp,d.xorWith=Vp,d.zip=Jp,d.zipObject=Qp,d.zipObjectDeep=eg,d.zipWith=tg,d.entries=Bu,d.entriesIn=zu,d.extend=$u,d.extendWith=Vr,Uo(d,d),d.add=Jy,d.attempt=qu,d.camelCase=ny,d.capitalize=Wu,d.ceil=Qy,d.clamp=Qv,d.clone=Yg,d.cloneDeep=Xg,d.cloneDeepWith=Zg,d.cloneWith=jg,d.conformsTo=Vg,d.deburr=Hu,d.defaultTo=Ny,d.divide=e_,d.endsWith=ry,d.eq=st,d.escape=iy,d.escapeRegExp=oy,d.every=cg,d.find=pg,d.findIndex=gu,d.findKey=Cv,d.findLast=gg,d.findLastIndex=vu,d.findLastKey=Lv,d.floor=t_,d.forEach=Eu,d.forEachRight=xu,d.forIn=Rv,d.forInRight=Dv,d.forOwn=Nv,d.forOwnRight=Ov,d.get=Fo,d.gt=Jg,d.gte=Qg,d.has=Pv,d.hasIn=Po,d.head=_u,d.identity=$e,d.includes=wg,d.indexOf=gp,d.inRange=ey,d.invoke=$v,d.isArguments=nn,d.isArray=j,d.isArrayBuffer=ev,d.isArrayLike=Ie,d.isArrayLikeObject=me,d.isBoolean=tv,d.isBuffer=zt,d.isDate=nv,d.isElement=rv,d.isEmpty=iv,d.isEqual=ov,d.isEqualWith=av,d.isError=Oo,d.isFinite=sv,d.isFunction=Tt,d.isInteger=Nu,d.isLength=Xr,d.isMap=Ou,d.isMatch=uv,d.isMatchWith=hv,d.isNaN=fv,d.isNative=lv,d.isNil=dv,d.isNull=cv,d.isNumber=Gu,d.isObject=pe,d.isObjectLike=ye,d.isPlainObject=Qn,d.isRegExp=Go,d.isSafeInteger=pv,d.isSet=Fu,d.isString=Zr,d.isSymbol=We,d.isTypedArray=bn,d.isUndefined=gv,d.isWeakMap=vv,d.isWeakSet=yv,d.join=wp,d.kebabCase=ay,d.last=Je,d.lastIndexOf=bp,d.lowerCase=sy,d.lowerFirst=uy,d.lt=_v,d.lte=mv,d.max=n_,d.maxBy=r_,d.mean=i_,d.meanBy=o_,d.min=a_,d.minBy=s_,d.stubArray=Bo,d.stubFalse=zo,d.stubObject=qy,d.stubString=Yy,d.stubTrue=jy,d.multiply=u_,d.nth=Ep,d.noConflict=$y,d.noop=ko,d.now=qr,d.pad=hy,d.padEnd=fy,d.padStart=ly,d.parseInt=cy,d.random=ty,d.reduce=Sg,d.reduceRight=Tg,d.repeat=dy,d.replace=py,d.result=Kv,d.round=h_,d.runInContext=b,d.sample=Lg,d.size=Ng,d.snakeCase=gy,d.some=Og,d.sortedIndex=Rp,d.sortedIndexBy=Dp,d.sortedIndexOf=Np,d.sortedLastIndex=Op,d.sortedLastIndexBy=Gp,d.sortedLastIndexOf=Fp,d.startCase=yy,d.startsWith=_y,d.subtract=f_,d.sum=l_,d.sumBy=c_,d.template=my,d.times=Xy,d.toFinite=Ct,d.toInteger=X,d.toLength=Iu,d.toLower=wy,d.toNumber=Qe,d.toSafeInteger=wv,d.toString=oe,d.toUpper=by,d.trim=Ey,d.trimEnd=xy,d.trimStart=Ay,d.truncate=Sy,d.unescape=Ty,d.uniqueId=Vy,d.upperCase=Cy,d.upperFirst=Io,d.each=Eu,d.eachRight=xu,d.first=_u,Uo(d,function(){var e={};return dt(d,function(n,s){ae.call(d.prototype,s)||(e[s]=n)}),e}(),{chain:!1}),d.VERSION=i,Ye(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){d[e].placeholder=d}),Ye(["drop","take"],function(e,n){ee.prototype[e]=function(s){s=s===t?1:Ee(X(s),0);var h=this.__filtered__&&!n?new ee(this):this.clone();return h.__filtered__?h.__takeCount__=Le(s,h.__takeCount__):h.__views__.push({size:Le(s,ct),type:e+(h.__dir__<0?"Right":"")}),h},ee.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),Ye(["filter","map","takeWhile"],function(e,n){var s=n+1,h=s==Nn||s==wi;ee.prototype[e]=function(l){var p=this.clone();return p.__iteratees__.push({iteratee:z(l,3),type:s}),p.__filtered__=p.__filtered__||h,p}}),Ye(["head","last"],function(e,n){var s="take"+(n?"Right":"");ee.prototype[e]=function(){return this[s](1).value()[0]}}),Ye(["initial","tail"],function(e,n){var s="drop"+(n?"":"Right");ee.prototype[e]=function(){return this.__filtered__?new ee(this):this[s](1)}}),ee.prototype.compact=function(){return this.filter($e)},ee.prototype.find=function(e){return this.filter(e).head()},ee.prototype.findLast=function(e){return this.reverse().find(e)},ee.prototype.invokeMap=V(function(e,n){return typeof e=="function"?new ee(this):this.map(function(s){return Yn(s,e,n)})}),ee.prototype.reject=function(e){return this.filter(jr(z(e)))},ee.prototype.slice=function(e,n){e=X(e);var s=this;return s.__filtered__&&(e>0||n<0)?new ee(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),n!==t&&(n=X(n),s=n<0?s.dropRight(-n):s.take(n-e)),s)},ee.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ee.prototype.toArray=function(){return this.take(ct)},dt(ee.prototype,function(e,n){var s=/^(?:filter|find|map|reject)|While$/.test(n),h=/^(?:head|last)$/.test(n),l=d[h?"take"+(n=="last"?"Right":""):n],p=h||/^find/.test(n);l&&(d.prototype[n]=function(){var y=this.__wrapped__,m=h?[1]:arguments,E=y instanceof ee,C=m[0],L=E||j(y),D=function(J){var te=l.apply(d,Pt([J],m));return h&&P?te[0]:te};L&&s&&typeof C=="function"&&C.length!=1&&(E=L=!1);var P=this.__chain__,k=!!this.__actions__.length,K=p&&!P,Z=E&&!k;if(!p&&L){y=Z?y:new ee(this);var q=e.apply(y,m);return q.__actions__.push({func:Hr,args:[D],thisArg:t}),new Xe(q,P)}return K&&Z?e.apply(this,m):(q=this.thru(D),K?h?q.value()[0]:q.value():q)})}),Ye(["pop","push","shift","sort","splice","unshift"],function(e){var n=vr[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",h=/^(?:pop|shift)$/.test(e);d.prototype[e]=function(){var l=arguments;if(h&&!this.__chain__){var p=this.value();return n.apply(j(p)?p:[],l)}return this[s](function(y){return n.apply(j(y)?y:[],l)})}}),dt(ee.prototype,function(e,n){var s=d[n];if(s){var h=s.name+"";ae.call(vn,h)||(vn[h]=[]),vn[h].push({name:n,func:s})}}),vn[Mr(t,U).name]=[{name:"wrapper",func:t}],ee.prototype.clone=Tc,ee.prototype.reverse=Cc,ee.prototype.value=Lc,d.prototype.at=rg,d.prototype.chain=ig,d.prototype.commit=og,d.prototype.next=ag,d.prototype.plant=ug,d.prototype.reverse=hg,d.prototype.toJSON=d.prototype.valueOf=d.prototype.value=fg,d.prototype.first=d.prototype.head,kn&&(d.prototype[kn]=sg),d},dn=oc();jt?((jt.exports=dn)._=dn,Mi._=dn):Se._=dn}).call(G)})(oi,oi.exports);var Gm=oi.exports,Ht={},sa={},fi={},qh={},W={},Fm=function(r){return r!==null&&typeof r=="object"&&typeof r.addUndirectedEdgeWithKey=="function"&&typeof r.dropNode=="function"&&typeof r.multi=="boolean"},Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.multiplyVec2=Fe.multiply=Fe.translate=Fe.rotate=Fe.scale=Fe.identity=void 0;function Pm(){return Float32Array.of(1,0,0,0,1,0,0,0,1)}Fe.identity=Pm;function Im(o,r,t){return o[0]=r,o[4]=typeof t=="number"?t:r,o}Fe.scale=Im;function Mm(o,r){var t=Math.sin(r),i=Math.cos(r);return o[0]=i,o[1]=t,o[3]=-t,o[4]=i,o}Fe.rotate=Mm;function $m(o,r,t){return o[6]=r,o[7]=t,o}Fe.translate=$m;function Um(o,r){var t=o[0],i=o[1],a=o[2],u=o[3],f=o[4],c=o[5],v=o[6],g=o[7],_=o[8],w=r[0],x=r[1],S=r[2],R=r[3],N=r[4],F=r[5],U=r[6],B=r[7],I=r[8];return o[0]=w*t+x*u+S*v,o[1]=w*i+x*f+S*g,o[2]=w*a+x*c+S*_,o[3]=R*t+N*u+F*v,o[4]=R*i+N*f+F*g,o[5]=R*a+N*c+F*_,o[6]=U*t+B*u+I*v,o[7]=U*i+B*f+I*g,o[8]=U*a+B*c+I*_,o}Fe.multiply=Um;function km(o,r,t){t===void 0&&(t=1);var i=o[0],a=o[1],u=o[3],f=o[4],c=o[6],v=o[7],g=r.x,_=r.y;return{x:g*i+_*u+c*t,y:g*a+_*f+v*t}}Fe.multiplyVec2=km;var li={};Object.defineProperty(li,"__esModule",{value:!0});li.HTML_COLORS=void 0;li.HTML_COLORS={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"};var eh=G&&G.__read||function(o,r){var t=typeof Symbol=="function"&&o[Symbol.iterator];if(!t)return o;var i=t.call(o),a,u=[],f;try{for(;(r===void 0||r-- >0)&&!(a=i.next()).done;)u.push(a.value)}catch(c){f={error:c}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(f)throw f.error}}return u},Bm=G&&G.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(W,"__esModule",{value:!0});W.validateGraph=W.extractPixel=W.getMatrixImpact=W.matrixFromCamera=W.getCorrectionRatio=W.colorToIndex=W.indexToColor=W.floatColor=W.rgbaToFloat=W.parseColor=W.zIndexOrdering=W.createNormalizationFunction=W.graphExtent=W.getPixelRatio=W.createElement=W.cancelFrame=W.requestFrame=W.assignDeep=W.assign=W.isPlainObject=void 0;var zm=Bm(Fm),le=Fe,qo=li;function Yh(o){return typeof o=="object"&&o!==null&&o.constructor===Object}W.isPlainObject=Yh;function Wm(o){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];o=o||{};for(var i=0,a=r.length;i<a;i++){var u=r[i];u&&Object.assign(o,u)}return o}W.assign=Wm;function jh(o){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];o=o||{};for(var i=0,a=r.length;i<a;i++){var u=r[i];if(u)for(var f in u)Yh(u[f])?o[f]=jh(o[f],u[f]):o[f]=u[f]}return o}W.assignDeep=jh;W.requestFrame=typeof requestAnimationFrame<"u"?function(o){return requestAnimationFrame(o)}:function(o){return setTimeout(o,0)};W.cancelFrame=typeof cancelAnimationFrame<"u"?function(o){return cancelAnimationFrame(o)}:function(o){return clearTimeout(o)};function Hm(o,r,t){var i=document.createElement(o);if(r)for(var a in r)i.style[a]=r[a];if(t)for(var a in t)i.setAttribute(a,t[a]);return i}W.createElement=Hm;function Km(){return typeof window.devicePixelRatio<"u"?window.devicePixelRatio:1}W.getPixelRatio=Km;function qm(o){if(!o.order)return{x:[0,1],y:[0,1]};var r=1/0,t=-1/0,i=1/0,a=-1/0;return o.forEachNode(function(u,f){var c=f.x,v=f.y;c<r&&(r=c),c>t&&(t=c),v<i&&(i=v),v>a&&(a=v)}),{x:[r,t],y:[i,a]}}W.graphExtent=qm;function Ym(o){var r=eh(o.x,2),t=r[0],i=r[1],a=eh(o.y,2),u=a[0],f=a[1],c=Math.max(i-t,f-u),v=(i+t)/2,g=(f+u)/2;(c===0||Math.abs(c)===1/0||isNaN(c))&&(c=1),isNaN(v)&&(v=0),isNaN(g)&&(g=0);var _=function(w){return{x:.5+(w.x-v)/c,y:.5+(w.y-g)/c}};return _.applyTo=function(w){w.x=.5+(w.x-v)/c,w.y=.5+(w.y-g)/c},_.inverse=function(w){return{x:v+c*(w.x-.5),y:g+c*(w.y-.5)}},_.ratio=c,_}W.createNormalizationFunction=Ym;function jm(o,r,t){return t.sort(function(i,a){var u=r(i)||0,f=r(a)||0;return u<f?-1:u>f?1:0})}W.zIndexOrdering=jm;var Xh=new Int8Array(4),Yo=new Int32Array(Xh.buffer,0,1),Xm=new Float32Array(Xh.buffer,0,1),Zm=/^\s*rgba?\s*\(/,Vm=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function Zh(o){var r=0,t=0,i=0,a=1;if(o[0]==="#")o.length===4?(r=parseInt(o.charAt(1)+o.charAt(1),16),t=parseInt(o.charAt(2)+o.charAt(2),16),i=parseInt(o.charAt(3)+o.charAt(3),16)):(r=parseInt(o.charAt(1)+o.charAt(2),16),t=parseInt(o.charAt(3)+o.charAt(4),16),i=parseInt(o.charAt(5)+o.charAt(6),16)),o.length===9&&(a=parseInt(o.charAt(7)+o.charAt(8),16)/255);else if(Zm.test(o)){var u=o.match(Vm);u&&(r=+u[1],t=+u[2],i=+u[3],u[4]&&(a=+u[4]))}return{r,g:t,b:i,a}}W.parseColor=Zh;var Sn={};for(var Qr in qo.HTML_COLORS)Sn[Qr]=Vh(qo.HTML_COLORS[Qr]),Sn[qo.HTML_COLORS[Qr]]=Sn[Qr];function ua(o,r,t,i,a){return Yo[0]=i<<24|t<<16|r<<8|o,a&&(Yo[0]=Yo[0]&4278190079),Xm[0]}W.rgbaToFloat=ua;function Vh(o){if(o=o.toLowerCase(),typeof Sn[o]<"u")return Sn[o];var r=Zh(o),t=r.r,i=r.g,a=r.b,u=r.a;u=u*255|0;var f=ua(t,i,a,u,!0);return Sn[o]=f,f}W.floatColor=Vh;var jo={};function Jm(o){if(typeof jo[o]<"u")return jo[o];var r=(o&16711680)>>>16,t=(o&65280)>>>8,i=o&255,a=255,u=ua(r,t,i,a,!0);return jo[o]=u,u}W.indexToColor=Jm;function Qm(o,r,t,i){return t+(r<<8)+(o<<16)}W.colorToIndex=Qm;function Jh(o,r){var t=o.height/o.width,i=r.height/r.width;return t<1&&i>1||t>1&&i<1?1:Math.min(Math.max(i,1/i),Math.max(1/t,t))}W.getCorrectionRatio=Jh;function ew(o,r,t,i,a){var u=o.angle,f=o.ratio,c=o.x,v=o.y,g=r.width,_=r.height,w=(0,le.identity)(),x=Math.min(g,_)-2*i,S=Jh(r,t);return a?((0,le.multiply)(w,(0,le.translate)((0,le.identity)(),c,v)),(0,le.multiply)(w,(0,le.scale)((0,le.identity)(),f)),(0,le.multiply)(w,(0,le.rotate)((0,le.identity)(),u)),(0,le.multiply)(w,(0,le.scale)((0,le.identity)(),g/x/2/S,_/x/2/S))):((0,le.multiply)(w,(0,le.scale)((0,le.identity)(),2*(x/g)*S,2*(x/_)*S)),(0,le.multiply)(w,(0,le.rotate)((0,le.identity)(),-u)),(0,le.multiply)(w,(0,le.scale)((0,le.identity)(),1/f)),(0,le.multiply)(w,(0,le.translate)((0,le.identity)(),-c,-v))),w}W.matrixFromCamera=ew;function tw(o,r,t){var i=(0,le.multiplyVec2)(o,{x:Math.cos(r.angle),y:Math.sin(r.angle)},0),a=i.x,u=i.y;return 1/Math.sqrt(Math.pow(a,2)+Math.pow(u,2))/t.width}W.getMatrixImpact=tw;function nw(o,r,t,i){var a=i||new Uint8Array(4);return o.readPixels(r,t,1,1,o.RGBA,o.UNSIGNED_BYTE,a),a}W.extractPixel=nw;function rw(o){if(!(0,zm.default)(o))throw new Error("Sigma: invalid graph instance.");o.forEachNode(function(r,t){if(!Number.isFinite(t.x)||!Number.isFinite(t.y))throw new Error("Sigma: Coordinates of node ".concat(r," are invalid. A node must have a numeric 'x' and 'y' attribute."))})}W.validateGraph=rw;var ha={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.cubicInOut=o.cubicOut=o.cubicIn=o.quadraticInOut=o.quadraticOut=o.quadraticIn=o.linear=void 0;var r=function(g){return g};o.linear=r;var t=function(g){return g*g};o.quadraticIn=t;var i=function(g){return g*(2-g)};o.quadraticOut=i;var a=function(g){return(g*=2)<1?.5*g*g:-.5*(--g*(g-2)-1)};o.quadraticInOut=a;var u=function(g){return g*g*g};o.cubicIn=u;var f=function(g){return--g*g*g+1};o.cubicOut=f;var c=function(g){return(g*=2)<1?.5*g*g*g:.5*((g-=2)*g*g+2)};o.cubicInOut=c;var v={linear:o.linear,quadraticIn:o.quadraticIn,quadraticOut:o.quadraticOut,quadraticInOut:o.quadraticInOut,cubicIn:o.cubicIn,cubicOut:o.cubicOut,cubicInOut:o.cubicInOut};o.default=v})(ha);(function(o){var r=G&&G.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(o,"__esModule",{value:!0}),o.animateNodes=o.ANIMATE_DEFAULTS=void 0;var t=W,i=r(ha);o.ANIMATE_DEFAULTS={easing:"quadraticInOut",duration:150};function a(u,f,c,v){var g=Object.assign({},o.ANIMATE_DEFAULTS,c),_=typeof g.easing=="function"?g.easing:i.default[g.easing],w=Date.now(),x={};for(var S in f){var R=f[S];x[S]={};for(var N in R)x[S][N]=u.getNodeAttribute(S,N)}var F=null,U=function(){F=null;var B=(Date.now()-w)/g.duration;if(B>=1){for(var I in f){var Q=f[I];for(var ne in Q)u.setNodeAttribute(I,ne,Q[ne])}typeof v=="function"&&v();return}B=_(B);for(var I in f){var Q=f[I],ve=x[I];for(var ne in Q)u.setNodeAttribute(I,ne,Q[ne]*B+ve[ne]*(1-B))}F=(0,t.requestFrame)(U)};return U(),function(){F&&(0,t.cancelFrame)(F)}}o.animateNodes=a})(qh);var Dn={},iw=G&&G.__extends||function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Dn,"__esModule",{value:!0});Dn.TypedEventEmitter=void 0;var ow=Lh,aw=function(o){iw(r,o);function r(){var t=o.call(this)||this;return t.rawEmitter=t,t}return r}(ow.EventEmitter);Dn.TypedEventEmitter=aw;var sw=G&&G.__extends||function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),uw=G&&G.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(fi,"__esModule",{value:!0});var hw=qh,fw=uw(ha),Xo=W,lw=Dn,ei=1.5,cw=function(o){sw(r,o);function r(){var t=o.call(this)||this;return t.x=.5,t.y=.5,t.angle=0,t.ratio=1,t.minRatio=null,t.maxRatio=null,t.nextFrame=null,t.previousState=null,t.enabled=!0,t.previousState=t.getState(),t}return r.from=function(t){var i=new r;return i.setState(t)},r.prototype.enable=function(){return this.enabled=!0,this},r.prototype.disable=function(){return this.enabled=!1,this},r.prototype.getState=function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}},r.prototype.hasState=function(t){return this.x===t.x&&this.y===t.y&&this.ratio===t.ratio&&this.angle===t.angle},r.prototype.getPreviousState=function(){var t=this.previousState;return t?{x:t.x,y:t.y,angle:t.angle,ratio:t.ratio}:null},r.prototype.getBoundedRatio=function(t){var i=t;return typeof this.minRatio=="number"&&(i=Math.max(i,this.minRatio)),typeof this.maxRatio=="number"&&(i=Math.min(i,this.maxRatio)),i},r.prototype.validateState=function(t){var i={};return typeof t.x=="number"&&(i.x=t.x),typeof t.y=="number"&&(i.y=t.y),typeof t.angle=="number"&&(i.angle=t.angle),typeof t.ratio=="number"&&(i.ratio=this.getBoundedRatio(t.ratio)),i},r.prototype.isAnimated=function(){return!!this.nextFrame},r.prototype.setState=function(t){if(!this.enabled)return this;this.previousState=this.getState();var i=this.validateState(t);return typeof i.x=="number"&&(this.x=i.x),typeof i.y=="number"&&(this.y=i.y),typeof i.angle=="number"&&(this.angle=i.angle),typeof i.ratio=="number"&&(this.ratio=i.ratio),this.hasState(this.previousState)||this.emit("updated",this.getState()),this},r.prototype.updateState=function(t){return this.setState(t(this.getState())),this},r.prototype.animate=function(t,i,a){var u=this;if(this.enabled){var f=Object.assign({},hw.ANIMATE_DEFAULTS,i),c=this.validateState(t),v=typeof f.easing=="function"?f.easing:fw.default[f.easing],g=Date.now(),_=this.getState(),w=function(){var x=(Date.now()-g)/f.duration;if(x>=1){u.nextFrame=null,u.setState(c),u.animationCallback&&(u.animationCallback.call(null),u.animationCallback=void 0);return}var S=v(x),R={};typeof c.x=="number"&&(R.x=_.x+(c.x-_.x)*S),typeof c.y=="number"&&(R.y=_.y+(c.y-_.y)*S),typeof c.angle=="number"&&(R.angle=_.angle+(c.angle-_.angle)*S),typeof c.ratio=="number"&&(R.ratio=_.ratio+(c.ratio-_.ratio)*S),u.setState(R),u.nextFrame=(0,Xo.requestFrame)(w)};this.nextFrame?((0,Xo.cancelFrame)(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=(0,Xo.requestFrame)(w)):w(),this.animationCallback=a}},r.prototype.animatedZoom=function(t){if(!t)this.animate({ratio:this.ratio/ei});else{if(typeof t=="number")return this.animate({ratio:this.ratio/t});this.animate({ratio:this.ratio/(t.factor||ei)},t)}},r.prototype.animatedUnzoom=function(t){if(!t)this.animate({ratio:this.ratio*ei});else{if(typeof t=="number")return this.animate({ratio:this.ratio*t});this.animate({ratio:this.ratio*(t.factor||ei)},t)}},r.prototype.animatedReset=function(t){this.animate({x:.5,y:.5,ratio:1,angle:0},t)},r.prototype.copy=function(){return r.from(this.getState())},r}(lw.TypedEventEmitter);fi.default=cw;var ci={},De={},dw=G&&G.__extends||function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Tn=G&&G.__assign||function(){return Tn=Object.assign||function(o){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(o[a]=r[a])}return o},Tn.apply(this,arguments)};Object.defineProperty(De,"__esModule",{value:!0});De.getWheelDelta=De.getTouchCoords=De.getTouchesArray=De.getWheelCoords=De.getMouseCoords=De.getPosition=void 0;var pw=Dn;function fa(o,r){var t=r.getBoundingClientRect();return{x:o.clientX-t.left,y:o.clientY-t.top}}De.getPosition=fa;function Qh(o,r){var t=Tn(Tn({},fa(o,r)),{sigmaDefaultPrevented:!1,preventSigmaDefault:function(){t.sigmaDefaultPrevented=!0},original:o});return t}De.getMouseCoords=Qh;function gw(o,r){return Tn(Tn({},Qh(o,r)),{delta:tf(o)})}De.getWheelCoords=gw;var vw=2;function ef(o){for(var r=[],t=0,i=Math.min(o.length,vw);t<i;t++)r.push(o[t]);return r}De.getTouchesArray=ef;function yw(o,r){return{touches:ef(o.touches).map(function(t){return fa(t,r)}),original:o}}De.getTouchCoords=yw;function tf(o){if(typeof o.deltaY<"u")return o.deltaY*-3/360;if(typeof o.detail<"u")return o.detail/-9;throw new Error("Captor: could not extract delta from event.")}De.getWheelDelta=tf;var _w=function(o){dw(r,o);function r(t,i){var a=o.call(this)||this;return a.container=t,a.renderer=i,a}return r}(pw.TypedEventEmitter);De.default=_w;var mw=G&&G.__extends||function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ww=G&&G.__createBinding||(Object.create?function(o,r,t,i){i===void 0&&(i=t);var a=Object.getOwnPropertyDescriptor(r,t);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(o,i,a)}:function(o,r,t,i){i===void 0&&(i=t),o[i]=r[t]}),bw=G&&G.__setModuleDefault||(Object.create?function(o,r){Object.defineProperty(o,"default",{enumerable:!0,value:r})}:function(o,r){o.default=r}),Ew=G&&G.__importStar||function(o){if(o&&o.__esModule)return o;var r={};if(o!=null)for(var t in o)t!=="default"&&Object.prototype.hasOwnProperty.call(o,t)&&ww(r,o,t);return bw(r,o),r};Object.defineProperty(ci,"__esModule",{value:!0});var Ue=Ew(De),xw=100,Aw=3,Sw=200,th=3,nh=250,rh=1.7,Tw=300,Cw=2.2,Lw=200,Rw=function(o){mw(r,o);function r(t,i){var a=o.call(this,t,i)||this;return a.enabled=!0,a.draggedEvents=0,a.downStartTime=null,a.lastMouseX=null,a.lastMouseY=null,a.isMouseDown=!1,a.isMoving=!1,a.movingTimeout=null,a.startCameraState=null,a.clicks=0,a.doubleClickTimeout=null,a.currentWheelDirection=0,a.handleClick=a.handleClick.bind(a),a.handleRightClick=a.handleRightClick.bind(a),a.handleDown=a.handleDown.bind(a),a.handleUp=a.handleUp.bind(a),a.handleMove=a.handleMove.bind(a),a.handleWheel=a.handleWheel.bind(a),a.handleOut=a.handleOut.bind(a),t.addEventListener("click",a.handleClick,!1),t.addEventListener("contextmenu",a.handleRightClick,!1),t.addEventListener("mousedown",a.handleDown,!1),t.addEventListener("wheel",a.handleWheel,!1),t.addEventListener("mouseout",a.handleOut,!1),document.addEventListener("mousemove",a.handleMove,!1),document.addEventListener("mouseup",a.handleUp,!1),a}return r.prototype.kill=function(){var t=this.container;t.removeEventListener("click",this.handleClick),t.removeEventListener("contextmenu",this.handleRightClick),t.removeEventListener("mousedown",this.handleDown),t.removeEventListener("wheel",this.handleWheel),t.removeEventListener("mouseout",this.handleOut),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleUp)},r.prototype.handleClick=function(t){var i=this;if(this.enabled){if(this.clicks++,this.clicks===2)return this.clicks=0,typeof this.doubleClickTimeout=="number"&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(t);setTimeout(function(){i.clicks=0,i.doubleClickTimeout=null},Tw),this.draggedEvents<Aw&&this.emit("click",(0,Ue.getMouseCoords)(t,this.container))}},r.prototype.handleRightClick=function(t){this.enabled&&this.emit("rightClick",(0,Ue.getMouseCoords)(t,this.container))},r.prototype.handleDoubleClick=function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var i=(0,Ue.getMouseCoords)(t,this.container);if(this.emit("doubleClick",i),!i.sigmaDefaultPrevented){var a=this.renderer.getCamera(),u=a.getBoundedRatio(a.getState().ratio/Cw);a.animate(this.renderer.getViewportZoomedState((0,Ue.getPosition)(t,this.container),u),{easing:"quadraticInOut",duration:Lw})}}},r.prototype.handleDown=function(t){if(this.enabled){if(t.button===0){this.startCameraState=this.renderer.getCamera().getState();var i=(0,Ue.getPosition)(t,this.container),a=i.x,u=i.y;this.lastMouseX=a,this.lastMouseY=u,this.draggedEvents=0,this.downStartTime=Date.now(),this.isMouseDown=!0}this.emit("mousedown",(0,Ue.getMouseCoords)(t,this.container))}},r.prototype.handleUp=function(t){var i=this;if(!(!this.enabled||!this.isMouseDown)){var a=this.renderer.getCamera();this.isMouseDown=!1,typeof this.movingTimeout=="number"&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var u=(0,Ue.getPosition)(t,this.container),f=u.x,c=u.y,v=a.getState(),g=a.getPreviousState()||{x:0,y:0};this.isMoving?a.animate({x:v.x+th*(v.x-g.x),y:v.y+th*(v.y-g.y)},{duration:Sw,easing:"quadraticOut"}):(this.lastMouseX!==f||this.lastMouseY!==c)&&a.setState({x:v.x,y:v.y}),this.isMoving=!1,setTimeout(function(){var _=i.draggedEvents>0;i.draggedEvents=0,_&&i.renderer.refresh()},0),this.emit("mouseup",(0,Ue.getMouseCoords)(t,this.container))}},r.prototype.handleMove=function(t){var i=this;if(this.enabled){var a=(0,Ue.getMouseCoords)(t,this.container);if(this.emit("mousemovebody",a),t.target===this.container&&this.emit("mousemove",a),!a.sigmaDefaultPrevented&&this.isMouseDown){this.isMoving=!0,this.draggedEvents++,typeof this.movingTimeout=="number"&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){i.movingTimeout=null,i.isMoving=!1},xw);var u=this.renderer.getCamera(),f=(0,Ue.getPosition)(t,this.container),c=f.x,v=f.y,g=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),_=this.renderer.viewportToFramedGraph({x:c,y:v}),w=g.x-_.x,x=g.y-_.y,S=u.getState(),R=S.x+w,N=S.y+x;u.setState({x:R,y:N}),this.lastMouseX=c,this.lastMouseY=v,t.preventDefault(),t.stopPropagation()}}},r.prototype.handleWheel=function(t){var i=this;if(this.enabled){t.preventDefault(),t.stopPropagation();var a=(0,Ue.getWheelDelta)(t);if(a){var u=(0,Ue.getWheelCoords)(t,this.container);if(this.emit("wheel",u),!u.sigmaDefaultPrevented){var f=a>0?1/rh:rh,c=this.renderer.getCamera(),v=c.getBoundedRatio(c.getState().ratio*f),g=a>0?1:-1,_=Date.now();this.currentWheelDirection===g&&this.lastWheelTriggerTime&&_-this.lastWheelTriggerTime<nh/5||(c.animate(this.renderer.getViewportZoomedState((0,Ue.getPosition)(t,this.container),v),{easing:"quadraticOut",duration:nh},function(){i.currentWheelDirection=0}),this.currentWheelDirection=g,this.lastWheelTriggerTime=_)}}}},r.prototype.handleOut=function(){},r}(Ue.default);ci.default=Rw;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.edgeLabelsToDisplayFromNodes=Cn.LabelGrid=void 0;var ih=function(){function o(r,t){this.key=r,this.size=t}return o.compare=function(r,t){return r.size>t.size?-1:r.size<t.size||r.key>t.key?1:-1},o}(),Dw=function(){function o(){this.width=0,this.height=0,this.cellSize=0,this.columns=0,this.rows=0,this.cells={}}return o.prototype.resizeAndClear=function(r,t){this.width=r.width,this.height=r.height,this.cellSize=t,this.columns=Math.ceil(r.width/t),this.rows=Math.ceil(r.height/t),this.cells={}},o.prototype.getIndex=function(r){var t=Math.floor(r.x/this.cellSize),i=Math.floor(r.y/this.cellSize);return i*this.columns+t},o.prototype.add=function(r,t,i){var a=new ih(r,t),u=this.getIndex(i),f=this.cells[u];f||(f=[],this.cells[u]=f),f.push(a)},o.prototype.organize=function(){for(var r in this.cells){var t=this.cells[r];t.sort(ih.compare)}},o.prototype.getLabelsToDisplay=function(r,t){var i=this.cellSize*this.cellSize,a=i/r/r,u=a*t/i,f=Math.ceil(u),c=[];for(var v in this.cells)for(var g=this.cells[v],_=0;_<Math.min(f,g.length);_++)c.push(g[_].key);return c},o}();Cn.LabelGrid=Dw;function Nw(o){var r=o.graph,t=o.hoveredNode,i=o.highlightedNodes,a=o.displayedNodeLabels,u=[];return r.forEachEdge(function(f,c,v,g){(v===t||g===t||i.has(v)||i.has(g)||a.has(v)&&a.has(g))&&u.push(f)}),u}Cn.edgeLabelsToDisplayFromNodes=Nw;var nf={},la={},Kt={},on={},qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.loadProgram=qt.loadFragmentShader=qt.loadVertexShader=void 0;function rf(o,r,t){var i=o==="VERTEX"?r.VERTEX_SHADER:r.FRAGMENT_SHADER,a=r.createShader(i);if(a===null)throw new Error("loadShader: error while creating the shader");r.shaderSource(a,t),r.compileShader(a);var u=r.getShaderParameter(a,r.COMPILE_STATUS);if(!u){var f=r.getShaderInfoLog(a);throw r.deleteShader(a),new Error(`loadShader: error while compiling the shader:
`.concat(f,`
`).concat(t))}return a}function Ow(o,r){return rf("VERTEX",o,r)}qt.loadVertexShader=Ow;function Gw(o,r){return rf("FRAGMENT",o,r)}qt.loadFragmentShader=Gw;function Fw(o,r){var t=o.createProgram();if(t===null)throw new Error("loadProgram: error while creating the program.");var i,a;for(i=0,a=r.length;i<a;i++)o.attachShader(t,r[i]);o.linkProgram(t);var u=o.getProgramParameter(t,o.LINK_STATUS);if(!u)throw o.deleteProgram(t),new Error("loadProgram: error while linking the program.");return t}qt.loadProgram=Fw;var ai=G&&G.__assign||function(){return ai=Object.assign||function(o){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(o[a]=r[a])}return o},ai.apply(this,arguments)},vt;Object.defineProperty(on,"__esModule",{value:!0});on.Program=on.AbstractProgram=void 0;var Zo=qt,oh=`#define PICKING_MODE
`,Pw=(vt={},vt[WebGL2RenderingContext.BOOL]=1,vt[WebGL2RenderingContext.BYTE]=1,vt[WebGL2RenderingContext.UNSIGNED_BYTE]=1,vt[WebGL2RenderingContext.SHORT]=2,vt[WebGL2RenderingContext.UNSIGNED_SHORT]=2,vt[WebGL2RenderingContext.INT]=4,vt[WebGL2RenderingContext.UNSIGNED_INT]=4,vt[WebGL2RenderingContext.FLOAT]=4,vt);function Iw(o){return o.normalized?1:o.size}function Vo(o){var r=0;return o.forEach(function(t){return r+=Iw(t)}),r}var Mw=function(){function o(r,t,i){}return o}();on.AbstractProgram=Mw;var $w=function(){function o(r,t,i){this.array=new Float32Array,this.constantArray=new Float32Array,this.capacity=0,this.verticesCount=0;var a=this.getDefinition();if(this.VERTICES=a.VERTICES,this.VERTEX_SHADER_SOURCE=a.VERTEX_SHADER_SOURCE,this.FRAGMENT_SHADER_SOURCE=a.FRAGMENT_SHADER_SOURCE,this.UNIFORMS=a.UNIFORMS,this.ATTRIBUTES=a.ATTRIBUTES,this.METHOD=a.METHOD,this.CONSTANT_ATTRIBUTES="CONSTANT_ATTRIBUTES"in a?a.CONSTANT_ATTRIBUTES:[],this.CONSTANT_DATA="CONSTANT_DATA"in a?a.CONSTANT_DATA:[],this.isInstanced="CONSTANT_ATTRIBUTES"in a,this.ATTRIBUTES_ITEMS_COUNT=Vo(this.ATTRIBUTES),this.STRIDE=this.VERTICES*this.ATTRIBUTES_ITEMS_COUNT,this.renderer=i,this.normalProgram=this.getProgramInfo("normal",r,a.VERTEX_SHADER_SOURCE,a.FRAGMENT_SHADER_SOURCE,null),this.pickProgram=t?this.getProgramInfo("pick",r,oh+a.VERTEX_SHADER_SOURCE,oh+a.FRAGMENT_SHADER_SOURCE,t):null,this.isInstanced){var u=Vo(this.CONSTANT_ATTRIBUTES);if(this.CONSTANT_DATA.length!==this.VERTICES)throw new Error("Program: error while getting constant data (expected ".concat(this.VERTICES," items, received ").concat(this.CONSTANT_DATA.length," instead)"));this.constantArray=new Float32Array(this.CONSTANT_DATA.length*u);for(var f=0;f<this.CONSTANT_DATA.length;f++){var c=this.CONSTANT_DATA[f];if(c.length!==u)throw new Error("Program: error while getting constant data (one vector has ".concat(c.length," items instead of ").concat(u,")"));for(var v=0;v<c.length;v++)this.constantArray[f*u+v]=c[v]}this.STRIDE=this.ATTRIBUTES_ITEMS_COUNT}}return o.prototype.getProgramInfo=function(r,t,i,a,u){var f=this.getDefinition(),c=t.createBuffer();if(c===null)throw new Error("Program: error while creating the WebGL buffer.");var v=(0,Zo.loadVertexShader)(t,i),g=(0,Zo.loadFragmentShader)(t,a),_=(0,Zo.loadProgram)(t,[v,g]),w={};f.UNIFORMS.forEach(function(R){var N=t.getUniformLocation(_,R);N&&(w[R]=N)});var x={};f.ATTRIBUTES.forEach(function(R){x[R.name]=t.getAttribLocation(_,R.name)});var S;if("CONSTANT_ATTRIBUTES"in f&&(f.CONSTANT_ATTRIBUTES.forEach(function(R){x[R.name]=t.getAttribLocation(_,R.name)}),S=t.createBuffer(),S===null))throw new Error("Program: error while creating the WebGL constant buffer.");return{name:r,program:_,gl:t,frameBuffer:u,buffer:c,constantBuffer:S||{},uniformLocations:w,attributeLocations:x,isPicking:r==="pick"}},o.prototype.bindProgram=function(r){var t=this,i=0,a=r.gl,u=r.buffer;this.isInstanced?(a.bindBuffer(a.ARRAY_BUFFER,r.constantBuffer),i=0,this.CONSTANT_ATTRIBUTES.forEach(function(f){return i+=t.bindAttribute(f,r,i,!1)}),a.bufferData(a.ARRAY_BUFFER,this.constantArray,a.STATIC_DRAW),a.bindBuffer(a.ARRAY_BUFFER,r.buffer),i=0,this.ATTRIBUTES.forEach(function(f){return i+=t.bindAttribute(f,r,i,!0)}),a.bufferData(a.ARRAY_BUFFER,this.array,a.DYNAMIC_DRAW)):(a.bindBuffer(a.ARRAY_BUFFER,u),i=0,this.ATTRIBUTES.forEach(function(f){return i+=t.bindAttribute(f,r,i)}),a.bufferData(a.ARRAY_BUFFER,this.array,a.DYNAMIC_DRAW)),a.bindBuffer(a.ARRAY_BUFFER,null)},o.prototype.unbindProgram=function(r){var t=this;this.isInstanced?(this.CONSTANT_ATTRIBUTES.forEach(function(i){return t.unbindAttribute(i,r,!1)}),this.ATTRIBUTES.forEach(function(i){return t.unbindAttribute(i,r,!0)})):this.ATTRIBUTES.forEach(function(i){return t.unbindAttribute(i,r)})},o.prototype.bindAttribute=function(r,t,i,a){var u=Pw[r.type];if(typeof u!="number")throw new Error('Program.bind: yet unsupported attribute type "'.concat(r.type,'"'));var f=t.attributeLocations[r.name],c=t.gl;if(f!==-1){c.enableVertexAttribArray(f);var v=this.isInstanced?(a?this.ATTRIBUTES_ITEMS_COUNT:Vo(this.CONSTANT_ATTRIBUTES))*Float32Array.BYTES_PER_ELEMENT:this.ATTRIBUTES_ITEMS_COUNT*Float32Array.BYTES_PER_ELEMENT;if(c.vertexAttribPointer(f,r.size,r.type,r.normalized||!1,v,i),this.isInstanced&&a)if(c instanceof WebGL2RenderingContext)c.vertexAttribDivisor(f,1);else{var g=c.getExtension("ANGLE_instanced_arrays");g&&g.vertexAttribDivisorANGLE(f,1)}}return r.size*u},o.prototype.unbindAttribute=function(r,t,i){var a=t.attributeLocations[r.name],u=t.gl;if(a!==-1&&(u.disableVertexAttribArray(a),this.isInstanced&&i))if(u instanceof WebGL2RenderingContext)u.vertexAttribDivisor(a,0);else{var f=u.getExtension("ANGLE_instanced_arrays");f&&f.vertexAttribDivisorANGLE(a,0)}},o.prototype.reallocate=function(r){r!==this.capacity&&(this.capacity=r,this.verticesCount=this.VERTICES*r,this.array=new Float32Array(this.isInstanced?this.capacity*this.ATTRIBUTES_ITEMS_COUNT:this.verticesCount*this.ATTRIBUTES_ITEMS_COUNT))},o.prototype.hasNothingToRender=function(){return this.verticesCount===0},o.prototype.renderProgram=function(r,t){var i=t.gl,a=t.program;i.enable(i.BLEND),i.useProgram(a),this.setUniforms(r,t),this.drawWebGL(this.METHOD,t)},o.prototype.render=function(r){this.hasNothingToRender()||(this.pickProgram&&(this.pickProgram.gl.viewport(0,0,r.width*r.pixelRatio/r.downSizingRatio,r.height*r.pixelRatio/r.downSizingRatio),this.bindProgram(this.pickProgram),this.renderProgram(ai(ai({},r),{pixelRatio:r.pixelRatio/r.downSizingRatio}),this.pickProgram),this.unbindProgram(this.pickProgram)),this.normalProgram.gl.viewport(0,0,r.width*r.pixelRatio,r.height*r.pixelRatio),this.bindProgram(this.normalProgram),this.renderProgram(r,this.normalProgram),this.unbindProgram(this.normalProgram))},o.prototype.drawWebGL=function(r,t){var i=t.gl,a=t.frameBuffer;if(i.bindFramebuffer(i.FRAMEBUFFER,a),!this.isInstanced)i.drawArrays(r,0,this.verticesCount);else if(i instanceof WebGL2RenderingContext)i.drawArraysInstanced(r,0,this.VERTICES,this.capacity);else{var u=i.getExtension("ANGLE_instanced_arrays");u&&u.drawArraysInstancedANGLE(r,0,this.VERTICES,this.capacity)}},o}();on.Program=$w;var of=G&&G.__extends||function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.createNodeCompoundProgram=Kt.NodeProgram=Kt.AbstractNodeProgram=void 0;var af=on,Uw=W,kw=function(o){of(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(af.AbstractProgram);Kt.AbstractNodeProgram=kw;var Bw=function(o){of(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.kill=function(){},r.prototype.process=function(t,i,a){var u=i*this.STRIDE;if(a.hidden){for(var f=u+this.STRIDE;u<f;u++)this.array[u]=0;return}return this.processVisibleItem((0,Uw.indexToColor)(t),u,a)},r.drawLabel=void 0,r.drawHover=void 0,r}(af.Program);Kt.NodeProgram=Bw;function zw(o,r,t){var i;return i=function(){function a(u,f,c){this.programs=o.map(function(v){return new v(u,f,c)})}return a.prototype.reallocate=function(u){this.programs.forEach(function(f){return f.reallocate(u)})},a.prototype.process=function(u,f,c){this.programs.forEach(function(v){return v.process(u,f,c)})},a.prototype.render=function(u){this.programs.forEach(function(f){return f.render(u)})},a.prototype.kill=function(){this.programs.forEach(function(u){return u.kill()})},a}(),i.drawLabel=r,i.drawHover=t,i}Kt.createNodeCompoundProgram=zw;var sf={exports:{}};(()=>{var o={d:(i,a)=>{for(var u in a)o.o(a,u)&&!o.o(i,u)&&Object.defineProperty(i,u,{enumerable:!0,get:a[u]})},o:(i,a)=>Object.prototype.hasOwnProperty.call(i,a),r:i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})}},r={};o.r(r),o.d(r,{default:()=>t});const t=`attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_position;
attribute float a_size;

uniform float u_sizeRatio;
uniform float u_pixelRatio;
uniform mat3 u_matrix;

varying vec4 v_color;
varying float v_border;

const float bias = 255.0 / 254.0;

void main() {
  gl_Position = vec4(
    (u_matrix * vec3(a_position, 1)).xy,
    0,
    1
  );

  // Multiply the point size twice:
  //  - x SCALING_RATIO to correct the canvas scaling
  //  - x 2 to correct the formulae
  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;

  v_border = (0.5 / a_size) * u_sizeRatio;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`;sf.exports=r})();var Ww=sf.exports,uf={exports:{}};(()=>{var o={d:(i,a)=>{for(var u in a)o.o(a,u)&&!o.o(i,u)&&Object.defineProperty(i,u,{enumerable:!0,get:a[u]})},o:(i,a)=>Object.prototype.hasOwnProperty.call(i,a),r:i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})}},r={};o.r(r),o.d(r,{default:()=>t});const t=`precision mediump float;

varying vec4 v_color;
varying float v_border;

const float radius = 0.5;
const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  vec2 m = gl_PointCoord - vec2(0.5, 0.5);
  float dist = radius - length(m);

  // No antialiasing for picking mode:
  #ifdef PICKING_MODE
  if (dist > v_border)
    gl_FragColor = v_color;
  else
    gl_FragColor = transparent;

  #else
  float t = 0.0;
  if (dist > v_border)
    t = 1.0;
  else if (dist > 0.0)
    t = dist / v_border;

  gl_FragColor = mix(transparent, v_color, t);
  #endif
}
`;uf.exports=r})();var Hw=uf.exports,Kw=G&&G.__extends||function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),hf=G&&G.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(la,"__esModule",{value:!0});var qw=W,Yw=Kt,jw=hf(Ww),Xw=hf(Hw),ah=WebGLRenderingContext.UNSIGNED_BYTE,sh=WebGLRenderingContext.FLOAT,Zw=["u_sizeRatio","u_pixelRatio","u_matrix"],Vw=function(o){Kw(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.getDefinition=function(){return{VERTICES:1,VERTEX_SHADER_SOURCE:jw.default,FRAGMENT_SHADER_SOURCE:Xw.default,METHOD:WebGLRenderingContext.POINTS,UNIFORMS:Zw,ATTRIBUTES:[{name:"a_position",size:2,type:sh},{name:"a_size",size:1,type:sh},{name:"a_color",size:4,type:ah,normalized:!0},{name:"a_id",size:4,type:ah,normalized:!0}]}},r.prototype.processVisibleItem=function(t,i,a){var u=this.array;u[i++]=a.x,u[i++]=a.y,u[i++]=a.size,u[i++]=(0,qw.floatColor)(a.color),u[i++]=t},r.prototype.setUniforms=function(t,i){var a=t.sizeRatio,u=t.pixelRatio,f=t.matrix,c=i.gl,v=i.uniformLocations,g=v.u_sizeRatio,_=v.u_pixelRatio,w=v.u_matrix;c.uniform1f(_,u),c.uniform1f(g,a),c.uniformMatrix3fv(w,!1,f)},r}(Yw.NodeProgram);la.default=Vw;var di={},yt={},ff=G&&G.__extends||function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(yt,"__esModule",{value:!0});yt.createEdgeCompoundProgram=yt.EdgeProgram=yt.AbstractEdgeProgram=void 0;var lf=on,Jw=W,Qw=function(o){ff(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(lf.AbstractProgram);yt.AbstractEdgeProgram=Qw;var e0=function(o){ff(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.kill=function(){},r.prototype.process=function(t,i,a,u,f){var c=i*this.STRIDE;if(f.hidden||a.hidden||u.hidden){for(var v=c+this.STRIDE;c<v;c++)this.array[c]=0;return}return this.processVisibleItem((0,Jw.indexToColor)(t),c,a,u,f)},r.drawLabel=void 0,r}(lf.Program);yt.EdgeProgram=e0;function t0(o,r){var t;return t=function(){function i(a,u,f){this.programs=o.map(function(c){return new c(a,u,f)})}return i.prototype.reallocate=function(a){this.programs.forEach(function(u){return u.reallocate(a)})},i.prototype.process=function(a,u,f,c,v){this.programs.forEach(function(g){return g.process(a,u,f,c,v)})},i.prototype.render=function(a){this.programs.forEach(function(u){return u.render(a)})},i.prototype.kill=function(){this.programs.forEach(function(a){return a.kill()})},i}(),t.drawLabel=r,t}yt.createEdgeCompoundProgram=t0;var cf={exports:{}};(()=>{var o={d:(i,a)=>{for(var u in a)o.o(a,u)&&!o.o(i,u)&&Object.defineProperty(i,u,{enumerable:!0,get:a[u]})},o:(i,a)=>Object.prototype.hasOwnProperty.call(i,a),r:i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})}},r={};o.r(r),o.d(r,{default:()=>t});const t=`attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_normal;
attribute float a_normalCoef;
attribute vec2 a_positionStart;
attribute vec2 a_positionEnd;
attribute float a_positionCoef;

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_zoomRatio;
uniform float u_correctionRatio;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;

const float minThickness = 1.7;
const float bias = 255.0 / 254.0;

void main() {
  vec2 normal = a_normal * a_normalCoef;
  vec2 position = a_positionStart * (1.0 - a_positionCoef) + a_positionEnd * a_positionCoef;

  float normalLength = length(normal);
  vec2 unitNormal = normal / normalLength;

  // We require edges to be at least \`minThickness\` pixels thick *on screen*
  // (so we need to compensate the size ratio):
  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);

  // Then, we need to retrieve the normalized thickness of the edge in the WebGL
  // referential (in a ([0, 1], [0, 1]) space), using our "magic" correction
  // ratio:
  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(position + unitNormal * webGLThickness, 1)).xy, 0, 1);

  // For the fragment shader though, we need a thickness that takes the "magic"
  // correction ratio into account (as in webGLThickness), but so that the
  // antialiasing effect does not depend on the zoom level. So here's yet
  // another thickness version:
  v_thickness = webGLThickness / u_zoomRatio;

  v_normal = unitNormal;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`;cf.exports=r})();var n0=cf.exports,df={exports:{}};(()=>{var o={d:(i,a)=>{for(var u in a)o.o(a,u)&&!o.o(i,u)&&Object.defineProperty(i,u,{enumerable:!0,get:a[u]})},o:(i,a)=>Object.prototype.hasOwnProperty.call(i,a),r:i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})}},r={};o.r(r),o.d(r,{default:()=>t});const t=`precision mediump float;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;

const float feather = 0.001;
const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  // We only handle antialiasing for normal mode:
  #ifdef PICKING_MODE
  gl_FragColor = v_color;
  #else
  float dist = length(v_normal) * v_thickness;

  float t = smoothstep(
    v_thickness - feather,
    v_thickness,
    dist
  );

  gl_FragColor = mix(v_color, transparent, t);
  #endif
}
`;df.exports=r})();var r0=df.exports,i0=G&&G.__extends||function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),pf=G&&G.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(di,"__esModule",{value:!0});var o0=W,a0=yt,s0=pf(n0),u0=pf(r0),uh=WebGLRenderingContext.UNSIGNED_BYTE,nr=WebGLRenderingContext.FLOAT,h0=["u_matrix","u_zoomRatio","u_sizeRatio","u_correctionRatio"],f0=function(o){i0(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.getDefinition=function(){return{VERTICES:6,VERTEX_SHADER_SOURCE:s0.default,FRAGMENT_SHADER_SOURCE:u0.default,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:h0,ATTRIBUTES:[{name:"a_positionStart",size:2,type:nr},{name:"a_positionEnd",size:2,type:nr},{name:"a_normal",size:2,type:nr},{name:"a_color",size:4,type:uh,normalized:!0},{name:"a_id",size:4,type:uh,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_positionCoef",size:1,type:nr},{name:"a_normalCoef",size:1,type:nr}],CONSTANT_DATA:[[0,1],[0,-1],[1,1],[1,1],[0,-1],[1,-1]]}},r.prototype.processVisibleItem=function(t,i,a,u,f){var c=f.size||1,v=a.x,g=a.y,_=u.x,w=u.y,x=(0,o0.floatColor)(f.color),S=_-v,R=w-g,N=S*S+R*R,F=0,U=0;N&&(N=1/Math.sqrt(N),F=-R*N*c,U=S*N*c);var B=this.array;B[i++]=v,B[i++]=g,B[i++]=_,B[i++]=w,B[i++]=F,B[i++]=U,B[i++]=x,B[i++]=t},r.prototype.setUniforms=function(t,i){var a=i.gl,u=i.uniformLocations,f=u.u_matrix,c=u.u_zoomRatio,v=u.u_correctionRatio,g=u.u_sizeRatio;a.uniformMatrix3fv(f,!1,t.matrix),a.uniform1f(c,t.zoomRatio),a.uniform1f(g,t.sizeRatio),a.uniform1f(v,t.correctionRatio)},r}(a0.EdgeProgram);di.default=f0;var ca={},da={},gf={exports:{}};(()=>{var o={d:(i,a)=>{for(var u in a)o.o(a,u)&&!o.o(i,u)&&Object.defineProperty(i,u,{enumerable:!0,get:a[u]})},o:(i,a)=>Object.prototype.hasOwnProperty.call(i,a),r:i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})}},r={};o.r(r),o.d(r,{default:()=>t});const t=`attribute vec2 a_position;
attribute vec2 a_normal;
attribute float a_radius;
attribute vec3 a_barycentric;

#ifdef PICKING_MODE
attribute vec4 a_id;
#else
attribute vec4 a_color;
#endif

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_correctionRatio;

varying vec4 v_color;

const float minThickness = 1.7;
const float bias = 255.0 / 254.0;
const float arrowHeadWidthLengthRatio = 0.66;
const float arrowHeadLengthThicknessRatio = 2.5;

void main() {
  float normalLength = length(a_normal);
  vec2 unitNormal = a_normal / normalLength;

  // These first computations are taken from edge.vert.glsl and
  // edge.clamped.vert.glsl. Please read it to get better comments on what's
  // happening:
  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);
  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;
  float webGLNodeRadius = a_radius * 2.0 * u_correctionRatio / u_sizeRatio;
  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;
  float webGLArrowHeadHalfWidth = webGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;

  float da = a_barycentric.x;
  float db = a_barycentric.y;
  float dc = a_barycentric.z;

  vec2 delta = vec2(
      da * (webGLNodeRadius * unitNormal.y)
    + db * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y + webGLArrowHeadHalfWidth * unitNormal.x)
    + dc * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y - webGLArrowHeadHalfWidth * unitNormal.x),

      da * (-webGLNodeRadius * unitNormal.x)
    + db * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x + webGLArrowHeadHalfWidth * unitNormal.y)
    + dc * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x - webGLArrowHeadHalfWidth * unitNormal.y)
  );

  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;

  gl_Position = vec4(position, 0, 1);

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`;gf.exports=r})();var l0=gf.exports,vf={exports:{}};(()=>{var o={d:(i,a)=>{for(var u in a)o.o(a,u)&&!o.o(i,u)&&Object.defineProperty(i,u,{enumerable:!0,get:a[u]})},o:(i,a)=>Object.prototype.hasOwnProperty.call(i,a),r:i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})}},r={};o.r(r),o.d(r,{default:()=>t});const t=`precision mediump float;

varying vec4 v_color;

void main(void) {
  gl_FragColor = v_color;
}
`;vf.exports=r})();var c0=vf.exports,d0=G&&G.__extends||function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),yf=G&&G.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(da,"__esModule",{value:!0});var p0=W,g0=yt,v0=yf(l0),y0=yf(c0),hh=WebGLRenderingContext.UNSIGNED_BYTE,ti=WebGLRenderingContext.FLOAT,_0=["u_matrix","u_sizeRatio","u_correctionRatio"],m0=function(o){d0(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.getDefinition=function(){return{VERTICES:3,VERTEX_SHADER_SOURCE:v0.default,FRAGMENT_SHADER_SOURCE:y0.default,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:_0,ATTRIBUTES:[{name:"a_position",size:2,type:ti},{name:"a_normal",size:2,type:ti},{name:"a_radius",size:1,type:ti},{name:"a_color",size:4,type:hh,normalized:!0},{name:"a_id",size:4,type:hh,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_barycentric",size:3,type:ti}],CONSTANT_DATA:[[1,0,0],[0,1,0],[0,0,1]]}},r.prototype.processVisibleItem=function(t,i,a,u,f){var c=f.size||1,v=u.size||1,g=a.x,_=a.y,w=u.x,x=u.y,S=(0,p0.floatColor)(f.color),R=w-g,N=x-_,F=R*R+N*N,U=0,B=0;F&&(F=1/Math.sqrt(F),U=-N*F*c,B=R*F*c);var I=this.array;I[i++]=w,I[i++]=x,I[i++]=-U,I[i++]=-B,I[i++]=v,I[i++]=S,I[i++]=t},r.prototype.setUniforms=function(t,i){var a=i.gl,u=i.uniformLocations,f=u.u_matrix,c=u.u_sizeRatio,v=u.u_correctionRatio;a.uniformMatrix3fv(f,!1,t.matrix),a.uniform1f(c,t.sizeRatio),a.uniform1f(v,t.correctionRatio)},r}(g0.EdgeProgram);da.default=m0;var pa={},_f={exports:{}};(()=>{var o={d:(i,a)=>{for(var u in a)o.o(a,u)&&!o.o(i,u)&&Object.defineProperty(i,u,{enumerable:!0,get:a[u]})},o:(i,a)=>Object.prototype.hasOwnProperty.call(i,a),r:i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})}},r={};o.r(r),o.d(r,{default:()=>t});const t=`attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_normal;
attribute float a_normalCoef;
attribute vec2 a_positionStart;
attribute vec2 a_positionEnd;
attribute float a_positionCoef;
attribute float a_radius;
attribute float a_radiusCoef;

uniform mat3 u_matrix;
uniform float u_zoomRatio;
uniform float u_sizeRatio;
uniform float u_correctionRatio;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;

const float minThickness = 1.7;
const float bias = 255.0 / 254.0;
const float arrowHeadLengthThicknessRatio = 2.5;

void main() {
  float radius = a_radius * a_radiusCoef;
  vec2 normal = a_normal * a_normalCoef;
  vec2 position = a_positionStart * (1.0 - a_positionCoef) + a_positionEnd * a_positionCoef;

  float normalLength = length(normal);
  vec2 unitNormal = normal / normalLength;

  // These first computations are taken from edge.vert.glsl. Please read it to
  // get better comments on what's happening:
  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);
  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;

  // Here, we move the point to leave space for the arrow head:
  float direction = sign(radius);
  float webGLNodeRadius = direction * radius * 2.0 * u_correctionRatio / u_sizeRatio;
  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;

  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (webGLNodeRadius + webGLArrowHeadLength);

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(position + unitNormal * webGLThickness + compensationVector, 1)).xy, 0, 1);

  v_thickness = webGLThickness / u_zoomRatio;

  v_normal = unitNormal;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`;_f.exports=r})();var w0=_f.exports,b0=G&&G.__extends||function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),si=G&&G.__assign||function(){return si=Object.assign||function(o){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(o[a]=r[a])}return o},si.apply(this,arguments)},mf=G&&G.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(pa,"__esModule",{value:!0});var E0=mf(di),x0=mf(w0),A0=W,fh=WebGLRenderingContext.UNSIGNED_BYTE,rn=WebGLRenderingContext.FLOAT,S0=function(o){b0(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.getDefinition=function(){return si(si({},o.prototype.getDefinition.call(this)),{VERTEX_SHADER_SOURCE:x0.default,ATTRIBUTES:[{name:"a_positionStart",size:2,type:rn},{name:"a_positionEnd",size:2,type:rn},{name:"a_normal",size:2,type:rn},{name:"a_color",size:4,type:fh,normalized:!0},{name:"a_id",size:4,type:fh,normalized:!0},{name:"a_radius",size:1,type:rn}],CONSTANT_ATTRIBUTES:[{name:"a_positionCoef",size:1,type:rn},{name:"a_normalCoef",size:1,type:rn},{name:"a_radiusCoef",size:1,type:rn}],CONSTANT_DATA:[[0,1,0],[0,-1,0],[1,1,1],[1,1,1],[0,-1,0],[1,-1,-1]]})},r.prototype.processVisibleItem=function(t,i,a,u,f){var c=f.size||1,v=a.x,g=a.y,_=u.x,w=u.y,x=(0,A0.floatColor)(f.color),S=_-v,R=w-g,N=u.size||1,F=S*S+R*R,U=0,B=0;F&&(F=1/Math.sqrt(F),U=-R*F*c,B=S*F*c);var I=this.array;I[i++]=v,I[i++]=g,I[i++]=_,I[i++]=w,I[i++]=U,I[i++]=B,I[i++]=x,I[i++]=t,I[i++]=N},r}(E0.default);pa.default=S0;var wf=G&&G.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ca,"__esModule",{value:!0});var T0=yt,C0=wf(da),L0=wf(pa),R0=(0,T0.createEdgeCompoundProgram)([L0.default,C0.default]);ca.default=R0;var pi={};Object.defineProperty(pi,"__esModule",{value:!0});pi.drawStraightEdgeLabel=void 0;function D0(o,r,t,i,a){var u=a.edgeLabelSize,f=a.edgeLabelFont,c=a.edgeLabelWeight,v=a.edgeLabelColor.attribute?r[a.edgeLabelColor.attribute]||a.edgeLabelColor.color||"#000":a.edgeLabelColor.color,g=r.label;if(g){o.fillStyle=v,o.font="".concat(c," ").concat(u,"px ").concat(f);var _=t.size,w=i.size,x=t.x,S=t.y,R=i.x,N=i.y,F=(x+R)/2,U=(S+N)/2,B=R-x,I=N-S,Q=Math.sqrt(B*B+I*I);if(!(Q<_+w)){x+=B*_/Q,S+=I*_/Q,R-=B*w/Q,N-=I*w/Q,F=(x+R)/2,U=(S+N)/2,B=R-x,I=N-S,Q=Math.sqrt(B*B+I*I);var ne=o.measureText(g).width;if(ne>Q){var ve="…";for(g=g+ve,ne=o.measureText(g).width;ne>Q&&g.length>1;)g=g.slice(0,-2)+ve,ne=o.measureText(g).width;if(g.length<4)return}var _e;B>0?I>0?_e=Math.acos(B/Q):_e=Math.asin(I/Q):I>0?_e=Math.acos(B/Q)+Math.PI:_e=Math.asin(B/Q)+Math.PI/2,o.save(),o.translate(F,U),o.rotate(_e),o.fillText(g,-ne/2,r.size/2+u),o.restore()}}}pi.drawStraightEdgeLabel=D0;var rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.drawDiscNodeLabel=void 0;function N0(o,r,t){if(r.label){var i=t.labelSize,a=t.labelFont,u=t.labelWeight,f=t.labelColor.attribute?r[t.labelColor.attribute]||t.labelColor.color||"#000":t.labelColor.color;o.fillStyle=f,o.font="".concat(u," ").concat(i,"px ").concat(a),o.fillText(r.label,r.x+r.size+3,r.y+i/3)}}rr.drawDiscNodeLabel=N0;var gi={};Object.defineProperty(gi,"__esModule",{value:!0});gi.drawDiscNodeHover=void 0;var O0=rr;function G0(o,r,t){var i=t.labelSize,a=t.labelFont,u=t.labelWeight;o.font="".concat(u," ").concat(i,"px ").concat(a),o.fillStyle="#FFF",o.shadowOffsetX=0,o.shadowOffsetY=0,o.shadowBlur=8,o.shadowColor="#000";var f=2;if(typeof r.label=="string"){var c=o.measureText(r.label).width,v=Math.round(c+5),g=Math.round(i+2*f),_=Math.max(r.size,i/2)+f,w=Math.asin(g/2/_),x=Math.sqrt(Math.abs(Math.pow(_,2)-Math.pow(g/2,2)));o.beginPath(),o.moveTo(r.x+x,r.y+g/2),o.lineTo(r.x+_+v,r.y+g/2),o.lineTo(r.x+_+v,r.y-g/2),o.lineTo(r.x+x,r.y-g/2),o.arc(r.x,r.y,_,w,-w),o.closePath(),o.fill()}else o.beginPath(),o.arc(r.x,r.y,r.size+f,0,Math.PI*2),o.closePath(),o.fill();o.shadowOffsetX=0,o.shadowOffsetY=0,o.shadowBlur=0,(0,O0.drawDiscNodeLabel)(o,r,t)}gi.drawDiscNodeHover=G0;(function(o){var r=G&&G.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(o,"__esModule",{value:!0}),o.resolveSettings=o.validateSettings=o.DEFAULT_EDGE_PROGRAM_CLASSES=o.DEFAULT_NODE_PROGRAM_CLASSES=o.DEFAULT_SETTINGS=void 0;var t=W,i=r(la),a=r(di),u=r(ca),f=pi,c=rr,v=gi;o.DEFAULT_SETTINGS={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,enableEdgeEvents:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",labelColor:{color:"#000"},edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",edgeLabelColor:{attribute:"color"},stagePadding:30,zoomToSizeRatioFunction:Math.sqrt,itemSizesReference:"screen",defaultDrawEdgeLabel:f.drawStraightEdgeLabel,defaultDrawNodeLabel:c.drawDiscNodeLabel,defaultDrawNodeHover:v.drawDiscNodeHover,labelDensity:1,labelGridCellSize:100,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,minCameraRatio:null,maxCameraRatio:null,allowInvalidContainer:!1,nodeProgramClasses:{},nodeHoverProgramClasses:{},edgeProgramClasses:{}},o.DEFAULT_NODE_PROGRAM_CLASSES={circle:i.default},o.DEFAULT_EDGE_PROGRAM_CLASSES={arrow:u.default,line:a.default};function g(w){if(typeof w.labelDensity!="number"||w.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.");var x=w.minCameraRatio,S=w.maxCameraRatio;if(typeof x=="number"&&typeof S=="number"&&S<x)throw new Error("Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.")}o.validateSettings=g;function _(w){var x=(0,t.assign)({},o.DEFAULT_SETTINGS,w);return x.nodeProgramClasses=(0,t.assign)({},o.DEFAULT_NODE_PROGRAM_CLASSES,x.nodeProgramClasses),x.edgeProgramClasses=(0,t.assign)({},o.DEFAULT_EDGE_PROGRAM_CLASSES,x.edgeProgramClasses),x}o.resolveSettings=_})(nf);var ga={},F0=G&&G.__extends||function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),P0=G&&G.__createBinding||(Object.create?function(o,r,t,i){i===void 0&&(i=t);var a=Object.getOwnPropertyDescriptor(r,t);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(o,i,a)}:function(o,r,t,i){i===void 0&&(i=t),o[i]=r[t]}),I0=G&&G.__setModuleDefault||(Object.create?function(o,r){Object.defineProperty(o,"default",{enumerable:!0,value:r})}:function(o,r){o.default=r}),M0=G&&G.__importStar||function(o){if(o&&o.__esModule)return o;var r={};if(o!=null)for(var t in o)t!=="default"&&Object.prototype.hasOwnProperty.call(o,t)&&P0(r,o,t);return I0(r,o),r},lh=G&&G.__read||function(o,r){var t=typeof Symbol=="function"&&o[Symbol.iterator];if(!t)return o;var i=t.call(o),a,u=[],f;try{for(;(r===void 0||r-- >0)&&!(a=i.next()).done;)u.push(a.value)}catch(c){f={error:c}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(f)throw f.error}}return u};Object.defineProperty(ga,"__esModule",{value:!0});var Wt=M0(De),$0=200,ch=3,U0=200,k0=function(o){F0(r,o);function r(t,i){var a=o.call(this,t,i)||this;return a.enabled=!0,a.isMoving=!1,a.hasMoved=!1,a.touchMode=0,a.startTouchesPositions=[],a.handleStart=a.handleStart.bind(a),a.handleLeave=a.handleLeave.bind(a),a.handleMove=a.handleMove.bind(a),t.addEventListener("touchstart",a.handleStart,!1),t.addEventListener("touchend",a.handleLeave,!1),t.addEventListener("touchcancel",a.handleLeave,!1),t.addEventListener("touchmove",a.handleMove,!1),a}return r.prototype.kill=function(){var t=this.container;t.removeEventListener("touchstart",this.handleStart),t.removeEventListener("touchend",this.handleLeave),t.removeEventListener("touchcancel",this.handleLeave),t.removeEventListener("touchmove",this.handleMove)},r.prototype.getDimensions=function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}},r.prototype.dispatchRelatedMouseEvent=function(t,i,a,u){var f=a||i.touches[0],c=new MouseEvent(t,{clientX:f.clientX,clientY:f.clientY,altKey:i.altKey,ctrlKey:i.ctrlKey});c.isFakeSigmaMouseEvent=!0,(u||this.container).dispatchEvent(c)},r.prototype.handleStart=function(t){var i=this;if(this.enabled){t.preventDefault(),t.touches.length===1&&this.dispatchRelatedMouseEvent("mousedown",t);var a=(0,Wt.getTouchesArray)(t.touches);if(this.touchMode=a.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=a.map(function(x){return(0,Wt.getPosition)(x,i.container)}),this.lastTouches=a,this.lastTouchesPositions=this.startTouchesPositions,this.touchMode===2){var u=lh(this.startTouchesPositions,2),f=u[0],c=f.x,v=f.y,g=u[1],_=g.x,w=g.y;this.startTouchesAngle=Math.atan2(w-v,_-c),this.startTouchesDistance=Math.sqrt(Math.pow(_-c,2)+Math.pow(w-v,2))}this.emit("touchdown",(0,Wt.getTouchCoords)(t,this.container))}},r.prototype.handleLeave=function(t){if(this.enabled){switch(t.preventDefault(),t.touches.length===0&&this.lastTouches&&this.lastTouches.length&&(this.dispatchRelatedMouseEvent("mouseup",t,this.lastTouches[0],document),this.hasMoved||this.dispatchRelatedMouseEvent("click",t,this.lastTouches[0])),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(t.touches.length===1){this.handleStart(t),t.preventDefault();break}case 1:if(this.isMoving){var i=this.renderer.getCamera(),a=i.getState(),u=i.getPreviousState()||{x:0,y:0};i.animate({x:a.x+ch*(a.x-u.x),y:a.y+ch*(a.y-u.y)},{duration:U0,easing:"quadraticOut"})}this.hasMoved=!1,this.isMoving=!1,this.touchMode=0;break}this.emit("touchup",(0,Wt.getTouchCoords)(t,this.container))}},r.prototype.handleMove=function(t){var i,a=this;if(this.enabled){t.preventDefault(),t.touches.length===1&&this.dispatchRelatedMouseEvent("mousemove",t);var u=(0,Wt.getTouchesArray)(t.touches),f=u.map(function(an){return(0,Wt.getPosition)(an,a.container)});if(this.lastTouches=u,this.lastTouchesPositions=f,this.hasMoved||(this.hasMoved=f.some(function(an,wi){var lt=a.startTouchesPositions[wi];return an.x!==lt.x||an.y!==lt.y})),!!this.hasMoved){this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){a.isMoving=!1},$0);var c=this.renderer.getCamera(),v=this.startCameraState;switch(this.touchMode){case 1:{var g=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),_=g.x,w=g.y,x=this.renderer.viewportToFramedGraph(f[0]),S=x.x,R=x.y;c.setState({x:v.x+_-S,y:v.y+w-R});break}case 2:{var N={},F=f[0],U=F.x,B=F.y,I=f[1],Q=I.x,ne=I.y,ve=Math.atan2(ne-B,Q-U)-this.startTouchesAngle,_e=Math.hypot(ne-B,Q-U)/this.startTouchesDistance,Nt=c.getBoundedRatio(v.ratio/_e);N.ratio=Nt,N.angle=v.angle+ve;var Ot=this.getDimensions(),ir=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:v}),Yt=Math.min(Ot.width,Ot.height),_i=Yt/Ot.width,mi=Yt/Ot.height,Nn=Nt/Yt,S=U-Yt/2/_i,R=B-Yt/2/mi;i=lh([S*Math.cos(-N.angle)-R*Math.sin(-N.angle),R*Math.cos(-N.angle)+S*Math.sin(-N.angle)],2),S=i[0],R=i[1],N.x=ir.x-S*Nn,N.y=ir.y+R*Nn,c.setState(N);break}}this.emit("touchmove",(0,Wt.getTouchCoords)(t,this.container))}}},r}(Wt.default);ga.default=k0;var vi={};Object.defineProperty(vi,"__esModule",{value:!0});vi.extend=void 0;function B0(o,r){var t=r.size;if(t!==0){var i=o.length;o.length+=t;var a=0;r.forEach(function(u){o[i+a]=u,a++})}}vi.extend=B0;var yi={},z0=G&&G.__read||function(o,r){var t=typeof Symbol=="function"&&o[Symbol.iterator];if(!t)return o;var i=t.call(o),a,u=[],f;try{for(;(r===void 0||r-- >0)&&!(a=i.next()).done;)u.push(a.value)}catch(c){f={error:c}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(f)throw f.error}}return u};Object.defineProperty(yi,"__esModule",{value:!0});yi.getPixelColor=void 0;function W0(o,r,t,i,a,u){var f=Math.floor(t/u*a),c=Math.floor(o.drawingBufferHeight/u-i/u*a),v=new Uint8Array(4);o.bindFramebuffer(o.FRAMEBUFFER,r),o.readPixels(f,c,1,1,o.RGBA,o.UNSIGNED_BYTE,v);var g=z0(v,4),_=g[0],w=g[1],x=g[2],S=g[3];return[_,w,x,S]}yi.getPixelColor=W0;var H0=G&&G.__extends||function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),re=G&&G.__assign||function(){return re=Object.assign||function(o){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(o[a]=r[a])}return o},re.apply(this,arguments)},dh=G&&G.__read||function(o,r){var t=typeof Symbol=="function"&&o[Symbol.iterator];if(!t)return o;var i=t.call(o),a,u=[],f;try{for(;(r===void 0||r-- >0)&&!(a=i.next()).done;)u.push(a.value)}catch(c){f={error:c}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(f)throw f.error}}return u},ph=G&&G.__spreadArray||function(o,r,t){if(t||arguments.length===2)for(var i=0,a=r.length,u;i<a;i++)(u||!(i in r))&&(u||(u=Array.prototype.slice.call(r,0,i)),u[i]=r[i]);return o.concat(u||Array.prototype.slice.call(r))},va=G&&G.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(sa,"__esModule",{value:!0});var gh=va(fi),K0=va(ci),q0=Dn,ge=W,Jo=Cn,ni=nf,Y0=va(ga),ri=Fe,vh=vi,yh=yi,_h=150,mh=50;function j0(o,r,t){if(!t.hasOwnProperty("x")||!t.hasOwnProperty("y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'.concat(r,'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?'));return t.color||(t.color=o.defaultNodeColor),!t.label&&t.label!==""&&(t.label=null),t.label!==void 0&&t.label!==null?t.label=""+t.label:t.label=null,t.size||(t.size=2),t.hasOwnProperty("hidden")||(t.hidden=!1),t.hasOwnProperty("highlighted")||(t.highlighted=!1),t.hasOwnProperty("forceLabel")||(t.forceLabel=!1),(!t.type||t.type==="")&&(t.type=o.defaultNodeType),t.zIndex||(t.zIndex=0),t}function X0(o,r,t){return t.color||(t.color=o.defaultEdgeColor),t.label||(t.label=""),t.size||(t.size=.5),t.hasOwnProperty("hidden")||(t.hidden=!1),t.hasOwnProperty("forceLabel")||(t.forceLabel=!1),(!t.type||t.type==="")&&(t.type=o.defaultEdgeType),t.zIndex||(t.zIndex=0),t}var Z0=function(o){H0(r,o);function r(t,i,a){a===void 0&&(a={});var u=o.call(this)||this;if(u.elements={},u.canvasContexts={},u.webGLContexts={},u.pickingLayers=new Set,u.textures={},u.frameBuffers={},u.activeListeners={},u.labelGrid=new Jo.LabelGrid,u.nodeDataCache={},u.edgeDataCache={},u.nodeProgramIndex={},u.edgeProgramIndex={},u.nodesWithForcedLabels=new Set,u.edgesWithForcedLabels=new Set,u.nodeExtent={x:[0,1],y:[0,1]},u.nodeZExtent=[1/0,-1/0],u.edgeZExtent=[1/0,-1/0],u.matrix=(0,ri.identity)(),u.invMatrix=(0,ri.identity)(),u.correctionRatio=1,u.customBBox=null,u.normalizationFunction=(0,ge.createNormalizationFunction)({x:[0,1],y:[0,1]}),u.graphToViewportRatio=1,u.itemIDsIndex={},u.nodeIndices={},u.edgeIndices={},u.width=0,u.height=0,u.pixelRatio=(0,ge.getPixelRatio)(),u.pickingDownSizingRatio=2*u.pixelRatio,u.displayedNodeLabels=new Set,u.displayedEdgeLabels=new Set,u.highlightedNodes=new Set,u.hoveredNode=null,u.hoveredEdge=null,u.renderFrame=null,u.renderHighlightedNodesFrame=null,u.needToProcess=!1,u.checkEdgesEventsFrame=null,u.nodePrograms={},u.nodeHoverPrograms={},u.edgePrograms={},u.settings=(0,ni.resolveSettings)(a),(0,ni.validateSettings)(u.settings),(0,ge.validateGraph)(t),!(i instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");u.graph=t,u.container=i,u.createWebGLContext("edges",{picking:a.enableEdgeEvents}),u.createCanvasContext("edgeLabels"),u.createWebGLContext("nodes",{picking:!0}),u.createCanvasContext("labels"),u.createCanvasContext("hovers"),u.createWebGLContext("hoverNodes"),u.createCanvasContext("mouse"),u.resize();for(var f in u.settings.nodeProgramClasses){var c=u.settings.nodeProgramClasses[f];u.nodePrograms[f]=new c(u.webGLContexts.nodes,u.frameBuffers.nodes,u);var v=c;f in u.settings.nodeHoverProgramClasses&&(v=u.settings.nodeHoverProgramClasses[f]),u.nodeHoverPrograms[f]=new v(u.webGLContexts.hoverNodes,null,u)}for(var f in u.settings.edgeProgramClasses){var g=u.settings.edgeProgramClasses[f];u.edgePrograms[f]=new g(u.webGLContexts.edges,u.frameBuffers.edges,u)}return u.camera=new gh.default,u.bindCameraHandlers(),u.mouseCaptor=new K0.default(u.elements.mouse,u),u.touchCaptor=new Y0.default(u.elements.mouse,u),u.bindEventHandlers(),u.bindGraphHandlers(),u.handleSettingsUpdate(),u.refresh(),u}return r.prototype.createCanvas=function(t){var i=(0,ge.createElement)("canvas",{position:"absolute"},{class:"sigma-".concat(t)});return this.elements[t]=i,this.container.appendChild(i),i},r.prototype.createCanvasContext=function(t){var i=this.createCanvas(t),a={preserveDrawingBuffer:!1,antialias:!1};return this.canvasContexts[t]=i.getContext("2d",a),this},r.prototype.createWebGLContext=function(t,i){var a=this.createCanvas(t);i!=null&&i.hidden&&a.remove();var u=re({preserveDrawingBuffer:!1,antialias:!1},i||{}),f;f=a.getContext("webgl2",u),f||(f=a.getContext("webgl",u)),f||(f=a.getContext("experimental-webgl",u));var c=f;if(this.webGLContexts[t]=c,c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),i!=null&&i.picking){this.pickingLayers.add(t);var v=c.createFramebuffer();if(!v)throw new Error("Sigma: cannot create a new frame buffer for layer ".concat(t));this.frameBuffers[t]=v}return this},r.prototype.resetWebGLTexture=function(t){var i=this.webGLContexts[t],a=this.frameBuffers[t],u=this.textures[t];u&&i.deleteTexture(u);var f=i.createTexture();return i.bindFramebuffer(i.FRAMEBUFFER,a),i.bindTexture(i.TEXTURE_2D,f),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,this.width,this.height,0,i.RGBA,i.UNSIGNED_BYTE,null),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,f,0),this.textures[t]=f,this},r.prototype.bindCameraHandlers=function(){var t=this;return this.activeListeners.camera=function(){t.scheduleRender()},this.camera.on("updated",this.activeListeners.camera),this},r.prototype.unbindCameraHandlers=function(){return this.camera.removeListener("updated",this.activeListeners.camera),this},r.prototype.getNodeAtPosition=function(t){var i=t.x,a=t.y,u=(0,yh.getPixelColor)(this.webGLContexts.nodes,this.frameBuffers.nodes,i,a,this.pixelRatio,this.pickingDownSizingRatio),f=ge.colorToIndex.apply(void 0,ph([],dh(u),!1)),c=this.itemIDsIndex[f];return c&&c.type==="node"?c.id:null},r.prototype.bindEventHandlers=function(){var t=this;this.activeListeners.handleResize=function(){t.scheduleRefresh()},window.addEventListener("resize",this.activeListeners.handleResize),this.activeListeners.handleMove=function(a){var u={event:a,preventSigmaDefault:function(){a.preventSigmaDefault()}},f=t.getNodeAtPosition(a);if(f&&t.hoveredNode!==f&&!t.nodeDataCache[f].hidden){t.hoveredNode&&t.emit("leaveNode",re(re({},u),{node:t.hoveredNode})),t.hoveredNode=f,t.emit("enterNode",re(re({},u),{node:f})),t.scheduleHighlightedNodesRender();return}if(t.hoveredNode&&t.getNodeAtPosition(a)!==t.hoveredNode){var c=t.hoveredNode;t.hoveredNode=null,t.emit("leaveNode",re(re({},u),{node:c})),t.scheduleHighlightedNodesRender();return}t.settings.enableEdgeEvents&&t.checkEdgeHoverEvents(u)};var i=function(a){return function(u){var f={event:u,preventSigmaDefault:function(){u.preventSigmaDefault()}},c=u.original.isFakeSigmaMouseEvent,v=c?t.getNodeAtPosition(u):t.hoveredNode;if(v)return t.emit("".concat(a,"Node"),re(re({},f),{node:v}));if(t.settings.enableEdgeEvents){var g=t.getEdgeAtPoint(u.x,u.y);if(g)return t.emit("".concat(a,"Edge"),re(re({},f),{edge:g}))}return t.emit("".concat(a,"Stage"),f)}};return this.activeListeners.handleClick=i("click"),this.activeListeners.handleRightClick=i("rightClick"),this.activeListeners.handleDoubleClick=i("doubleClick"),this.activeListeners.handleWheel=i("wheel"),this.activeListeners.handleDown=i("down"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("doubleClick",this.activeListeners.handleDoubleClick),this.mouseCaptor.on("wheel",this.activeListeners.handleWheel),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this},r.prototype.bindGraphHandlers=function(){var t=this,i=this.graph,a=new Set(["x","y","zIndex","type"]);return this.activeListeners.eachNodeAttributesUpdatedGraphUpdate=function(u){var f,c=(f=u.hints)===null||f===void 0?void 0:f.attributes;t.graph.forEachNode(function(g){return t.updateNode(g)});var v=!c||c.some(function(g){return a.has(g)});t.refresh({partialGraph:{nodes:i.nodes()},skipIndexation:!v,schedule:!0})},this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate=function(u){var f,c=(f=u.hints)===null||f===void 0?void 0:f.attributes;t.graph.forEachEdge(function(g){return t.updateEdge(g)});var v=c&&["zIndex","type"].some(function(g){return c==null?void 0:c.includes(g)});t.refresh({partialGraph:{edges:i.edges()},skipIndexation:!v,schedule:!0})},this.activeListeners.addNodeGraphUpdate=function(u){var f=u.key;t.addNode(f),t.refresh({partialGraph:{nodes:[f]},skipIndexation:!1,schedule:!0})},this.activeListeners.updateNodeGraphUpdate=function(u){var f=u.key;t.refresh({partialGraph:{nodes:[f]},skipIndexation:!1,schedule:!0})},this.activeListeners.dropNodeGraphUpdate=function(u){var f=u.key;t.removeNode(f),t.refresh({schedule:!0})},this.activeListeners.addEdgeGraphUpdate=function(u){var f=u.key;t.addEdge(f),t.refresh({partialGraph:{edges:[f]},schedule:!0})},this.activeListeners.updateEdgeGraphUpdate=function(u){var f=u.key;t.refresh({partialGraph:{edges:[f]},skipIndexation:!1,schedule:!0})},this.activeListeners.dropEdgeGraphUpdate=function(u){var f=u.key;t.removeEdge(f),t.refresh({schedule:!0})},this.activeListeners.clearEdgesGraphUpdate=function(){t.clearEdgeState(),t.clearEdgeIndices(),t.refresh({schedule:!0})},this.activeListeners.clearGraphUpdate=function(){t.clearEdgeState(),t.clearNodeState(),t.clearEdgeIndices(),t.clearNodeIndices(),t.refresh({schedule:!0})},i.on("nodeAdded",this.activeListeners.addNodeGraphUpdate),i.on("nodeDropped",this.activeListeners.dropNodeGraphUpdate),i.on("nodeAttributesUpdated",this.activeListeners.updateNodeGraphUpdate),i.on("eachNodeAttributesUpdated",this.activeListeners.eachNodeAttributesUpdatedGraphUpdate),i.on("edgeAdded",this.activeListeners.addEdgeGraphUpdate),i.on("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),i.on("edgeAttributesUpdated",this.activeListeners.updateEdgeGraphUpdate),i.on("eachEdgeAttributesUpdated",this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate),i.on("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),i.on("cleared",this.activeListeners.clearGraphUpdate),this},r.prototype.unbindGraphHandlers=function(){var t=this.graph;t.removeListener("nodeAdded",this.activeListeners.addNodeGraphUpdate),t.removeListener("nodeDropped",this.activeListeners.dropNodeGraphUpdate),t.removeListener("nodeAttributesUpdated",this.activeListeners.updateNodeGraphUpdate),t.removeListener("eachNodeAttributesUpdated",this.activeListeners.eachNodeAttributesUpdatedGraphUpdate),t.removeListener("edgeAdded",this.activeListeners.addEdgeGraphUpdate),t.removeListener("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),t.removeListener("edgeAttributesUpdated",this.activeListeners.updateEdgeGraphUpdate),t.removeListener("eachEdgeAttributesUpdated",this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate),t.removeListener("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),t.removeListener("cleared",this.activeListeners.clearGraphUpdate)},r.prototype.checkEdgeHoverEvents=function(t){var i=this.hoveredNode?null:this.getEdgeAtPoint(t.event.x,t.event.y);return i!==this.hoveredEdge&&(this.hoveredEdge&&this.emit("leaveEdge",re(re({},t),{edge:this.hoveredEdge})),i&&this.emit("enterEdge",re(re({},t),{edge:i})),this.hoveredEdge=i),this},r.prototype.getEdgeAtPoint=function(t,i){var a=(0,yh.getPixelColor)(this.webGLContexts.edges,this.frameBuffers.edges,t,i,this.pixelRatio,this.pickingDownSizingRatio),u=ge.colorToIndex.apply(void 0,ph([],dh(a),!1)),f=this.itemIDsIndex[u];return f&&f.type==="edge"?f.id:null},r.prototype.process=function(){var t=this,i=this.graph,a=this.settings,u=this.getDimensions();this.nodeExtent=(0,ge.graphExtent)(this.graph),this.normalizationFunction=(0,ge.createNormalizationFunction)(this.customBBox||this.nodeExtent);var f=new gh.default,c=(0,ge.matrixFromCamera)(f.getState(),u,this.getGraphDimensions(),this.getSetting("stagePadding")||0);this.labelGrid.resizeAndClear(u,a.labelGridCellSize);for(var v={},g={},_={},w={},x=1,S=i.nodes(),R=0,N=S.length;R<N;R++){var F=S[R],U=this.nodeDataCache[F],B=i.getNodeAttributes(F);U.x=B.x,U.y=B.y,this.normalizationFunction.applyTo(U),typeof U.label=="string"&&!U.hidden&&this.labelGrid.add(F,U.size,this.framedGraphToViewport(U,{matrix:c})),v[U.type]=(v[U.type]||0)+1}this.labelGrid.organize();for(var I in this.nodePrograms){if(!this.nodePrograms.hasOwnProperty(I))throw new Error('Sigma: could not find a suitable program for node type "'.concat(I,'"!'));this.nodePrograms[I].reallocate(v[I]||0),v[I]=0}this.settings.zIndex&&this.nodeZExtent[0]!==this.nodeZExtent[1]&&(S=(0,ge.zIndexOrdering)(this.nodeZExtent,function(_e){return t.nodeDataCache[_e].zIndex},S));for(var R=0,N=S.length;R<N;R++){var F=S[R];g[F]=x,w[g[F]]={type:"node",id:F},x++;var U=this.nodeDataCache[F];this.addNodeToProgram(F,g[F],v[U.type]++)}for(var Q={},ne=i.edges(),R=0,N=ne.length;R<N;R++){var ve=ne[R],U=this.edgeDataCache[ve];Q[U.type]=(Q[U.type]||0)+1}this.settings.zIndex&&this.edgeZExtent[0]!==this.edgeZExtent[1]&&(ne=(0,ge.zIndexOrdering)(this.edgeZExtent,function(_e){return t.edgeDataCache[_e].zIndex},ne));for(var I in this.edgePrograms){if(!this.edgePrograms.hasOwnProperty(I))throw new Error('Sigma: could not find a suitable program for edge type "'.concat(I,'"!'));this.edgePrograms[I].reallocate(Q[I]||0),Q[I]=0}for(var R=0,N=ne.length;R<N;R++){var ve=ne[R];_[ve]=x,w[_[ve]]={type:"edge",id:ve},x++;var U=this.edgeDataCache[ve];this.addEdgeToProgram(ve,_[ve],Q[U.type]++)}return this.itemIDsIndex=w,this.nodeIndices=g,this.edgeIndices=_,this},r.prototype.handleSettingsUpdate=function(){return this.camera.minRatio=this.settings.minCameraRatio,this.camera.maxRatio=this.settings.maxCameraRatio,this.camera.setState(this.camera.validateState(this.camera.getState())),this},r.prototype.renderLabels=function(){if(!this.settings.renderLabels)return this;var t=this.camera.getState(),i=this.labelGrid.getLabelsToDisplay(t.ratio,this.settings.labelDensity);(0,vh.extend)(i,this.nodesWithForcedLabels),this.displayedNodeLabels=new Set;for(var a=this.canvasContexts.labels,u=0,f=i.length;u<f;u++){var c=i[u],v=this.nodeDataCache[c];if(!this.displayedNodeLabels.has(c)&&!v.hidden){var g=this.framedGraphToViewport(v),_=g.x,w=g.y,x=this.scaleSize(v.size);if(!(!v.forceLabel&&x<this.settings.labelRenderedSizeThreshold)&&!(_<-_h||_>this.width+_h||w<-mh||w>this.height+mh)){this.displayedNodeLabels.add(c);var S=this.settings,R=S.nodeProgramClasses,N=S.defaultDrawNodeLabel,F=R[v.type].drawLabel||N;F(a,re(re({key:c},v),{size:x,x:_,y:w}),this.settings)}}}return this},r.prototype.renderEdgeLabels=function(){if(!this.settings.renderEdgeLabels)return this;var t=this.canvasContexts.edgeLabels;t.clearRect(0,0,this.width,this.height);var i=(0,Jo.edgeLabelsToDisplayFromNodes)({graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedNodeLabels,highlightedNodes:this.highlightedNodes});(0,vh.extend)(i,this.edgesWithForcedLabels);for(var a=new Set,u=0,f=i.length;u<f;u++){var c=i[u],v=this.graph.extremities(c),g=this.nodeDataCache[v[0]],_=this.nodeDataCache[v[1]],w=this.edgeDataCache[c];if(!a.has(c)&&!(w.hidden||g.hidden||_.hidden)){var x=this.settings,S=x.edgeProgramClasses,R=x.defaultDrawEdgeLabel,N=S[w.type].drawLabel||R;N(t,re(re({key:c},w),{size:this.scaleSize(w.size)}),re(re(re({key:v[0]},g),this.framedGraphToViewport(g)),{size:this.scaleSize(g.size)}),re(re(re({key:v[1]},_),this.framedGraphToViewport(_)),{size:this.scaleSize(_.size)}),this.settings),a.add(c)}}return this.displayedEdgeLabels=a,this},r.prototype.renderHighlightedNodes=function(){var t=this,i=this.canvasContexts.hovers;i.clearRect(0,0,this.width,this.height);var a=function(g){var _=t.nodeDataCache[g],w=t.framedGraphToViewport(_),x=w.x,S=w.y,R=t.scaleSize(_.size),N=t.settings,F=N.nodeProgramClasses,U=N.defaultDrawNodeHover,B=F[_.type].drawHover||U;B(i,re(re({key:g},_),{size:R,x,y:S}),t.settings)},u=[];this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&u.push(this.hoveredNode),this.highlightedNodes.forEach(function(g){g!==t.hoveredNode&&u.push(g)}),u.forEach(function(g){return a(g)});var f={};u.forEach(function(g){var _=t.nodeDataCache[g].type;f[_]=(f[_]||0)+1});for(var c in this.nodeHoverPrograms)this.nodeHoverPrograms[c].reallocate(f[c]||0),f[c]=0;u.forEach(function(g){var _=t.nodeDataCache[g];t.nodeHoverPrograms[_.type].process(0,f[_.type]++,_)}),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);for(var c in this.nodeHoverPrograms){var v=this.nodeHoverPrograms[c];v.render({matrix:this.matrix,width:this.width,height:this.height,pixelRatio:this.pixelRatio,cameraAngle:this.camera.angle,zoomRatio:this.camera.ratio,sizeRatio:1/this.scaleSize(),correctionRatio:this.correctionRatio,downSizingRatio:this.pickingDownSizingRatio})}},r.prototype.scheduleHighlightedNodesRender=function(){var t=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=(0,ge.requestFrame)(function(){t.renderHighlightedNodesFrame=null,t.renderHighlightedNodes(),t.renderEdgeLabels()}))},r.prototype.render=function(){var t=this;this.emit("beforeRender");var i=function(){return t.emit("afterRender"),t};if(this.renderFrame&&((0,ge.cancelFrame)(this.renderFrame),this.renderFrame=null),this.resize(),this.needToProcess&&this.process(),this.needToProcess=!1,this.clear(),this.pickingLayers.forEach(function(S){return t.resetWebGLTexture(S)}),!this.graph.order)return i();var a=this.mouseCaptor,u=this.camera.isAnimated()||a.isMoving||a.draggedEvents||a.currentWheelDirection,f=this.camera.getState(),c=this.getDimensions(),v=this.getGraphDimensions(),g=this.getSetting("stagePadding")||0;this.matrix=(0,ge.matrixFromCamera)(f,c,v,g),this.invMatrix=(0,ge.matrixFromCamera)(f,c,v,g,!0),this.correctionRatio=(0,ge.getMatrixImpact)(this.matrix,f,c),this.graphToViewportRatio=this.getGraphToViewportRatio();var _={matrix:this.matrix,width:this.width,height:this.height,pixelRatio:this.pixelRatio,zoomRatio:this.camera.ratio,cameraAngle:this.camera.angle,sizeRatio:1/this.scaleSize(),correctionRatio:this.correctionRatio,downSizingRatio:this.pickingDownSizingRatio};for(var w in this.nodePrograms){var x=this.nodePrograms[w];x.render(_)}if(!this.settings.hideEdgesOnMove||!u)for(var w in this.edgePrograms){var x=this.edgePrograms[w];x.render(_)}return this.settings.hideLabelsOnMove&&u||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),i()},r.prototype.addNode=function(t){var i=Object.assign({},this.graph.getNodeAttributes(t));this.settings.nodeReducer&&(i=this.settings.nodeReducer(t,i));var a=j0(this.settings,t,i);this.nodeDataCache[t]=a,this.nodesWithForcedLabels.delete(t),a.forceLabel&&!a.hidden&&this.nodesWithForcedLabels.add(t),this.highlightedNodes.delete(t),a.highlighted&&!a.hidden&&this.highlightedNodes.add(t),this.settings.zIndex&&(a.zIndex<this.nodeZExtent[0]&&(this.nodeZExtent[0]=a.zIndex),a.zIndex>this.nodeZExtent[1]&&(this.nodeZExtent[1]=a.zIndex))},r.prototype.updateNode=function(t){this.addNode(t);var i=this.nodeDataCache[t];this.normalizationFunction.applyTo(i)},r.prototype.removeNode=function(t){delete this.nodeDataCache[t],delete this.nodeProgramIndex[t],this.highlightedNodes.delete(t),this.hoveredNode===t&&(this.hoveredNode=null),this.nodesWithForcedLabels.delete(t)},r.prototype.addEdge=function(t){var i=Object.assign({},this.graph.getEdgeAttributes(t));this.settings.edgeReducer&&(i=this.settings.edgeReducer(t,i));var a=X0(this.settings,t,i);this.edgeDataCache[t]=a,this.edgesWithForcedLabels.delete(t),a.forceLabel&&!a.hidden&&this.edgesWithForcedLabels.add(t),this.settings.zIndex&&(a.zIndex<this.edgeZExtent[0]&&(this.edgeZExtent[0]=a.zIndex),a.zIndex>this.edgeZExtent[1]&&(this.edgeZExtent[1]=a.zIndex))},r.prototype.updateEdge=function(t){this.addEdge(t)},r.prototype.removeEdge=function(t){delete this.edgeDataCache[t],delete this.edgeProgramIndex[t],this.hoveredEdge===t&&(this.hoveredEdge=null),this.edgesWithForcedLabels.delete(t)},r.prototype.clearNodeIndices=function(){this.labelGrid=new Jo.LabelGrid,this.nodeExtent={x:[0,1],y:[0,1]},this.nodeDataCache={},this.edgeProgramIndex={},this.nodesWithForcedLabels=new Set,this.nodeZExtent=[1/0,-1/0]},r.prototype.clearEdgeIndices=function(){this.edgeDataCache={},this.edgeProgramIndex={},this.edgesWithForcedLabels=new Set,this.edgeZExtent=[1/0,-1/0]},r.prototype.clearIndices=function(){this.clearEdgeIndices(),this.clearNodeIndices()},r.prototype.clearNodeState=function(){this.displayedNodeLabels=new Set,this.highlightedNodes=new Set,this.hoveredNode=null},r.prototype.clearEdgeState=function(){this.displayedEdgeLabels=new Set,this.highlightedNodes=new Set,this.hoveredEdge=null},r.prototype.clearState=function(){this.clearEdgeState(),this.clearNodeState()},r.prototype.addNodeToProgram=function(t,i,a){var u=this.nodeDataCache[t],f=this.nodePrograms[u.type];if(!f)throw new Error('Sigma: could not find a suitable program for node type "'.concat(u.type,'"!'));f.process(i,a,u),this.nodeProgramIndex[t]=a},r.prototype.addEdgeToProgram=function(t,i,a){var u=this.edgeDataCache[t],f=this.edgePrograms[u.type];if(!f)throw new Error('Sigma: could not find a suitable program for edge type "'.concat(u.type,'"!'));var c=this.graph.extremities(t),v=this.nodeDataCache[c[0]],g=this.nodeDataCache[c[1]];f.process(i,a,v,g,u),this.edgeProgramIndex[t]=a},r.prototype.getCamera=function(){return this.camera},r.prototype.setCamera=function(t){this.unbindCameraHandlers(),this.camera=t,this.bindCameraHandlers()},r.prototype.getContainer=function(){return this.container},r.prototype.getGraph=function(){return this.graph},r.prototype.setGraph=function(t){t!==this.graph&&(this.unbindGraphHandlers(),this.checkEdgesEventsFrame!==null&&((0,ge.cancelFrame)(this.checkEdgesEventsFrame),this.checkEdgesEventsFrame=null),this.graph=t,this.bindGraphHandlers(),this.refresh())},r.prototype.getMouseCaptor=function(){return this.mouseCaptor},r.prototype.getTouchCaptor=function(){return this.touchCaptor},r.prototype.getDimensions=function(){return{width:this.width,height:this.height}},r.prototype.getGraphDimensions=function(){var t=this.customBBox||this.nodeExtent;return{width:t.x[1]-t.x[0]||1,height:t.y[1]-t.y[0]||1}},r.prototype.getNodeDisplayData=function(t){var i=this.nodeDataCache[t];return i?Object.assign({},i):void 0},r.prototype.getEdgeDisplayData=function(t){var i=this.edgeDataCache[t];return i?Object.assign({},i):void 0},r.prototype.getNodeDisplayedLabels=function(){return new Set(this.displayedNodeLabels)},r.prototype.getEdgeDisplayedLabels=function(){return new Set(this.displayedEdgeLabels)},r.prototype.getSettings=function(){return re({},this.settings)},r.prototype.getSetting=function(t){return this.settings[t]},r.prototype.setSetting=function(t,i){return this.settings[t]=i,(0,ni.validateSettings)(this.settings),this.handleSettingsUpdate(),this.refresh(),this},r.prototype.updateSetting=function(t,i){return this.settings[t]=i(this.settings[t]),(0,ni.validateSettings)(this.settings),this.handleSettingsUpdate(),this.scheduleRefresh(),this},r.prototype.resize=function(){var t=this.width,i=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.pixelRatio=(0,ge.getPixelRatio)(),this.width===0)if(this.settings.allowInvalidContainer)this.width=1;else throw new Error("Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.");if(this.height===0)if(this.settings.allowInvalidContainer)this.height=1;else throw new Error("Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.");if(t===this.width&&i===this.height)return this;this.emit("resize");for(var a in this.elements){var u=this.elements[a];u.style.width=this.width+"px",u.style.height=this.height+"px"}for(var a in this.canvasContexts)this.elements[a].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[a].setAttribute("height",this.height*this.pixelRatio+"px"),this.pixelRatio!==1&&this.canvasContexts[a].scale(this.pixelRatio,this.pixelRatio);for(var a in this.webGLContexts){this.elements[a].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[a].setAttribute("height",this.height*this.pixelRatio+"px");var f=this.webGLContexts[a];if(f.viewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio),this.pickingLayers.has(a)){var c=this.textures[a];c&&f.deleteTexture(c)}}return this},r.prototype.clear=function(){return this.webGLContexts.nodes.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null),this.webGLContexts.nodes.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.webGLContexts.edges.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null),this.webGLContexts.edges.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.webGLContexts.hoverNodes.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this},r.prototype.refresh=function(t){var i=this,a,u,f=(t==null?void 0:t.skipIndexation)!==void 0?t==null?void 0:t.skipIndexation:!1,c=(t==null?void 0:t.schedule)!==void 0?t.schedule:!1,v=!t||!t.partialGraph;if(v)this.clearEdgeIndices(),this.clearNodeIndices(),this.graph.forEachNode(function(F){return i.addNode(F)}),this.graph.forEachEdge(function(F){return i.addEdge(F)});else{for(var g=((a=t.partialGraph)===null||a===void 0?void 0:a.nodes)||[],_=0,w=(g==null?void 0:g.length)||0;_<w;_++){var x=g[_];if(this.updateNode(x),f){var S=this.nodeProgramIndex[x];if(S===void 0)throw new Error('Sigma: node "'.concat(x,`" can't be repaint`));this.addNodeToProgram(x,this.nodeIndices[x],S)}}for(var R=((u=t==null?void 0:t.partialGraph)===null||u===void 0?void 0:u.edges)||[],_=0,w=R.length;_<w;_++){var N=R[_];if(this.updateEdge(N),f){var S=this.edgeProgramIndex[N];if(S===void 0)throw new Error('Sigma: edge "'.concat(N,`" can't be repaint`));this.addEdgeToProgram(N,this.edgeIndices[N],S)}}}return(v||!f)&&(this.needToProcess=!0),c?this.scheduleRender():this.render(),this},r.prototype.scheduleRender=function(){var t=this;return this.renderFrame||(this.renderFrame=(0,ge.requestFrame)(function(){t.render()})),this},r.prototype.scheduleRefresh=function(t){return this.refresh(re(re({},t),{schedule:!0}))},r.prototype.getViewportZoomedState=function(t,i){var a=this.camera.getState(),u=a.ratio,f=a.angle,c=a.x,v=a.y,g=i/u,_={x:this.width/2,y:this.height/2},w=this.viewportToFramedGraph(t),x=this.viewportToFramedGraph(_);return{angle:f,x:(w.x-x.x)*(1-g)+c,y:(w.y-x.y)*(1-g)+v,ratio:i}},r.prototype.viewRectangle=function(){var t=0*this.width/8,i=0*this.height/8,a=this.viewportToFramedGraph({x:0-t,y:0-i}),u=this.viewportToFramedGraph({x:this.width+t,y:0-i}),f=this.viewportToFramedGraph({x:0,y:this.height+i});return{x1:a.x,y1:a.y,x2:u.x,y2:u.y,height:u.y-f.y}},r.prototype.framedGraphToViewport=function(t,i){i===void 0&&(i={});var a=!!i.cameraState||!!i.viewportDimensions||!!i.graphDimensions,u=i.matrix?i.matrix:a?(0,ge.matrixFromCamera)(i.cameraState||this.camera.getState(),i.viewportDimensions||this.getDimensions(),i.graphDimensions||this.getGraphDimensions(),i.padding||this.getSetting("stagePadding")||0):this.matrix,f=(0,ri.multiplyVec2)(u,t);return{x:(1+f.x)*this.width/2,y:(1-f.y)*this.height/2}},r.prototype.viewportToFramedGraph=function(t,i){i===void 0&&(i={});var a=!!i.cameraState||!!i.viewportDimensions||!i.graphDimensions,u=i.matrix?i.matrix:a?(0,ge.matrixFromCamera)(i.cameraState||this.camera.getState(),i.viewportDimensions||this.getDimensions(),i.graphDimensions||this.getGraphDimensions(),i.padding||this.getSetting("stagePadding")||0,!0):this.invMatrix,f=(0,ri.multiplyVec2)(u,{x:t.x/this.width*2-1,y:1-t.y/this.height*2});return isNaN(f.x)&&(f.x=0),isNaN(f.y)&&(f.y=0),f},r.prototype.viewportToGraph=function(t,i){return i===void 0&&(i={}),this.normalizationFunction.inverse(this.viewportToFramedGraph(t,i))},r.prototype.graphToViewport=function(t,i){return i===void 0&&(i={}),this.framedGraphToViewport(this.normalizationFunction(t),i)},r.prototype.getGraphToViewportRatio=function(){var t={x:0,y:0},i={x:1,y:1},a=Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2)),u=this.graphToViewport(t),f=this.graphToViewport(i),c=Math.sqrt(Math.pow(u.x-f.x,2)+Math.pow(u.y-f.y,2));return c/a},r.prototype.getBBox=function(){return this.nodeExtent},r.prototype.getCustomBBox=function(){return this.customBBox},r.prototype.setCustomBBox=function(t){return this.customBBox=t,this.scheduleRender(),this},r.prototype.kill=function(){var t;this.emit("kill"),this.removeAllListeners(),this.unbindCameraHandlers(),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),this.unbindGraphHandlers(),this.clearIndices(),this.clearState(),this.nodeDataCache={},this.edgeDataCache={},this.highlightedNodes.clear(),this.renderFrame&&((0,ge.cancelFrame)(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&((0,ge.cancelFrame)(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var i in this.webGLContexts){var a=this.webGLContexts[i];(t=a.getExtension("WEBGL_lose_context"))===null||t===void 0||t.loseContext()}for(var u=this.container;u.firstChild;)u.removeChild(u.firstChild);this.canvasContexts={},this.webGLContexts={},this.elements={};for(var f in this.nodePrograms)this.nodePrograms[f].kill();for(var f in this.nodeHoverPrograms)this.nodeHoverPrograms[f].kill();for(var f in this.edgePrograms)this.edgePrograms[f].kill();this.nodePrograms={},this.nodeHoverPrograms={},this.edgePrograms={}},r.prototype.scaleSize=function(t,i){return t===void 0&&(t=1),i===void 0&&(i=this.camera.ratio),t/this.settings.zoomToSizeRatioFunction(i)*(this.getSetting("itemSizesReference")==="positions"?i*this.graphToViewportRatio:1)},r.prototype.getCanvases=function(){return re({},this.elements)},r}(q0.TypedEventEmitter);sa.default=Z0;var ya=G&&G.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ht,"__esModule",{value:!0});var bf=Ht.Sigma=Ht.MouseCaptor=Ht.Camera=void 0,Ef=ya(sa);bf=Ht.Sigma=Ef.default;var V0=ya(fi);Ht.Camera=V0.default;var J0=ya(ci);Ht.MouseCaptor=J0.default;Ht.default=Ef.default;const xf=ft.createContext(null),Q0=xf.Provider;function eb(){const o=ft.useContext(xf);if(o==null)throw new Error("No context provided: useSigmaContext() can only be used in a descendant of <SigmaContainer>");return o}function tb(){return eb().sigma}function ib(){const o=tb();return ft.useCallback((r,t=!0)=>{o&&r&&(t&&o.getGraph().order>0&&o.getGraph().clear(),o.getGraph().import(r),o.refresh())},[o])}const ob=ft.forwardRef(({graph:o,id:r,className:t,style:i,settings:a,children:u},f)=>{const c=ft.useRef(null),v=ft.useRef(null),g={className:`react-sigma ${t||""}`,id:r,style:i},[_,w]=ft.useState(null),x=ft.useRef({});Gm.isEqual(x.current,a)||(x.current=a||{}),ft.useEffect(()=>{let N=null;if(v.current!==null){const F=o?typeof o=="function"?new o:o:new ue;N=new bf(F,v.current,Object.assign({allowInvalidContainer:!0},x.current)),_&&N.getCamera().setState(_.getCamera().getState())}return w(N),()=>{N&&N.kill(),w(null)}},[v,o,x]),ft.useImperativeHandle(f,()=>_,[_]);const S=ft.useMemo(()=>_&&c.current?{sigma:_,container:c.current}:null,[_,c.current]),R=S!==null?Wo.createElement(Q0,{value:S},u):null;return Wo.createElement("div",Object.assign({},g,{ref:c}),Wo.createElement("div",{className:"sigma-container",ref:v}),R)});export{ue as G,ob as k,tb as p,ib as y};
