import{a as b,j as d}from"./jsx-runtime-29545a09.js";import{r as e}from"./index-76fb7be0.js";import{c as E,A as S}from"./index.es-11be6eab.js";import{G as y}from"./index-af6b0eaa.js";import"./_commonjsHelpers-de833af9.js";import"./gapSize-176db3ef.js";import"./toConsumableArray-3cd4081e.js";import"./isNativeReflectConstruct-4d4208e5.js";import"./index-f3b9022e.js";import"./string-5ef85f87.js";import"./index-b7949e8c.js";import"./asyncToGenerator-e43f4a97.js";import"./_getPrototype-de793928.js";import"./isPlainObject-d333cf03.js";const h=(s,n,r,i)=>{const o=[],l=[];for(let a=0;a<s;a++){let t=null;for(let c=0;c<n;c++){const u={id:`node-${c}-${a}`,x:r?Math.random()*5e3:250*c,y:r?Math.random()*5e3:100*a,type:i?"modelRect":"rect",label:"Step 1",size:[150,50]};if(o.push(u),t){const f={id:`edge-${c}-${a}`,source:t.id,target:u.id};l.push(f)}t=u}t=null}return{nodes:o,edges:l}},x=s=>{const[n,r]=e.useState(null);return e.useEffect(()=>{const i=new y({container:s.current,width:800,height:500,modes:{default:["drag-node","drag-canvas","zoom-canvas"]},plugins:[],defaultNode:{size:[80,40],type:"rect",style:{fill:"#DEE9FF",stroke:"#5B8FF9"}}});r(i)},[]),{graph:n}},A=({xCount:s,yCount:n,isCustom:r})=>{const i=e.useRef(null),o=e.useRef(null),[l,a]=e.useState(!1),{graph:t}=x(i);e.useEffect(()=>{if(!t)return;const m=h(s,n,!1,r);t.data(m),t.render()},[t,r,s,n]);const c=e.useCallback(()=>{if(!t)return;const m=h(s,n,!0,r);t.changeData(m)},[t,r,s,n]);e.useEffect(()=>{l&&!o.current&&(o.current=setInterval(()=>{c()},1e3)),!l&&o.current&&(clearInterval(o.current),o.current=null)},[l]);const u=e.useCallback(()=>{a(!0)},[]),f=e.useCallback(()=>{a(!1)},[]);return b("div",{style:{height:"70vh"},children:[d(E,{top:"80%"}),l&&d(S,{}),d("button",{onClick:u,children:"start"}),d("button",{onClick:f,children:"stop"}),d("button",{onClick:c,children:"change pos"}),d("div",{ref:i})]})},R={title:"AntvG6/stress",component:A,tags:["autodocs"]},p={args:{xCount:33,yCount:30,isCustom:!1}};var g,v,k;p.parameters={...p.parameters,docs:{...(g=p.parameters)==null?void 0:g.docs,source:{originalSource:`{
  args: {
    xCount: 33,
    yCount: 30,
    isCustom: false
  }
}`,...(k=(v=p.parameters)==null?void 0:v.docs)==null?void 0:k.source}}};const W=["Primary"];export{p as Primary,W as __namedExportsOrder,R as default};
