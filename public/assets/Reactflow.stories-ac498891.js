import{a as d,j as o,F}from"./jsx-runtime-29545a09.js";import{D as E}from"./index-8674da8b.js";import{r as i}from"./index-76fb7be0.js";import{H as u,h as p,m as k,f as v,j as L,k as P,R as M,P as _}from"./style-d32ca51a.js";import{c as j}from"./utils-0b1df067.js";import{M as S}from"./index-59b1f5f7.js";import"./_commonjsHelpers-de833af9.js";import"./string-5ef85f87.js";import"./index-f3b9022e.js";const T={left:10};function w({id:t,data:s}){const a=i.useCallback(e=>{console.log(e.target.value)},[]);return d("div",{className:"text-updater-node",children:[o(u,{type:"target",position:p.Top}),d("div",{children:[o("label",{htmlFor:"text",children:"Text:"}),o("input",{id:t,name:t,onChange:a,className:"nodrag"})]}),o(u,{type:"source",position:p.Bottom,id:"a"}),o(u,{type:"source",position:p.Bottom,id:"b",style:T})]})}w.__docgenInfo={description:"",methods:[],displayName:"CustomNode"};const n=new E.graphlib.Graph().setDefaultEdgeLabel(()=>({})),B=(t,s,a)=>(n.setGraph({rankdir:a.direction}),s.forEach(e=>n.setEdge(e.source,e.target)),t.forEach(e=>n.setNode(e.id,e)),E.layout(n),{nodes:t.map(e=>{const{x:c,y:l}=n.node(e.id);return{...e,position:{x:c,y:l}}}),edges:s}),D=()=>{const{fitView:t}=v(),{nodes:s,edges:a}=i.useMemo(()=>j({xNodes:100,yNodes:10,isCustom:!0,isRandomLinked:!0}),[]),[e,c,l]=L(s),[m,x,C]=P(a),g=i.useCallback(b=>{const h=B(e,m,{direction:b});c([...h.nodes]),x([...h.edges]),window.requestAnimationFrame(()=>{t()})},[e,m]),R=i.useMemo(()=>({customNode:w}),[]);return o(F,{children:d(M,{nodes:e,edges:m,nodeTypes:R,onNodesChange:l,onEdgesChange:C,onlyRenderVisibleElements:!1,fitView:!0,minZoom:0,children:[d(_,{position:"top-right",children:[o("button",{onClick:()=>g("TB"),children:"vertical layout"}),o("button",{onClick:()=>g("LR"),children:"horizontal layout"})]}),o(S,{})]})})},V=()=>o("div",{style:{height:"100vh"},children:o(k,{children:o(D,{})})}),J={title:"Reactflow/layout",component:V,tags:["autodocs"]},r={args:{}};var y,f,N;r.parameters={...r.parameters,docs:{...(y=r.parameters)==null?void 0:y.docs,source:{originalSource:`{
  args: {}
}`,...(N=(f=r.parameters)==null?void 0:f.docs)==null?void 0:N.source}}};const K=["Primary"];export{r as Primary,K as __namedExportsOrder,J as default};
